// ==UserScript==
// @name        Rule34 Redux V2
// @run-at      document-body
// @description A redesign of r34 with subscription and infinte scroll
// @namespace   https://github.com/mister-milky/r34-redux
// @updateURL   https://github.com/mister-milky/r34-redux/blob/main/react-userscripts.user.js
// @version     1.1.0
// @match       *://rule34.xxx/*
// @icon        https://www.google.com/s2/favicons?sz=64&domain=rule34.xxx
// @grant       xmlHttpRequest
// @grant       GM_addStyle
// ==/UserScript==

"use strict";var yl=n=>{throw TypeError(n)};var Uo=(n,r,i)=>r.has(n)||yl("Cannot "+i);var b=(n,r,i)=>(Uo(n,r,"read from private field"),i?i.call(n):r.get(n)),q=(n,r,i)=>r.has(n)?yl("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(n):r.set(n,i),D=(n,r,i,a)=>(Uo(n,r,"write to private field"),a?a.call(n,i):r.set(n,i),i),ne=(n,r,i)=>(Uo(n,r,"access private method"),i);var Yi=(n,r,i,a)=>({set _(u){D(n,r,u,i)},get _(){return b(n,r,a)}});var ls,K,_f,wn,bl,vf,ea,Aa,ta,na,mf,qr={},yf=[],p1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,fs=Array.isArray;function cn(n,r){for(var i in r)n[i]=r[i];return n}function bf(n){var r=n.parentNode;r&&r.removeChild(n)}function pr(n,r,i){var a,u,h,p={};for(h in r)h=="key"?a=r[h]:h=="ref"?u=r[h]:p[h]=r[h];if(arguments.length>2&&(p.children=arguments.length>3?ls.call(arguments,2):i),typeof n=="function"&&n.defaultProps!=null)for(h in n.defaultProps)p[h]===void 0&&(p[h]=n.defaultProps[h]);return es(n,p,a,u,null)}function es(n,r,i,a,u){var h={type:n,props:r,key:i,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:u??++_f,__i:-1,__u:0};return u==null&&K.vnode!=null&&K.vnode(h),h}function wt(n){return n.children}function bt(n,r){this.props=n,this.context=r}function Ln(n,r){if(r==null)return n.__?Ln(n.__,n.__i+1):null;for(var i;r<n.__k.length;r++)if((i=n.__k[r])!=null&&i.__e!=null)return i.__e;return typeof n.type=="function"?Ln(n):null}function wf(n){var r,i;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,r=0;r<n.__k.length;r++)if((i=n.__k[r])!=null&&i.__e!=null){n.__e=n.__c.base=i.__e;break}return wf(n)}}function ra(n){(!n.__d&&(n.__d=!0)&&wn.push(n)&&!ss.__r++||bl!==K.debounceRendering)&&((bl=K.debounceRendering)||vf)(ss)}function ss(){var n,r,i,a,u,h,p,_;for(wn.sort(ea);n=wn.shift();)n.__d&&(r=wn.length,a=void 0,h=(u=(i=n).__v).__e,p=[],_=[],i.__P&&((a=cn({},u)).__v=u.__v+1,K.vnode&&K.vnode(a),Ra(i.__P,a,u,i.__n,i.__P.namespaceURI,32&u.__u?[h]:null,p,h??Ln(u),!!(32&u.__u),_),a.__v=u.__v,a.__.__k[a.__i]=a,Cf(p,a,_),a.__e!=h&&wf(a)),wn.length>r&&wn.sort(ea));ss.__r=0}function xf(n,r,i,a,u,h,p,_,v,S,T){var y,N,I,k,O,L=a&&a.__k||yf,U=r.length;for(i.__d=v,g1(i,r,L),v=i.__d,y=0;y<U;y++)(I=i.__k[y])!=null&&typeof I!="boolean"&&typeof I!="function"&&(N=I.__i===-1?qr:L[I.__i]||qr,I.__i=y,Ra(n,I,N,u,h,p,_,v,S,T),k=I.__e,I.ref&&N.ref!=I.ref&&(N.ref&&Ia(N.ref,null,I),T.push(I.ref,I.__c||k,I)),O==null&&k!=null&&(O=k),65536&I.__u||N.__k===I.__k?v=Sf(I,v,n):typeof I.type=="function"&&I.__d!==void 0?v=I.__d:k&&(v=k.nextSibling),I.__d=void 0,I.__u&=-196609);i.__d=v,i.__e=O}function g1(n,r,i){var a,u,h,p,_,v=r.length,S=i.length,T=S,y=0;for(n.__k=[],a=0;a<v;a++)p=a+y,(u=n.__k[a]=(u=r[a])==null||typeof u=="boolean"||typeof u=="function"?null:typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?es(null,u,null,null,null):fs(u)?es(wt,{children:u},null,null,null):u.constructor===void 0&&u.__b>0?es(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u)!=null?(u.__=n,u.__b=n.__b+1,_=_1(u,i,p,T),u.__i=_,h=null,_!==-1&&(T--,(h=i[_])&&(h.__u|=131072)),h==null||h.__v===null?(_==-1&&y--,typeof u.type!="function"&&(u.__u|=65536)):_!==p&&(_==p-1?y--:_==p+1?y++:_>p?T>v-p?y+=_-p:y--:_<p&&(_==p-y?y-=_-p:y++),_!==a+y&&(u.__u|=65536))):(h=i[p])&&h.key==null&&h.__e&&(131072&h.__u)==0&&(h.__e==n.__d&&(n.__d=Ln(h)),ia(h,h,!1),i[p]=null,T--);if(T)for(a=0;a<S;a++)(h=i[a])!=null&&(131072&h.__u)==0&&(h.__e==n.__d&&(n.__d=Ln(h)),ia(h,h))}function Sf(n,r,i){var a,u;if(typeof n.type=="function"){for(a=n.__k,u=0;a&&u<a.length;u++)a[u]&&(a[u].__=n,r=Sf(a[u],r,i));return r}n.__e!=r&&(r&&n.type&&!i.contains(r)&&(r=Ln(n)),i.insertBefore(n.__e,r||null),r=n.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType===8);return r}function os(n,r){return r=r||[],n==null||typeof n=="boolean"||(fs(n)?n.some(function(i){os(i,r)}):r.push(n)),r}function _1(n,r,i,a){var u=n.key,h=n.type,p=i-1,_=i+1,v=r[i];if(v===null||v&&u==v.key&&h===v.type&&(131072&v.__u)==0)return i;if(a>(v!=null&&(131072&v.__u)==0?1:0))for(;p>=0||_<r.length;){if(p>=0){if((v=r[p])&&(131072&v.__u)==0&&u==v.key&&h===v.type)return p;p--}if(_<r.length){if((v=r[_])&&(131072&v.__u)==0&&u==v.key&&h===v.type)return _;_++}}return-1}function wl(n,r,i){r[0]==="-"?n.setProperty(r,i??""):n[r]=i==null?"":typeof i!="number"||p1.test(r)?i:i+"px"}function Zi(n,r,i,a,u){var h;e:if(r==="style")if(typeof i=="string")n.style.cssText=i;else{if(typeof a=="string"&&(n.style.cssText=a=""),a)for(r in a)i&&r in i||wl(n.style,r,"");if(i)for(r in i)a&&i[r]===a[r]||wl(n.style,r,i[r])}else if(r[0]==="o"&&r[1]==="n")h=r!==(r=r.replace(/(PointerCapture)$|Capture$/i,"$1")),r=r.toLowerCase()in n||r==="onFocusOut"||r==="onFocusIn"?r.toLowerCase().slice(2):r.slice(2),n.l||(n.l={}),n.l[r+h]=i,i?a?i.u=a.u:(i.u=Aa,n.addEventListener(r,h?na:ta,h)):n.removeEventListener(r,h?na:ta,h);else{if(u=="http://www.w3.org/2000/svg")r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r!="popover"&&r in n)try{n[r]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&r[4]!=="-"?n.removeAttribute(r):n.setAttribute(r,r=="popover"&&i==1?"":i))}}function xl(n){return function(r){if(this.l){var i=this.l[r.type+n];if(r.t==null)r.t=Aa++;else if(r.t<i.u)return;return i(K.event?K.event(r):r)}}}function Ra(n,r,i,a,u,h,p,_,v,S){var T,y,N,I,k,O,L,U,z,Y,Z,se,ve,fe,ie,oe,Pe=r.type;if(r.constructor!==void 0)return null;128&i.__u&&(v=!!(32&i.__u),h=[_=r.__e=i.__e]),(T=K.__b)&&T(r);e:if(typeof Pe=="function")try{if(U=r.props,z="prototype"in Pe&&Pe.prototype.render,Y=(T=Pe.contextType)&&a[T.__c],Z=T?Y?Y.props.value:T.__:a,i.__c?L=(y=r.__c=i.__c).__=y.__E:(z?r.__c=y=new Pe(U,Z):(r.__c=y=new bt(U,Z),y.constructor=Pe,y.render=m1),Y&&Y.sub(y),y.props=U,y.state||(y.state={}),y.context=Z,y.__n=a,N=y.__d=!0,y.__h=[],y._sb=[]),z&&y.__s==null&&(y.__s=y.state),z&&Pe.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=cn({},y.__s)),cn(y.__s,Pe.getDerivedStateFromProps(U,y.__s))),I=y.props,k=y.state,y.__v=r,N)z&&Pe.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),z&&y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if(z&&Pe.getDerivedStateFromProps==null&&U!==I&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(U,Z),!y.__e&&(y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(U,y.__s,Z)===!1||r.__v===i.__v)){for(r.__v!==i.__v&&(y.props=U,y.state=y.__s,y.__d=!1),r.__e=i.__e,r.__k=i.__k,r.__k.forEach(function(Ke){Ke&&(Ke.__=r)}),se=0;se<y._sb.length;se++)y.__h.push(y._sb[se]);y._sb=[],y.__h.length&&p.push(y);break e}y.componentWillUpdate!=null&&y.componentWillUpdate(U,y.__s,Z),z&&y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(I,k,O)})}if(y.context=Z,y.props=U,y.__P=n,y.__e=!1,ve=K.__r,fe=0,z){for(y.state=y.__s,y.__d=!1,ve&&ve(r),T=y.render(y.props,y.state,y.context),ie=0;ie<y._sb.length;ie++)y.__h.push(y._sb[ie]);y._sb=[]}else do y.__d=!1,ve&&ve(r),T=y.render(y.props,y.state,y.context),y.state=y.__s;while(y.__d&&++fe<25);y.state=y.__s,y.getChildContext!=null&&(a=cn(cn({},a),y.getChildContext())),z&&!N&&y.getSnapshotBeforeUpdate!=null&&(O=y.getSnapshotBeforeUpdate(I,k)),xf(n,fs(oe=T!=null&&T.type===wt&&T.key==null?T.props.children:T)?oe:[oe],r,i,a,u,h,p,_,v,S),y.base=r.__e,r.__u&=-161,y.__h.length&&p.push(y),L&&(y.__E=y.__=null)}catch(Ke){if(r.__v=null,v||h!=null){for(r.__u|=v?160:32;_&&_.nodeType===8&&_.nextSibling;)_=_.nextSibling;h[h.indexOf(_)]=null,r.__e=_}else r.__e=i.__e,r.__k=i.__k;K.__e(Ke,r,i)}else h==null&&r.__v===i.__v?(r.__k=i.__k,r.__e=i.__e):r.__e=v1(i.__e,r,i,a,u,h,p,v,S);(T=K.diffed)&&T(r)}function Cf(n,r,i){r.__d=void 0;for(var a=0;a<i.length;a++)Ia(i[a],i[++a],i[++a]);K.__c&&K.__c(r,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(h){h.call(u)})}catch(h){K.__e(h,u.__v)}})}function v1(n,r,i,a,u,h,p,_,v){var S,T,y,N,I,k,O,L=i.props,U=r.props,z=r.type;if(z==="svg"?u="http://www.w3.org/2000/svg":z==="math"?u="http://www.w3.org/1998/Math/MathML":u||(u="http://www.w3.org/1999/xhtml"),h!=null){for(S=0;S<h.length;S++)if((I=h[S])&&"setAttribute"in I==!!z&&(z?I.localName===z:I.nodeType===3)){n=I,h[S]=null;break}}if(n==null){if(z===null)return document.createTextNode(U);n=document.createElementNS(u,z,U.is&&U),h=null,_=!1}if(z===null)L===U||_&&n.data===U||(n.data=U);else{if(h=h&&ls.call(n.childNodes),L=i.props||qr,!_&&h!=null)for(L={},S=0;S<n.attributes.length;S++)L[(I=n.attributes[S]).name]=I.value;for(S in L)if(I=L[S],S!="children"){if(S=="dangerouslySetInnerHTML")y=I;else if(S!=="key"&&!(S in U)){if(S=="value"&&"defaultValue"in U||S=="checked"&&"defaultChecked"in U)continue;Zi(n,S,null,I,u)}}for(S in U)I=U[S],S=="children"?N=I:S=="dangerouslySetInnerHTML"?T=I:S=="value"?k=I:S=="checked"?O=I:S==="key"||_&&typeof I!="function"||L[S]===I||Zi(n,S,I,L[S],u);if(T)_||y&&(T.__html===y.__html||T.__html===n.innerHTML)||(n.innerHTML=T.__html),r.__k=[];else if(y&&(n.innerHTML=""),xf(n,fs(N)?N:[N],r,i,a,z==="foreignObject"?"http://www.w3.org/1999/xhtml":u,h,p,h?h[0]:i.__k&&Ln(i,0),_,v),h!=null)for(S=h.length;S--;)h[S]!=null&&bf(h[S]);_||(S="value",k!==void 0&&(k!==n[S]||z==="progress"&&!k||z==="option"&&k!==L[S])&&Zi(n,S,k,L[S],u),S="checked",O!==void 0&&O!==n[S]&&Zi(n,S,O,L[S],u))}return n}function Ia(n,r,i){try{if(typeof n=="function"){var a=typeof n.__u=="function";a&&n.__u(),a&&r==null||(n.__u=n(r))}else n.current=r}catch(u){K.__e(u,i)}}function ia(n,r,i){var a,u;if(K.unmount&&K.unmount(n),(a=n.ref)&&(a.current&&a.current!==n.__e||Ia(a,null,r)),(a=n.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(h){K.__e(h,r)}a.base=a.__P=null}if(a=n.__k)for(u=0;u<a.length;u++)a[u]&&ia(a[u],r,i||typeof n.type!="function");i||n.__e==null||bf(n.__e),n.__c=n.__=n.__e=n.__d=void 0}function m1(n,r,i){return this.constructor(n,i)}function Pf(n,r,i){var a,u,h,p;K.__&&K.__(n,r),u=(a=!1)?null:r.__k,h=[],p=[],Ra(r,n=r.__k=pr(wt,null,[n]),u||qr,qr,r.namespaceURI,u?null:r.firstChild?ls.call(r.childNodes):null,h,u?u.__e:r.firstChild,a,p),Cf(h,n,p)}function hs(n,r){var i={__c:r="__cC"+mf++,__:n,Consumer:function(a,u){return a.children(u)},Provider:function(a){var u,h;return this.getChildContext||(u=[],(h={})[r]=this,this.getChildContext=function(){return h},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(p){this.props.value!==p.value&&u.some(function(_){_.__e=!0,ra(_)})},this.sub=function(p){u.push(p);var _=p.componentWillUnmount;p.componentWillUnmount=function(){u&&u.splice(u.indexOf(p),1),_&&_.call(p)}}),a.children}};return i.Provider.__=i.Consumer.contextType=i}ls=yf.slice,K={__e:function(n,r,i,a){for(var u,h,p;r=r.__;)if((u=r.__c)&&!u.__)try{if((h=u.constructor)&&h.getDerivedStateFromError!=null&&(u.setState(h.getDerivedStateFromError(n)),p=u.__d),u.componentDidCatch!=null&&(u.componentDidCatch(n,a||{}),p=u.__d),p)return u.__E=u}catch(_){n=_}throw n}},_f=0,bt.prototype.setState=function(n,r){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=cn({},this.state),typeof n=="function"&&(n=n(cn({},i),this.props)),n&&cn(i,n),n!=null&&this.__v&&(r&&this._sb.push(r),ra(this))},bt.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),ra(this))},bt.prototype.render=wt,wn=[],vf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ea=function(n,r){return n.__v.__b-r.__v.__b},ss.__r=0,Aa=0,ta=xl(!1),na=xl(!0),mf=0;var Nn,_e,Bo,Sl,zr=0,Tf=[],Ce=K,Cl=Ce.__b,Pl=Ce.__r,Tl=Ce.diffed,Al=Ce.__c,Rl=Ce.unmount,Il=Ce.__;function Jr(n,r){Ce.__h&&Ce.__h(_e,n,zr||r),zr=0;var i=_e.__H||(_e.__H={__:[],__h:[]});return n>=i.__.length&&i.__.push({}),i.__[n]}function Ge(n){return zr=1,y1(Af,n)}function y1(n,r,i){var a=Jr(Nn++,2);if(a.t=n,!a.__c&&(a.__=[i?i(r):Af(void 0,r),function(_){var v=a.__N?a.__N[0]:a.__[0],S=a.t(v,_);v!==S&&(a.__N=[S,a.__[1]],a.__c.setState({}))}],a.__c=_e,!_e.u)){var u=function(_,v,S){if(!a.__c.__H)return!0;var T=a.__c.__H.__.filter(function(N){return!!N.__c});if(T.every(function(N){return!N.__N}))return!h||h.call(this,_,v,S);var y=!1;return T.forEach(function(N){if(N.__N){var I=N.__[0];N.__=N.__N,N.__N=void 0,I!==N.__[0]&&(y=!0)}}),!(!y&&a.__c.props===_)&&(!h||h.call(this,_,v,S))};_e.u=!0;var h=_e.shouldComponentUpdate,p=_e.componentWillUpdate;_e.componentWillUpdate=function(_,v,S){if(this.__e){var T=h;h=void 0,u(_,v,S),h=T}p&&p.call(this,_,v,S)},_e.shouldComponentUpdate=u}return a.__N||a.__}function Ot(n,r){var i=Jr(Nn++,3);!Ce.__s&&Oa(i.__H,r)&&(i.__=n,i.i=r,_e.__H.__h.push(i))}function b1(n,r){var i=Jr(Nn++,4);!Ce.__s&&Oa(i.__H,r)&&(i.__=n,i.i=r,_e.__h.push(i))}function as(n){return zr=5,ln(function(){return{current:n}},[])}function ln(n,r){var i=Jr(Nn++,7);return Oa(i.__H,r)&&(i.__=n(),i.__H=r,i.__h=n),i.__}function et(n,r){return zr=8,ln(function(){return n},r)}function Ea(n){var r=_e.context[n.__c],i=Jr(Nn++,9);return i.c=n,r?(i.__==null&&(i.__=!0,r.sub(_e)),r.props.value):n.__}function w1(){for(var n;n=Tf.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(ts),n.__H.__h.forEach(sa),n.__H.__h=[]}catch(r){n.__H.__h=[],Ce.__e(r,n.__v)}}Ce.__b=function(n){_e=null,Cl&&Cl(n)},Ce.__=function(n,r){n&&r.__k&&r.__k.__m&&(n.__m=r.__k.__m),Il&&Il(n,r)},Ce.__r=function(n){Pl&&Pl(n),Nn=0;var r=(_e=n.__c).__H;r&&(Bo===_e?(r.__h=[],_e.__h=[],r.__.forEach(function(i){i.__N&&(i.__=i.__N),i.i=i.__N=void 0})):(r.__h.forEach(ts),r.__h.forEach(sa),r.__h=[],Nn=0)),Bo=_e},Ce.diffed=function(n){Tl&&Tl(n);var r=n.__c;r&&r.__H&&(r.__H.__h.length&&(Tf.push(r)!==1&&Sl===Ce.requestAnimationFrame||((Sl=Ce.requestAnimationFrame)||x1)(w1)),r.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.i=void 0})),Bo=_e=null},Ce.__c=function(n,r){r.some(function(i){try{i.__h.forEach(ts),i.__h=i.__h.filter(function(a){return!a.__||sa(a)})}catch(a){r.some(function(u){u.__h&&(u.__h=[])}),r=[],Ce.__e(a,i.__v)}}),Al&&Al(n,r)},Ce.unmount=function(n){Rl&&Rl(n);var r,i=n.__c;i&&i.__H&&(i.__H.__.forEach(function(a){try{ts(a)}catch(u){r=u}}),i.__H=void 0,r&&Ce.__e(r,i.__v))};var El=typeof requestAnimationFrame=="function";function x1(n){var r,i=function(){clearTimeout(a),El&&cancelAnimationFrame(r),setTimeout(n)},a=setTimeout(i,100);El&&(r=requestAnimationFrame(i))}function ts(n){var r=_e,i=n.__c;typeof i=="function"&&(n.__c=void 0,i()),_e=r}function sa(n){var r=_e;n.__c=n.__(),_e=r}function Oa(n,r){return!n||n.length!==r.length||r.some(function(i,a){return i!==n[a]})}function Af(n,r){return typeof r=="function"?r(n):r}function S1(n,r){for(var i in r)n[i]=r[i];return n}function oa(n,r){for(var i in n)if(i!=="__source"&&!(i in r))return!0;for(var a in r)if(a!=="__source"&&n[a]!==r[a])return!0;return!1}function Ol(n,r){this.props=n,this.context=r}function C1(n,r){function i(u){var h=this.props.ref,p=h==u.ref;return!p&&h&&(h.call?h(null):h.current=null),r?!r(this.props,u)||!p:oa(this.props,u)}function a(u){return this.shouldComponentUpdate=i,pr(n,u)}return a.displayName="Memo("+(n.displayName||n.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}(Ol.prototype=new bt).isPureReactComponent=!0,Ol.prototype.shouldComponentUpdate=function(n,r){return oa(this.props,n)||oa(this.state,r)};var Ll=K.__b;K.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),Ll&&Ll(n)};var P1=K.__e;K.__e=function(n,r,i,a){if(n.then){for(var u,h=r;h=h.__;)if((u=h.__c)&&u.__c)return r.__e==null&&(r.__e=i.__e,r.__k=i.__k),u.__c(n,r)}P1(n,r,i,a)};var Nl=K.unmount;function Rf(n,r,i){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(a){typeof a.__c=="function"&&a.__c()}),n.__c.__H=null),(n=S1({},n)).__c!=null&&(n.__c.__P===i&&(n.__c.__P=r),n.__c=null),n.__k=n.__k&&n.__k.map(function(a){return Rf(a,r,i)})),n}function If(n,r,i){return n&&i&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(a){return If(a,r,i)}),n.__c&&n.__c.__P===r&&(n.__e&&i.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=i)),n}function ns(){this.__u=0,this.t=null,this.__b=null}function Ef(n){var r=n.__.__c;return r&&r.__a&&r.__a(n)}function Xi(){this.u=null,this.o=null}K.unmount=function(n){var r=n.__c;r&&r.__R&&r.__R(),r&&32&n.__u&&(n.type=null),Nl&&Nl(n)},(ns.prototype=new bt).__c=function(n,r){var i=r.__c,a=this;a.t==null&&(a.t=[]),a.t.push(i);var u=Ef(a.__v),h=!1,p=function(){h||(h=!0,i.__R=null,u?u(_):_())};i.__R=p;var _=function(){if(!--a.__u){if(a.state.__a){var v=a.state.__a;a.__v.__k[0]=If(v,v.__c.__P,v.__c.__O)}var S;for(a.setState({__a:a.__b=null});S=a.t.pop();)S.forceUpdate()}};a.__u++||32&r.__u||a.setState({__a:a.__b=a.__v.__k[0]}),n.then(p,p)},ns.prototype.componentWillUnmount=function(){this.t=[]},ns.prototype.render=function(n,r){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=Rf(this.__b,i,a.__O=a.__P)}this.__b=null}var u=r.__a&&pr(wt,null,n.fallback);return u&&(u.__u&=-33),[pr(wt,null,r.__a?null:n.children),u]};var Fl=function(n,r,i){if(++i[1]===i[0]&&n.o.delete(r),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(i=n.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;n.u=i=i[2]}};(Xi.prototype=new bt).__a=function(n){var r=this,i=Ef(r.__v),a=r.o.get(n);return a[0]++,function(u){var h=function(){r.props.revealOrder?(a.push(u),Fl(r,n,a)):u()};i?i(h):h()}},Xi.prototype.render=function(n){this.u=null,this.o=new Map;var r=os(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&r.reverse();for(var i=r.length;i--;)this.o.set(r[i],this.u=[1,0,this.u]);return n.children},Xi.prototype.componentDidUpdate=Xi.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(r,i){Fl(n,i,r)})};var Of=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,T1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,A1=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,R1=/[A-Z0-9]/g,I1=typeof document<"u",E1=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};function O1(n,r,i){return r.__k==null&&(r.textContent=""),Pf(n,r),typeof i=="function"&&i(),n?n.__c:null}bt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(bt.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(r){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:r})}})});var Ml=K.event;function L1(){}function N1(){return this.cancelBubble}function F1(){return this.defaultPrevented}K.event=function(n){return Ml&&(n=Ml(n)),n.persist=L1,n.isPropagationStopped=N1,n.isDefaultPrevented=F1,n.nativeEvent=n};var M1={enumerable:!1,configurable:!0,get:function(){return this.class}},Dl=K.vnode;K.vnode=function(n){typeof n.type=="string"&&function(r){var i=r.props,a=r.type,u={},h=a.indexOf("-")===-1;for(var p in i){var _=i[p];if(!(p==="value"&&"defaultValue"in i&&_==null||I1&&p==="children"&&a==="noscript"||p==="class"||p==="className")){var v=p.toLowerCase();p==="defaultValue"&&"value"in i&&i.value==null?p="value":p==="download"&&_===!0?_="":v==="translate"&&_==="no"?_=!1:v[0]==="o"&&v[1]==="n"?v==="ondoubleclick"?p="ondblclick":v!=="onchange"||a!=="input"&&a!=="textarea"||E1(i.type)?v==="onfocus"?p="onfocusin":v==="onblur"?p="onfocusout":A1.test(p)&&(p=v):v=p="oninput":h&&T1.test(p)?p=p.replace(R1,"-$&").toLowerCase():_===null&&(_=void 0),v==="oninput"&&u[p=v]&&(p="oninputCapture"),u[p]=_}}a=="select"&&u.multiple&&Array.isArray(u.value)&&(u.value=os(i.children).forEach(function(S){S.props.selected=u.value.indexOf(S.props.value)!=-1})),a=="select"&&u.defaultValue!=null&&(u.value=os(i.children).forEach(function(S){S.props.selected=u.multiple?u.defaultValue.indexOf(S.props.value)!=-1:u.defaultValue==S.props.value})),i.class&&!i.className?(u.class=i.class,Object.defineProperty(u,"className",M1)):(i.className&&!i.class||i.class&&i.className)&&(u.class=u.className=i.className),r.props=u}(n),n.$$typeof=Of,Dl&&Dl(n)};var kl=K.__r;K.__r=function(n){kl&&kl(n),n.__c};var Ul=K.diffed;K.diffed=function(n){Ul&&Ul(n);var r=n.props,i=n.__e;i!=null&&n.type==="textarea"&&"value"in r&&r.value!==i.value&&(i.value=r.value==null?"":r.value)};function D1(n){return!!n&&n.$$typeof===Of}function k1(n){return!!n.__k&&(Pf(null,n),!0)}var U1=wt;function B1(n,r){var i=r(),a=Ge({h:{__:i,v:r}}),u=a[0].h,h=a[1];return b1(function(){u.__=i,u.v=r,Wo(u)&&h({h:u})},[n,i,r]),Ot(function(){return Wo(u)&&h({h:u}),n(function(){Wo(u)&&h({h:u})})},[n]),i}function Wo(n){var r,i,a=n.v,u=n.__;try{var h=a();return!((r=u)===(i=h)&&(r!==0||1/r==1/i)||r!=r&&i!=i)}catch{return!0}}var W1={StrictMode:U1},Vr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fn=typeof window>"u"||"Deno"in globalThis;function lt(){}function $1(n,r){return typeof n=="function"?n(r):n}function aa(n){return typeof n=="number"&&n>=0&&n!==1/0}function Lf(n,r){return Math.max(n+(r||0)-Date.now(),0)}function jn(n,r){return typeof n=="function"?n(r):n}function yt(n,r){return typeof n=="function"?n(r):n}function Bl(n,r){const{type:i="all",exact:a,fetchStatus:u,predicate:h,queryKey:p,stale:_}=n;if(p){if(a){if(r.queryHash!==La(p,r.options))return!1}else if(!Gr(r.queryKey,p))return!1}if(i!=="all"){const v=r.isActive();if(i==="active"&&!v||i==="inactive"&&v)return!1}return!(typeof _=="boolean"&&r.isStale()!==_||u&&u!==r.state.fetchStatus||h&&!h(r))}function Wl(n,r){const{exact:i,status:a,predicate:u,mutationKey:h}=n;if(h){if(!r.options.mutationKey)return!1;if(i){if(Qr(r.options.mutationKey)!==Qr(h))return!1}else if(!Gr(r.options.mutationKey,h))return!1}return!(a&&r.state.status!==a||u&&!u(r))}function La(n,r){return((r==null?void 0:r.queryKeyHashFn)||Qr)(n)}function Qr(n){return JSON.stringify(n,(r,i)=>ca(i)?Object.keys(i).sort().reduce((a,u)=>(a[u]=i[u],a),{}):i)}function Gr(n,r){return n===r?!0:typeof n!=typeof r?!1:n&&r&&typeof n=="object"&&typeof r=="object"?!Object.keys(r).some(i=>!Gr(n[i],r[i])):!1}function Nf(n,r){if(n===r)return n;const i=$l(n)&&$l(r);if(i||ca(n)&&ca(r)){const a=i?n:Object.keys(n),u=a.length,h=i?r:Object.keys(r),p=h.length,_=i?[]:{};let v=0;for(let S=0;S<p;S++){const T=i?S:h[S];(!i&&a.includes(T)||i)&&n[T]===void 0&&r[T]===void 0?(_[T]=void 0,v++):(_[T]=Nf(n[T],r[T]),_[T]===n[T]&&n[T]!==void 0&&v++)}return u===p&&v===u?n:_}return r}function ua(n,r){if(!r||Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}function $l(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ca(n){if(!Hl(n))return!1;const r=n.constructor;if(r===void 0)return!0;const i=r.prototype;return!(!Hl(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Hl(n){return Object.prototype.toString.call(n)==="[object Object]"}function H1(n){return new Promise(r=>{setTimeout(r,n)})}function la(n,r,i){return typeof i.structuralSharing=="function"?i.structuralSharing(n,r):i.structuralSharing!==!1?Nf(n,r):r}function q1(n){return n}function z1(n,r,i=0){const a=[...n,r];return i&&a.length>i?a.slice(1):a}function Q1(n,r,i=0){const a=[r,...n];return i&&a.length>i?a.slice(0,-1):a}var Na=Symbol();function Ff(n,r){return!n.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!n.queryFn||n.queryFn===Na?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Sn,tn,tr,af,G1=(af=class extends Vr{constructor(){super();q(this,Sn);q(this,tn);q(this,tr);D(this,tr,r=>{if(!Fn&&window.addEventListener){const i=()=>r();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){b(this,tn)||this.setEventListener(b(this,tr))}onUnsubscribe(){var r;this.hasListeners()||((r=b(this,tn))==null||r.call(this),D(this,tn,void 0))}setEventListener(r){var i;D(this,tr,r),(i=b(this,tn))==null||i.call(this),D(this,tn,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){b(this,Sn)!==r&&(D(this,Sn,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(i=>{i(r)})}isFocused(){var r;return typeof b(this,Sn)=="boolean"?b(this,Sn):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Sn=new WeakMap,tn=new WeakMap,tr=new WeakMap,af),Fa=new G1,nr,nn,rr,uf,K1=(uf=class extends Vr{constructor(){super();q(this,nr,!0);q(this,nn);q(this,rr);D(this,rr,r=>{if(!Fn&&window.addEventListener){const i=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}}})}onSubscribe(){b(this,nn)||this.setEventListener(b(this,rr))}onUnsubscribe(){var r;this.hasListeners()||((r=b(this,nn))==null||r.call(this),D(this,nn,void 0))}setEventListener(r){var i;D(this,rr,r),(i=b(this,nn))==null||i.call(this),D(this,nn,r(this.setOnline.bind(this)))}setOnline(r){b(this,nr)!==r&&(D(this,nr,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return b(this,nr)}},nr=new WeakMap,nn=new WeakMap,rr=new WeakMap,uf),us=new K1;function fa(){let n,r;const i=new Promise((u,h)=>{n=u,r=h});i.status="pending",i.catch(()=>{});function a(u){Object.assign(i,u),delete i.resolve,delete i.reject}return i.resolve=u=>{a({status:"fulfilled",value:u}),n(u)},i.reject=u=>{a({status:"rejected",reason:u}),r(u)},i}function Y1(n){return Math.min(1e3*2**n,3e4)}function Mf(n){return(n??"online")==="online"?us.isOnline():!0}var Df=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function $o(n){return n instanceof Df}function kf(n){let r=!1,i=0,a=!1,u;const h=fa(),p=O=>{var L;a||(N(new Df(O)),(L=n.abort)==null||L.call(n))},_=()=>{r=!0},v=()=>{r=!1},S=()=>Fa.isFocused()&&(n.networkMode==="always"||us.isOnline())&&n.canRun(),T=()=>Mf(n.networkMode)&&n.canRun(),y=O=>{var L;a||(a=!0,(L=n.onSuccess)==null||L.call(n,O),u==null||u(),h.resolve(O))},N=O=>{var L;a||(a=!0,(L=n.onError)==null||L.call(n,O),u==null||u(),h.reject(O))},I=()=>new Promise(O=>{var L;u=U=>{(a||S())&&O(U)},(L=n.onPause)==null||L.call(n)}).then(()=>{var O;u=void 0,a||(O=n.onContinue)==null||O.call(n)}),k=()=>{if(a)return;let O;const L=i===0?n.initialPromise:void 0;try{O=L??n.fn()}catch(U){O=Promise.reject(U)}Promise.resolve(O).then(y).catch(U=>{var ve;if(a)return;const z=n.retry??(Fn?0:3),Y=n.retryDelay??Y1,Z=typeof Y=="function"?Y(i,U):Y,se=z===!0||typeof z=="number"&&i<z||typeof z=="function"&&z(i,U);if(r||!se){N(U);return}i++,(ve=n.onFail)==null||ve.call(n,i,U),H1(Z).then(()=>S()?void 0:I()).then(()=>{r?N(U):k()})})};return{promise:h,cancel:p,continue:()=>(u==null||u(),h),cancelRetry:_,continueRetry:v,canStart:T,start:()=>(T()?k():I().then(k),h)}}function Z1(){let n=[],r=0,i=_=>{_()},a=_=>{_()},u=_=>setTimeout(_,0);const h=_=>{r?n.push(_):u(()=>{i(_)})},p=()=>{const _=n;n=[],_.length&&u(()=>{a(()=>{_.forEach(v=>{i(v)})})})};return{batch:_=>{let v;r++;try{v=_()}finally{r--,r||p()}return v},batchCalls:_=>(...v)=>{h(()=>{_(...v)})},schedule:h,setNotifyFunction:_=>{i=_},setBatchNotifyFunction:_=>{a=_},setScheduler:_=>{u=_}}}var Oe=Z1(),Cn,cf,Uf=(cf=class{constructor(){q(this,Cn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aa(this.gcTime)&&D(this,Cn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Fn?1/0:5*60*1e3))}clearGcTimeout(){b(this,Cn)&&(clearTimeout(b(this,Cn)),D(this,Cn,void 0))}},Cn=new WeakMap,cf),ir,sr,ct,Pn,Fe,Kr,Tn,vt,qt,lf,X1=(lf=class extends Uf{constructor(r){super();q(this,vt);q(this,ir);q(this,sr);q(this,ct);q(this,Pn);q(this,Fe);q(this,Kr);q(this,Tn);D(this,Tn,!1),D(this,Kr,r.defaultOptions),this.setOptions(r.options),this.observers=[],D(this,Pn,r.client),D(this,ct,b(this,Pn).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,D(this,ir,J1(this.options)),this.state=r.state??b(this,ir),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=b(this,Fe))==null?void 0:r.promise}setOptions(r){this.options={...b(this,Kr),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&b(this,ct).remove(this)}setData(r,i){const a=la(this.state.data,r,this.options);return ne(this,vt,qt).call(this,{data:a,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),a}setState(r,i){ne(this,vt,qt).call(this,{type:"setState",state:r,setStateOptions:i})}cancel(r){var a,u;const i=(a=b(this,Fe))==null?void 0:a.promise;return(u=b(this,Fe))==null||u.cancel(r),i?i.then(lt).catch(lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(b(this,ir))}isActive(){return this.observers.some(r=>yt(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Na||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!Lf(this.state.dataUpdatedAt,r)}onFocus(){var i;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(i=b(this,Fe))==null||i.continue()}onOnline(){var i;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(i=b(this,Fe))==null||i.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),b(this,ct).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(i=>i!==r),this.observers.length||(b(this,Fe)&&(b(this,Tn)?b(this,Fe).cancel({revert:!0}):b(this,Fe).cancelRetry()),this.scheduleGc()),b(this,ct).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,vt,qt).call(this,{type:"invalidate"})}fetch(r,i){var v,S,T;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(b(this,Fe))return b(this,Fe).continueRetry(),b(this,Fe).promise}if(r&&this.setOptions(r),!this.options.queryFn){const y=this.observers.find(N=>N.options.queryFn);y&&this.setOptions(y.options)}const a=new AbortController,u=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(D(this,Tn,!0),a.signal)})},h=()=>{const y=Ff(this.options,i),N={client:b(this,Pn),queryKey:this.queryKey,meta:this.meta};return u(N),D(this,Tn,!1),this.options.persister?this.options.persister(y,N,this):y(N)},p={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:b(this,Pn),state:this.state,fetchFn:h};u(p),(v=this.options.behavior)==null||v.onFetch(p,this),D(this,sr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((S=p.fetchOptions)==null?void 0:S.meta))&&ne(this,vt,qt).call(this,{type:"fetch",meta:(T=p.fetchOptions)==null?void 0:T.meta});const _=y=>{var N,I,k,O;$o(y)&&y.silent||ne(this,vt,qt).call(this,{type:"error",error:y}),$o(y)||((I=(N=b(this,ct).config).onError)==null||I.call(N,y,this),(O=(k=b(this,ct).config).onSettled)==null||O.call(k,this.state.data,y,this)),this.scheduleGc()};return D(this,Fe,kf({initialPromise:i==null?void 0:i.initialPromise,fn:p.fetchFn,abort:a.abort.bind(a),onSuccess:y=>{var N,I,k,O;if(y===void 0){_(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(L){_(L);return}(I=(N=b(this,ct).config).onSuccess)==null||I.call(N,y,this),(O=(k=b(this,ct).config).onSettled)==null||O.call(k,y,this.state.error,this),this.scheduleGc()},onError:_,onFail:(y,N)=>{ne(this,vt,qt).call(this,{type:"failed",failureCount:y,error:N})},onPause:()=>{ne(this,vt,qt).call(this,{type:"pause"})},onContinue:()=>{ne(this,vt,qt).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0})),b(this,Fe).start()}},ir=new WeakMap,sr=new WeakMap,ct=new WeakMap,Pn=new WeakMap,Fe=new WeakMap,Kr=new WeakMap,Tn=new WeakMap,vt=new WeakSet,qt=function(r){const i=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Bf(a.data,this.options),fetchMeta:r.meta??null};case"success":return{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=r.error;return $o(u)&&u.revert&&b(this,sr)?{...b(this,sr),fetchStatus:"idle"}:{...a,error:u,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=i(this.state),Oe.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),b(this,ct).notify({query:this,type:"updated",action:r})})},lf);function Bf(n,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mf(r.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function J1(n){const r=typeof n.initialData=="function"?n.initialData():n.initialData,i=r!==void 0,a=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:i?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var Tt,ff,V1=(ff=class extends Vr{constructor(r={}){super();q(this,Tt);this.config=r,D(this,Tt,new Map)}build(r,i,a){const u=i.queryKey,h=i.queryHash??La(u,i);let p=this.get(h);return p||(p=new X1({client:r,queryKey:u,queryHash:h,options:r.defaultQueryOptions(i),state:a,defaultOptions:r.getQueryDefaults(u)}),this.add(p)),p}add(r){b(this,Tt).has(r.queryHash)||(b(this,Tt).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const i=b(this,Tt).get(r.queryHash);i&&(r.destroy(),i===r&&b(this,Tt).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Oe.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return b(this,Tt).get(r)}getAll(){return[...b(this,Tt).values()]}find(r){const i={exact:!0,...r};return this.getAll().find(a=>Bl(i,a))}findAll(r={}){const i=this.getAll();return Object.keys(r).length>0?i.filter(a=>Bl(r,a)):i}notify(r){Oe.batch(()=>{this.listeners.forEach(i=>{i(r)})})}onFocus(){Oe.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Oe.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Tt=new WeakMap,ff),At,Ue,An,Rt,en,hf,j1=(hf=class extends Uf{constructor(r){super();q(this,Rt);q(this,At);q(this,Ue);q(this,An);this.mutationId=r.mutationId,D(this,Ue,r.mutationCache),D(this,At,[]),this.state=r.state||ey(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){b(this,At).includes(r)||(b(this,At).push(r),this.clearGcTimeout(),b(this,Ue).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){D(this,At,b(this,At).filter(i=>i!==r)),this.scheduleGc(),b(this,Ue).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){b(this,At).length||(this.state.status==="pending"?this.scheduleGc():b(this,Ue).remove(this))}continue(){var r;return((r=b(this,An))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var u,h,p,_,v,S,T,y,N,I,k,O,L,U,z,Y,Z,se,ve,fe;D(this,An,kf({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(ie,oe)=>{ne(this,Rt,en).call(this,{type:"failed",failureCount:ie,error:oe})},onPause:()=>{ne(this,Rt,en).call(this,{type:"pause"})},onContinue:()=>{ne(this,Rt,en).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>b(this,Ue).canRun(this)}));const i=this.state.status==="pending",a=!b(this,An).canStart();try{if(!i){ne(this,Rt,en).call(this,{type:"pending",variables:r,isPaused:a}),await((h=(u=b(this,Ue).config).onMutate)==null?void 0:h.call(u,r,this));const oe=await((_=(p=this.options).onMutate)==null?void 0:_.call(p,r));oe!==this.state.context&&ne(this,Rt,en).call(this,{type:"pending",context:oe,variables:r,isPaused:a})}const ie=await b(this,An).start();return await((S=(v=b(this,Ue).config).onSuccess)==null?void 0:S.call(v,ie,r,this.state.context,this)),await((y=(T=this.options).onSuccess)==null?void 0:y.call(T,ie,r,this.state.context)),await((I=(N=b(this,Ue).config).onSettled)==null?void 0:I.call(N,ie,null,this.state.variables,this.state.context,this)),await((O=(k=this.options).onSettled)==null?void 0:O.call(k,ie,null,r,this.state.context)),ne(this,Rt,en).call(this,{type:"success",data:ie}),ie}catch(ie){try{throw await((U=(L=b(this,Ue).config).onError)==null?void 0:U.call(L,ie,r,this.state.context,this)),await((Y=(z=this.options).onError)==null?void 0:Y.call(z,ie,r,this.state.context)),await((se=(Z=b(this,Ue).config).onSettled)==null?void 0:se.call(Z,void 0,ie,this.state.variables,this.state.context,this)),await((fe=(ve=this.options).onSettled)==null?void 0:fe.call(ve,void 0,ie,r,this.state.context)),ie}finally{ne(this,Rt,en).call(this,{type:"error",error:ie})}}finally{b(this,Ue).runNext(this)}}},At=new WeakMap,Ue=new WeakMap,An=new WeakMap,Rt=new WeakSet,en=function(r){const i=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=i(this.state),Oe.batch(()=>{b(this,At).forEach(a=>{a.onMutationUpdate(r)}),b(this,Ue).notify({mutation:this,type:"updated",action:r})})},hf);function ey(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zt,mt,Yr,df,ty=(df=class extends Vr{constructor(r={}){super();q(this,zt);q(this,mt);q(this,Yr);this.config=r,D(this,zt,new Set),D(this,mt,new Map),D(this,Yr,0)}build(r,i,a){const u=new j1({mutationCache:this,mutationId:++Yi(this,Yr)._,options:r.defaultMutationOptions(i),state:a});return this.add(u),u}add(r){b(this,zt).add(r);const i=Ji(r);if(typeof i=="string"){const a=b(this,mt).get(i);a?a.push(r):b(this,mt).set(i,[r])}this.notify({type:"added",mutation:r})}remove(r){if(b(this,zt).delete(r)){const i=Ji(r);if(typeof i=="string"){const a=b(this,mt).get(i);if(a)if(a.length>1){const u=a.indexOf(r);u!==-1&&a.splice(u,1)}else a[0]===r&&b(this,mt).delete(i)}}this.notify({type:"removed",mutation:r})}canRun(r){const i=Ji(r);if(typeof i=="string"){const a=b(this,mt).get(i),u=a==null?void 0:a.find(h=>h.state.status==="pending");return!u||u===r}else return!0}runNext(r){var a;const i=Ji(r);if(typeof i=="string"){const u=(a=b(this,mt).get(i))==null?void 0:a.find(h=>h!==r&&h.state.isPaused);return(u==null?void 0:u.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Oe.batch(()=>{b(this,zt).forEach(r=>{this.notify({type:"removed",mutation:r})}),b(this,zt).clear(),b(this,mt).clear()})}getAll(){return Array.from(b(this,zt))}find(r){const i={exact:!0,...r};return this.getAll().find(a=>Wl(i,a))}findAll(r={}){return this.getAll().filter(i=>Wl(r,i))}notify(r){Oe.batch(()=>{this.listeners.forEach(i=>{i(r)})})}resumePausedMutations(){const r=this.getAll().filter(i=>i.state.isPaused);return Oe.batch(()=>Promise.all(r.map(i=>i.continue().catch(lt))))}},zt=new WeakMap,mt=new WeakMap,Yr=new WeakMap,df);function Ji(n){var r;return(r=n.options.scope)==null?void 0:r.id}function cs(n){return{onFetch:(r,i)=>{var T,y,N,I,k;const a=r.options,u=(N=(y=(T=r.fetchOptions)==null?void 0:T.meta)==null?void 0:y.fetchMore)==null?void 0:N.direction,h=((I=r.state.data)==null?void 0:I.pages)||[],p=((k=r.state.data)==null?void 0:k.pageParams)||[];let _={pages:[],pageParams:[]},v=0;const S=async()=>{let O=!1;const L=Y=>{Object.defineProperty(Y,"signal",{enumerable:!0,get:()=>(r.signal.aborted?O=!0:r.signal.addEventListener("abort",()=>{O=!0}),r.signal)})},U=Ff(r.options,r.fetchOptions),z=async(Y,Z,se)=>{if(O)return Promise.reject();if(Z==null&&Y.pages.length)return Promise.resolve(Y);const ve={client:r.client,queryKey:r.queryKey,pageParam:Z,direction:se?"backward":"forward",meta:r.options.meta};L(ve);const fe=await U(ve),{maxPages:ie}=r.options,oe=se?Q1:z1;return{pages:oe(Y.pages,fe,ie),pageParams:oe(Y.pageParams,Z,ie)}};if(u&&h.length){const Y=u==="backward",Z=Y?Wf:ha,se={pages:h,pageParams:p},ve=Z(a,se);_=await z(se,ve,Y)}else{const Y=n??h.length;do{const Z=v===0?p[0]??a.initialPageParam:ha(a,_);if(v>0&&Z==null)break;_=await z(_,Z),v++}while(v<Y)}return _};r.options.persister?r.fetchFn=()=>{var O,L;return(L=(O=r.options).persister)==null?void 0:L.call(O,S,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},i)}:r.fetchFn=S}}}function ha(n,{pages:r,pageParams:i}){const a=r.length-1;return r.length>0?n.getNextPageParam(r[a],r,i[a],i):void 0}function Wf(n,{pages:r,pageParams:i}){var a;return r.length>0?(a=n.getPreviousPageParam)==null?void 0:a.call(n,r[0],r,i[0],i):void 0}function ny(n,r){return r?ha(n,r)!=null:!1}function ry(n,r){return!r||!n.getPreviousPageParam?!1:Wf(n,r)!=null}var be,rn,sn,or,ar,on,ur,cr,pf,iy=(pf=class{constructor(n={}){q(this,be);q(this,rn);q(this,sn);q(this,or);q(this,ar);q(this,on);q(this,ur);q(this,cr);D(this,be,n.queryCache||new V1),D(this,rn,n.mutationCache||new ty),D(this,sn,n.defaultOptions||{}),D(this,or,new Map),D(this,ar,new Map),D(this,on,0)}mount(){Yi(this,on)._++,b(this,on)===1&&(D(this,ur,Fa.subscribe(async n=>{n&&(await this.resumePausedMutations(),b(this,be).onFocus())})),D(this,cr,us.subscribe(async n=>{n&&(await this.resumePausedMutations(),b(this,be).onOnline())})))}unmount(){var n,r;Yi(this,on)._--,b(this,on)===0&&((n=b(this,ur))==null||n.call(this),D(this,ur,void 0),(r=b(this,cr))==null||r.call(this),D(this,cr,void 0))}isFetching(n){return b(this,be).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return b(this,rn).findAll({...n,status:"pending"}).length}getQueryData(n){var i;const r=this.defaultQueryOptions({queryKey:n});return(i=b(this,be).get(r.queryHash))==null?void 0:i.state.data}ensureQueryData(n){const r=this.defaultQueryOptions(n),i=b(this,be).build(this,r),a=i.state.data;return a===void 0?this.fetchQuery(n):(n.revalidateIfStale&&i.isStaleByTime(jn(r.staleTime,i))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(n){return b(this,be).findAll(n).map(({queryKey:r,state:i})=>{const a=i.data;return[r,a]})}setQueryData(n,r,i){const a=this.defaultQueryOptions({queryKey:n}),u=b(this,be).get(a.queryHash),h=u==null?void 0:u.state.data,p=$1(r,h);if(p!==void 0)return b(this,be).build(this,a).setData(p,{...i,manual:!0})}setQueriesData(n,r,i){return Oe.batch(()=>b(this,be).findAll(n).map(({queryKey:a})=>[a,this.setQueryData(a,r,i)]))}getQueryState(n){var i;const r=this.defaultQueryOptions({queryKey:n});return(i=b(this,be).get(r.queryHash))==null?void 0:i.state}removeQueries(n){const r=b(this,be);Oe.batch(()=>{r.findAll(n).forEach(i=>{r.remove(i)})})}resetQueries(n,r){const i=b(this,be),a={type:"active",...n};return Oe.batch(()=>(i.findAll(n).forEach(u=>{u.reset()}),this.refetchQueries(a,r)))}cancelQueries(n,r={}){const i={revert:!0,...r},a=Oe.batch(()=>b(this,be).findAll(n).map(u=>u.cancel(i)));return Promise.all(a).then(lt).catch(lt)}invalidateQueries(n,r={}){return Oe.batch(()=>{if(b(this,be).findAll(n).forEach(a=>{a.invalidate()}),(n==null?void 0:n.refetchType)==="none")return Promise.resolve();const i={...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"};return this.refetchQueries(i,r)})}refetchQueries(n,r={}){const i={...r,cancelRefetch:r.cancelRefetch??!0},a=Oe.batch(()=>b(this,be).findAll(n).filter(u=>!u.isDisabled()).map(u=>{let h=u.fetch(void 0,i);return i.throwOnError||(h=h.catch(lt)),u.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(a).then(lt)}fetchQuery(n){const r=this.defaultQueryOptions(n);r.retry===void 0&&(r.retry=!1);const i=b(this,be).build(this,r);return i.isStaleByTime(jn(r.staleTime,i))?i.fetch(r):Promise.resolve(i.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(lt).catch(lt)}fetchInfiniteQuery(n){return n.behavior=cs(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(lt).catch(lt)}ensureInfiniteQueryData(n){return n.behavior=cs(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return us.isOnline()?b(this,rn).resumePausedMutations():Promise.resolve()}getQueryCache(){return b(this,be)}getMutationCache(){return b(this,rn)}getDefaultOptions(){return b(this,sn)}setDefaultOptions(n){D(this,sn,n)}setQueryDefaults(n,r){b(this,or).set(Qr(n),{queryKey:n,defaultOptions:r})}getQueryDefaults(n){const r=[...b(this,or).values()],i={};return r.forEach(a=>{Gr(n,a.queryKey)&&Object.assign(i,a.defaultOptions)}),i}setMutationDefaults(n,r){b(this,ar).set(Qr(n),{mutationKey:n,defaultOptions:r})}getMutationDefaults(n){const r=[...b(this,ar).values()];let i={};return r.forEach(a=>{Gr(n,a.mutationKey)&&(i={...i,...a.defaultOptions})}),i}defaultQueryOptions(n){if(n._defaulted)return n;const r={...b(this,sn).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return r.queryHash||(r.queryHash=La(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Na&&(r.enabled=!1),r}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...b(this,sn).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){b(this,be).clear(),b(this,rn).clear()}},be=new WeakMap,rn=new WeakMap,sn=new WeakMap,or=new WeakMap,ar=new WeakMap,on=new WeakMap,ur=new WeakMap,cr=new WeakMap,pf),ze,re,Zr,Be,Rn,lr,an,It,Xr,fr,hr,In,En,un,dr,ce,Wr,da,pa,ga,_a,va,ma,ya,Hf,gf,$f=(gf=class extends Vr{constructor(r,i){super();q(this,ce);q(this,ze);q(this,re);q(this,Zr);q(this,Be);q(this,Rn);q(this,lr);q(this,an);q(this,It);q(this,Xr);q(this,fr);q(this,hr);q(this,In);q(this,En);q(this,un);q(this,dr,new Set);this.options=i,D(this,ze,r),D(this,It,null),D(this,an,fa()),this.options.experimental_prefetchInRender||b(this,an).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(i)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(b(this,re).addObserver(this),ql(b(this,re),this.options)?ne(this,ce,Wr).call(this):this.updateResult(),ne(this,ce,_a).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ba(b(this,re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ba(b(this,re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ne(this,ce,va).call(this),ne(this,ce,ma).call(this),b(this,re).removeObserver(this)}setOptions(r,i){const a=this.options,u=b(this,re);if(this.options=b(this,ze).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yt(this.options.enabled,b(this,re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ne(this,ce,ya).call(this),b(this,re).setOptions(this.options),a._defaulted&&!ua(this.options,a)&&b(this,ze).getQueryCache().notify({type:"observerOptionsUpdated",query:b(this,re),observer:this});const h=this.hasListeners();h&&zl(b(this,re),u,this.options,a)&&ne(this,ce,Wr).call(this),this.updateResult(i),h&&(b(this,re)!==u||yt(this.options.enabled,b(this,re))!==yt(a.enabled,b(this,re))||jn(this.options.staleTime,b(this,re))!==jn(a.staleTime,b(this,re)))&&ne(this,ce,da).call(this);const p=ne(this,ce,pa).call(this);h&&(b(this,re)!==u||yt(this.options.enabled,b(this,re))!==yt(a.enabled,b(this,re))||p!==b(this,un))&&ne(this,ce,ga).call(this,p)}getOptimisticResult(r){const i=b(this,ze).getQueryCache().build(b(this,ze),r),a=this.createResult(i,r);return oy(this,a)&&(D(this,Be,a),D(this,lr,this.options),D(this,Rn,b(this,re).state)),a}getCurrentResult(){return b(this,Be)}trackResult(r,i){const a={};return Object.keys(r).forEach(u=>{Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(u),i==null||i(u),r[u])})}),a}trackProp(r){b(this,dr).add(r)}getCurrentQuery(){return b(this,re)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const i=b(this,ze).defaultQueryOptions(r),a=b(this,ze).getQueryCache().build(b(this,ze),i);return a.fetch().then(()=>this.createResult(a,i))}fetch(r){return ne(this,ce,Wr).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),b(this,Be)))}createResult(r,i){var ie;const a=b(this,re),u=this.options,h=b(this,Be),p=b(this,Rn),_=b(this,lr),S=r!==a?r.state:b(this,Zr),{state:T}=r;let y={...T},N=!1,I;if(i._optimisticResults){const oe=this.hasListeners(),Pe=!oe&&ql(r,i),Ke=oe&&zl(r,a,i,u);(Pe||Ke)&&(y={...y,...Bf(T.data,r.options)}),i._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:k,errorUpdatedAt:O,status:L}=y;if(i.select&&y.data!==void 0)if(h&&y.data===(p==null?void 0:p.data)&&i.select===b(this,Xr))I=b(this,fr);else try{D(this,Xr,i.select),I=i.select(y.data),I=la(h==null?void 0:h.data,I,i),D(this,fr,I),D(this,It,null)}catch(oe){D(this,It,oe)}else I=y.data;if(i.placeholderData!==void 0&&I===void 0&&L==="pending"){let oe;if(h!=null&&h.isPlaceholderData&&i.placeholderData===(_==null?void 0:_.placeholderData))oe=h.data;else if(oe=typeof i.placeholderData=="function"?i.placeholderData((ie=b(this,hr))==null?void 0:ie.state.data,b(this,hr)):i.placeholderData,i.select&&oe!==void 0)try{oe=i.select(oe),D(this,It,null)}catch(Pe){D(this,It,Pe)}oe!==void 0&&(L="success",I=la(h==null?void 0:h.data,oe,i),N=!0)}b(this,It)&&(k=b(this,It),I=b(this,fr),O=Date.now(),L="error");const U=y.fetchStatus==="fetching",z=L==="pending",Y=L==="error",Z=z&&U,se=I!==void 0,fe={status:L,fetchStatus:y.fetchStatus,isPending:z,isSuccess:L==="success",isError:Y,isInitialLoading:Z,isLoading:Z,data:I,dataUpdatedAt:y.dataUpdatedAt,error:k,errorUpdatedAt:O,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>S.dataUpdateCount||y.errorUpdateCount>S.errorUpdateCount,isFetching:U,isRefetching:U&&!z,isLoadingError:Y&&!se,isPaused:y.fetchStatus==="paused",isPlaceholderData:N,isRefetchError:Y&&se,isStale:Ma(r,i),refetch:this.refetch,promise:b(this,an)};if(this.options.experimental_prefetchInRender){const oe=Mn=>{fe.status==="error"?Mn.reject(fe.error):fe.data!==void 0&&Mn.resolve(fe.data)},Pe=()=>{const Mn=D(this,an,fe.promise=fa());oe(Mn)},Ke=b(this,an);switch(Ke.status){case"pending":r.queryHash===a.queryHash&&oe(Ke);break;case"fulfilled":(fe.status==="error"||fe.data!==Ke.value)&&Pe();break;case"rejected":(fe.status!=="error"||fe.error!==Ke.reason)&&Pe();break}}return fe}updateResult(r){const i=b(this,Be),a=this.createResult(b(this,re),this.options);if(D(this,Rn,b(this,re).state),D(this,lr,this.options),b(this,Rn).data!==void 0&&D(this,hr,b(this,re)),ua(a,i))return;D(this,Be,a);const u={},h=()=>{if(!i)return!0;const{notifyOnChangeProps:p}=this.options,_=typeof p=="function"?p():p;if(_==="all"||!_&&!b(this,dr).size)return!0;const v=new Set(_??b(this,dr));return this.options.throwOnError&&v.add("error"),Object.keys(b(this,Be)).some(S=>{const T=S;return b(this,Be)[T]!==i[T]&&v.has(T)})};(r==null?void 0:r.listeners)!==!1&&h()&&(u.listeners=!0),ne(this,ce,Hf).call(this,{...u,...r})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ne(this,ce,_a).call(this)}},ze=new WeakMap,re=new WeakMap,Zr=new WeakMap,Be=new WeakMap,Rn=new WeakMap,lr=new WeakMap,an=new WeakMap,It=new WeakMap,Xr=new WeakMap,fr=new WeakMap,hr=new WeakMap,In=new WeakMap,En=new WeakMap,un=new WeakMap,dr=new WeakMap,ce=new WeakSet,Wr=function(r){ne(this,ce,ya).call(this);let i=b(this,re).fetch(this.options,r);return r!=null&&r.throwOnError||(i=i.catch(lt)),i},da=function(){ne(this,ce,va).call(this);const r=jn(this.options.staleTime,b(this,re));if(Fn||b(this,Be).isStale||!aa(r))return;const a=Lf(b(this,Be).dataUpdatedAt,r)+1;D(this,In,setTimeout(()=>{b(this,Be).isStale||this.updateResult()},a))},pa=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(b(this,re)):this.options.refetchInterval)??!1},ga=function(r){ne(this,ce,ma).call(this),D(this,un,r),!(Fn||yt(this.options.enabled,b(this,re))===!1||!aa(b(this,un))||b(this,un)===0)&&D(this,En,setInterval(()=>{(this.options.refetchIntervalInBackground||Fa.isFocused())&&ne(this,ce,Wr).call(this)},b(this,un)))},_a=function(){ne(this,ce,da).call(this),ne(this,ce,ga).call(this,ne(this,ce,pa).call(this))},va=function(){b(this,In)&&(clearTimeout(b(this,In)),D(this,In,void 0))},ma=function(){b(this,En)&&(clearInterval(b(this,En)),D(this,En,void 0))},ya=function(){const r=b(this,ze).getQueryCache().build(b(this,ze),this.options);if(r===b(this,re))return;const i=b(this,re);D(this,re,r),D(this,Zr,r.state),this.hasListeners()&&(i==null||i.removeObserver(this),r.addObserver(this))},Hf=function(r){Oe.batch(()=>{r.listeners&&this.listeners.forEach(i=>{i(b(this,Be))}),b(this,ze).getQueryCache().notify({query:b(this,re),type:"observerResultsUpdated"})})},gf);function sy(n,r){return yt(r.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&r.retryOnMount===!1)}function ql(n,r){return sy(n,r)||n.state.data!==void 0&&ba(n,r,r.refetchOnMount)}function ba(n,r,i){if(yt(r.enabled,n)!==!1){const a=typeof i=="function"?i(n):i;return a==="always"||a!==!1&&Ma(n,r)}return!1}function zl(n,r,i,a){return(n!==r||yt(a.enabled,n)===!1)&&(!i.suspense||n.state.status!=="error")&&Ma(n,i)}function Ma(n,r){return yt(r.enabled,n)!==!1&&n.isStaleByTime(jn(r.staleTime,n))}function oy(n,r){return!ua(n.getCurrentResult(),r)}var ay=class extends $f{constructor(n,r){super(n,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n,r){super.setOptions({...n,behavior:cs()},r)}getOptimisticResult(n){return n.behavior=cs(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,r){var k,O;const{state:i}=n,a=super.createResult(n,r),{isFetching:u,isRefetching:h,isError:p,isRefetchError:_}=a,v=(O=(k=i.fetchMeta)==null?void 0:k.fetchMore)==null?void 0:O.direction,S=p&&v==="forward",T=u&&v==="forward",y=p&&v==="backward",N=u&&v==="backward";return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:ny(r,i.data),hasPreviousPage:ry(r,i.data),isFetchNextPageError:S,isFetchingNextPage:T,isFetchPreviousPageError:y,isFetchingPreviousPage:N,isRefetchError:_&&!S&&!y,isRefetching:h&&!T&&!N}}},uy=0;function l(n,r,i,a,u,h){r||(r={});var p,_,v=r;if("ref"in v)for(_ in v={},r)_=="ref"?p=r[_]:v[_]=r[_];var S={type:n,props:v,key:i,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--uy,__i:-1,__u:0,__source:u,__self:h};if(typeof n=="function"&&(p=n.defaultProps))for(_ in p)v[_]===void 0&&(v[_]=p[_]);return K.vnode&&K.vnode(S),S}var qf=hs(void 0),cy=n=>{const r=Ea(qf);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},ly=({client:n,children:r})=>(Ot(()=>(n.mount(),()=>{n.unmount()}),[n]),l(qf.Provider,{value:n,children:r})),zf=hs(!1),fy=()=>Ea(zf);zf.Provider;function hy(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var dy=hs(hy()),py=()=>Ea(dy);function gy(n,r){return typeof n=="function"?n(...r):!!n}function Ql(){}var _y=(n,r)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(r.isReset()||(n.retryOnMount=!1))},vy=n=>{Ot(()=>{n.clearReset()},[n])},my=({result:n,errorResetBoundary:r,throwOnError:i,query:a,suspense:u})=>n.isError&&!r.isReset()&&!n.isFetching&&a&&(u&&n.data===void 0||gy(i,[n.error,a])),yy=n=>{const r=n.staleTime;n.suspense&&(n.staleTime=typeof r=="function"?(...i)=>Math.max(r(...i),1e3):Math.max(r??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},by=(n,r)=>n.isLoading&&n.isFetching&&!r,wy=(n,r)=>(n==null?void 0:n.suspense)&&r.isPending,Gl=(n,r,i)=>r.fetchOptimistic(n).catch(()=>{i.clearReset()});function Qf(n,r,i){var y,N,I,k,O;const a=cy(),u=fy(),h=py(),p=a.defaultQueryOptions(n);(N=(y=a.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||N.call(y,p),p._optimisticResults=u?"isRestoring":"optimistic",yy(p),_y(p,h),vy(h);const _=!a.getQueryCache().get(p.queryHash),[v]=Ge(()=>new r(a,p)),S=v.getOptimisticResult(p),T=!u&&n.subscribed!==!1;if(B1(et(L=>{const U=T?v.subscribe(Oe.batchCalls(L)):Ql;return v.updateResult(),U},[v,T]),()=>v.getCurrentResult()),Ot(()=>{v.setOptions(p,{listeners:!1})},[p,v]),wy(p,S))throw Gl(p,v,h);if(my({result:S,errorResetBoundary:h,throwOnError:p.throwOnError,query:a.getQueryCache().get(p.queryHash),suspense:p.suspense}))throw S.error;if((k=(I=a.getDefaultOptions().queries)==null?void 0:I._experimental_afterQuery)==null||k.call(I,p,S),p.experimental_prefetchInRender&&!Fn&&by(S,u)){const L=_?Gl(p,v,h):(O=a.getQueryCache().get(p.queryHash))==null?void 0:O.promise;L==null||L.catch(Ql).finally(()=>{v.updateResult()})}return p.notifyOnChangeProps?S:v.trackResult(S)}function ds(n,r){return Qf(n,$f)}function xy(n,r){return Qf(n,ay)}const fn=(n,r=document.body)=>r.querySelector(n),jr=(n,r=document.body)=>Array.from(r.querySelectorAll(n)),Sy=async(n,{parent:r=document.body,maxWait:i=2e3}={})=>{const a=performance.now();for(;performance.now()-a<i;){await Py(1);const u=fn(n,r);if(u)return u}throw new Error(`Could not find ${n}`)},rs=(n,r=document.body)=>jr(n,r).map(i=>i.remove()),ps=n=>{try{return n()}catch(r){console.error("Tried to perform action, failed"),console.error(r)}};function Cy(n){const r=document.createElement("style");return r.innerHTML=n,document.head.appendChild(r),r}const Py=n=>new Promise(r=>setTimeout(r,n)),er=(n,r=document.location.href)=>Ty(r).get(n),Ty=n=>{if(n.startsWith("?"))return new URLSearchParams(n.slice(1));if(n.startsWith("http")){const i=new URL(n);return new URLSearchParams(i.search)}const r=new URL("https://example.com"+n.split("?").slice(1).join(""));return new URLSearchParams(r.search)};function Ay(n){return Object.entries(n)}function Ry(n,r){const i=new Set;return n.filter(a=>{const u=r(a);return i.has(u)?!1:(i.add(u),!0)})}const Iy={bg:"#303a30",bgAlt:"#293129",bgDeep:"#303030",bgHighlight:"#505a50",bgOverlay:"#242424e6",text:"#c0c0c0",textSoft:"#878787",textActive:"#b0e0b0",linkSoft:"#93b393",linkArtist:"#f0a0a0",linkCharacter:"#f0f0a0",linkCopyright:"#f0a0f0",linkMetadata:"#90d9ed"},xn={bg:"var(--r-bg)",textActive:"var(--r-link)",link:"var(--r-link-soft)",linkArtist:"var(--r-link-artist)",linkCopyright:"var(--r-link-copyright)",linkMetadata:"var(--r-link-metadata)"},Gf=n=>({general:xn.textActive,artist:xn.linkArtist,character:xn.linkArtist,copyright:xn.linkCopyright,metadata:xn.linkMetadata})[n],Ey=n=>`
        --r-bg: ${n.bg};
        --r-bg-alt: ${n.bgAlt};
        --r-bg-deep: ${n.bgDeep};
        --r-bg-highlight: ${n.bgHighlight};
        --r-bg-overlay: ${n.bgOverlay};
        --r-text: ${n.text};
        --r-text-soft: ${n.textSoft};
        --r-text-active: ${n.textActive};
        --r-link: ${n.textActive};
        --r-link-soft: ${n.linkSoft};
        --r-link-artist: ${n.linkArtist};
        --r-link-character: ${n.linkCharacter};
        --r-link-copyright: ${n.linkCopyright};
        --r-link-metadata: ${n.linkMetadata};
    `,Oy=()=>{rs("link[type='text/css']",document.head)},Ly=Ey(Iy);Cy(` body { ${Ly} }`);const Ny=({children:n})=>n,Fy=hs(null),Ho={didCatch:!1,error:null};class Da extends bt{constructor(r){super(r),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Ho}static getDerivedStateFromError(r){return{didCatch:!0,error:r}}resetErrorBoundary(){const{error:r}=this.state;if(r!==null){for(var i,a,u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];(i=(a=this.props).onReset)===null||i===void 0||i.call(a,{args:h,reason:"imperative-api"}),this.setState(Ho)}}componentDidCatch(r,i){var a,u;(a=(u=this.props).onError)===null||a===void 0||a.call(u,r,i)}componentDidUpdate(r,i){const{didCatch:a}=this.state,{resetKeys:u}=this.props;if(a&&i.error!==null&&My(r.resetKeys,u)){var h,p;(h=(p=this.props).onReset)===null||h===void 0||h.call(p,{next:u,prev:r.resetKeys,reason:"keys"}),this.setState(Ho)}}render(){const{children:r,fallbackRender:i,FallbackComponent:a,fallback:u}=this.props,{didCatch:h,error:p}=this.state;let _=r;if(h){const v={error:p,resetErrorBoundary:this.resetErrorBoundary};if(typeof i=="function")_=i(v);else if(a)_=pr(a,v);else if(u===null||D1(u))_=u;else throw p}return pr(Fy.Provider,{value:{didCatch:h,error:p,resetErrorBoundary:this.resetErrorBoundary}},_)}}function My(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==r.length||n.some((i,a)=>!Object.is(i,r[a]))}const Kf=({children:n})=>{const r=new iy;return l(W1.StrictMode,{children:l(ly,{client:r,children:l(Da,{fallbackRender:i=>i.error.toString(),children:l(Ny,{children:n})})})})};function Yf(n){return{render:function(r){O1(r,n)},unmount:function(){k1(n)}}}var qo;function we(n,r){return K.__a&&K.__a(r),n}(qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0)!=null&&qo.__PREACT_DEVTOOLS__&&qo.__PREACT_DEVTOOLS__.attachPreact("10.23.2",K,{Fragment:wt,Component:bt});var zo;function Dy(n){return zo==null?void 0:zo.get(n)}var Qo;function ky(n){return Qo==null?void 0:Qo.get(n)}var Go;function Uy(n,r){var i;return(i=Go==null?void 0:Go.get(n))==null?void 0:i.get(r)}function Zf(n){var i,a;const r=typeof n;return r==="string"?`"${n}"`:r==="number"||r==="bigint"||r==="boolean"?`${n}`:r==="object"||r==="function"?(n&&((a=(i=Object.getPrototypeOf(n))==null?void 0:i.constructor)==null?void 0:a.name))??"null":r}function _r(n,r,i,a,u){const h=i.value,p=n.expects??null,_=Zf(h),v={kind:n.kind,type:n.type,input:h,expected:p,received:_,message:`Invalid ${r}: ${p?`Expected ${p} but r`:"R"}eceived ${_}`,requirement:n.requirement,path:u==null?void 0:u.path,issues:u==null?void 0:u.issues,lang:a.lang,abortEarly:a.abortEarly,abortPipeEarly:a.abortPipeEarly},S=n.kind==="schema",T=n.message??Uy(n.reference,v.lang)??(S?ky(v.lang):null)??a.message??Dy(v.lang);T&&(v.message=typeof T=="function"?T(v):T),S&&(i.typed=!1),i.issues?i.issues.push(v):i.issues=[v]}function By(n,r){const i=[...new Set(n)];return i.length>1?`(${i.join(` ${r} `)})`:i[0]??"never"}function Wy(n,r,i){return typeof n.default=="function"?n.default(r,i):n.default}function Xf(n,r){return{kind:"schema",type:"array",reference:Xf,expects:"Array",async:!1,item:n,message:r,_run(i,a){var h;const u=i.value;if(Array.isArray(u)){i.typed=!0,i.value=[];for(let p=0;p<u.length;p++){const _=u[p],v=this.item._run({typed:!1,value:_},a);if(v.issues){const S={type:"array",origin:"value",input:u,key:p,value:_};for(const T of v.issues)T.path?T.path.unshift(S):T.path=[S],(h=i.issues)==null||h.push(T);if(i.issues||(i.issues=v.issues),a.abortEarly){i.typed=!1;break}}v.typed||(i.typed=!1),i.value.push(v.value)}}else _r(this,"type",i,a);return i}}}function Jf(n){return{kind:"schema",type:"boolean",reference:Jf,expects:"boolean",async:!1,message:n,_run(r,i){return typeof r.value=="boolean"?r.typed=!0:_r(this,"type",r,i),r}}}function Vf(n,r){const i=Object.entries(n).filter(([a])=>isNaN(+a)).map(([,a])=>a);return{kind:"schema",type:"enum",reference:Vf,expects:By(i.map(Zf),"|"),async:!1,enum:n,options:i,message:r,_run(a,u){return this.options.includes(a.value)?a.typed=!0:_r(this,"type",a,u),a}}}function jf(n){return{kind:"schema",type:"number",reference:jf,expects:"number",async:!1,message:n,_run(r,i){return typeof r.value=="number"&&!isNaN(r.value)?r.typed=!0:_r(this,"type",r,i),r}}}function eh(n,r){return{kind:"schema",type:"object",reference:eh,expects:"Object",async:!1,entries:n,message:r,_run(i,a){var h;const u=i.value;if(u&&typeof u=="object"){i.typed=!0,i.value={};for(const p in this.entries){const _=u[p],v=this.entries[p]._run({typed:!1,value:_},a);if(v.issues){const S={type:"object",origin:"value",input:u,key:p,value:_};for(const T of v.issues)T.path?T.path.unshift(S):T.path=[S],(h=i.issues)==null||h.push(T);if(i.issues||(i.issues=v.issues),a.abortEarly){i.typed=!1;break}}v.typed||(i.typed=!1),(v.value!==void 0||p in u)&&(i.value[p]=v.value)}}else _r(this,"type",i,a);return i}}}function $r(n,...r){const i={kind:"schema",type:"optional",reference:$r,expects:`(${n.expects} | undefined)`,async:!1,wrapped:n,_run(a,u){return a.value===void 0&&("default"in this&&(a.value=Wy(this,a,u)),a.value===void 0)?(a.typed=!0,a):this.wrapped._run(a,u)}};return 0 in r&&(i.default=r[0]),i}function th(n){return{kind:"schema",type:"string",reference:th,expects:"string",async:!1,message:n,_run(r,i){return typeof r.value=="string"?r.typed=!0:_r(this,"type",r,i),r}}}function ka(){const[n,r]=we(Ge(nh()),"tags"),i=et(S=>{r(T=>{const y=S(T);return Kl(y),y})},[]);Ot(()=>Kl(n),[n]);const a=we(ln(()=>n.map(S=>({name:S,type:"artist"})),[n]),"subscriptions"),u=we(ln(()=>rh(n),[n]),"subscriptionsTag"),h=we(ln($y,[]),"subscriptionsUrl"),p=et(S=>n.includes(S),[n]),_=et(S=>{i(T=>[S,...T])},[i]),v=et(S=>{i(T=>T.filter(y=>y!==S))},[i]);return{subscriptions:a,subscriptionsTag:u,subscriptionsUrl:h,checkSubscribed:p,addSubscription:_,removeSubscription:v}}function nh(){const n=window.localStorage.getItem("tag-subscriptions")??"[]";let r=JSON.parse(n);return r=r.map(i=>decodeURIComponent(i)),r}function Kl(n){const r=JSON.stringify(n);window.localStorage.setItem("tag-subscriptions",r)}const rh=n=>" ( "+n.join(" ~ ")+" ) ",$y=()=>"/index.php?page=post&s=list&subscriptions=yes",Et={newest:"newest",score:"score",random:"random",hot:"hot"};eh({tags:$r(Xf(th())),sort:$r(Vf(Et)),minScore:$r(jf()),subscriptionsOnly:$r(Jf())});const is={sort:Et.newest,tags:[],subscriptionsOnly:!1},ih={encodeInParam(n,r){!r||r===is.sort||r in Et&&n.set("sort",r)},decodeFromParam(n){const r=n.get("sort");if(r&&(r==="newest"||r==="score"||r==="random"||r==="hot"))return r}},sh={encodeInParam(n,r){!r||r.length===0||n.set("searchTags",r.join(" "))},decodeFromParam(n){const r=n.get("searchTags");if(!r)return;let i=r.split(" ");if(i=i.filter(a=>!!a.trim()),i.length!==0)return i}},oh={encodeInParam(n,r){r&&n.set("subscriptions","yes")},decodeFromParam(n){if(n.get("subscriptions"))return!0}};function Hy(n){const r=new URLSearchParams;return ih.encodeInParam(r,n.sort),sh.encodeInParam(r,n.tags),oh.encodeInParam(r,n.subscriptionsOnly),r}function qy(n){const r=ih.decodeFromParam(n)??is.sort,i=sh.decodeFromParam(n)??is.tags,a=oh.decodeFromParam(n)??is.subscriptionsOnly;return{sort:r,tags:i,subscriptionsOnly:a,minScore:0}}function ah(n){const{sort:r,minScore:i,tags:a}=n;let u=[];return i&&u.push(`score:>=${i}`),a&&u.push(...a),r===Et.score&&u.push("sort:score"),r===Et.random&&u.push("sort:random:1"),r===Et.hot&&u.push("score:>=200"),n.subscriptionsOnly&&u.push(rh(nh())),u.join(" ")}function uh(){const n=new URL(document.location.href);return n.searchParams.delete("tags"),history.replaceState(null,"",n.toString()),qy(n.searchParams)}function Ua(n,{withNativeTags:r=!0}){const i=Hy(n);return r&&i.set("tags",ah(n)),i}const zy=Date.now(),Qy=n=>new Intl.DateTimeFormat("en-GB",{dateStyle:"full"}).format(n),Gy=n=>{const i=(zy-n.getTime())/1e3,a=i/60,u=a/60,h=u/24,p=h/30,_=h/365;return _>=1?`${_.toFixed()} years`:p>=1?`${p.toFixed()} months`:h>=1?`${h.toFixed()} days`:u>=1?`${u.toFixed()} hours`:a>=1?`${a.toFixed()} minutes`:i>=1?`${i.toFixed()} seconds`:"now"},Ba=n=>new Intl.NumberFormat("en",{notation:"compact"}).format(n);var Vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ch(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ko={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Yl;function Ky(){return Yl||(Yl=1,function(n){(function(){var r={}.hasOwnProperty;function i(){for(var h="",p=0;p<arguments.length;p++){var _=arguments[p];_&&(h=u(h,a(_)))}return h}function a(h){if(typeof h=="string"||typeof h=="number")return h;if(typeof h!="object")return"";if(Array.isArray(h))return i.apply(null,h);if(h.toString!==Object.prototype.toString&&!h.toString.toString().includes("[native code]"))return h.toString();var p="";for(var _ in h)r.call(h,_)&&h[_]&&(p=u(p,_));return p}function u(h,p){return p?h?h+" "+p:h+p:h}n.exports?(i.default=i,n.exports=i):window.classNames=i})()}(Ko)),Ko.exports}var Yy=Ky();const Qe=ch(Yy),Zy=({tags:n,onClick:r})=>n===void 0||n.length===0?null:l("div",{className:Qe("absolute -z-20 top-8 left-0","w-full rounded-b-2 p-4 bg-bg-alt","flex flex-col gap-1"),children:n.map(i=>l(Xy,{onClick:()=>r(i.name),tag:i},i.name))}),Xy=({onClick:n,tag:{name:r,type:i,count:a}})=>l("button",{className:"text-left border-none bg-transparent p-1 cursor-pointer focus:border-none focus:underline",style:{color:Gf(i)},onMouseDown:n,children:[r,a&&" / "+Ba(a)]}),wa=(n,r)=>r.some(i=>n instanceof i);let Zl,Xl;function Jy(){return Zl||(Zl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vy(){return Xl||(Xl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xa=new WeakMap,Yo=new WeakMap,gs=new WeakMap;function jy(n){const r=new Promise((i,a)=>{const u=()=>{n.removeEventListener("success",h),n.removeEventListener("error",p)},h=()=>{i(On(n.result)),u()},p=()=>{a(n.error),u()};n.addEventListener("success",h),n.addEventListener("error",p)});return gs.set(r,n),r}function eb(n){if(xa.has(n))return;const r=new Promise((i,a)=>{const u=()=>{n.removeEventListener("complete",h),n.removeEventListener("error",p),n.removeEventListener("abort",p)},h=()=>{i(),u()},p=()=>{a(n.error||new DOMException("AbortError","AbortError")),u()};n.addEventListener("complete",h),n.addEventListener("error",p),n.addEventListener("abort",p)});xa.set(n,r)}let Sa={get(n,r,i){if(n instanceof IDBTransaction){if(r==="done")return xa.get(n);if(r==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return On(n[r])},set(n,r,i){return n[r]=i,!0},has(n,r){return n instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in n}};function lh(n){Sa=n(Sa)}function tb(n){return Vy().includes(n)?function(...r){return n.apply(Ca(this),r),On(this.request)}:function(...r){return On(n.apply(Ca(this),r))}}function nb(n){return typeof n=="function"?tb(n):(n instanceof IDBTransaction&&eb(n),wa(n,Jy())?new Proxy(n,Sa):n)}function On(n){if(n instanceof IDBRequest)return jy(n);if(Yo.has(n))return Yo.get(n);const r=nb(n);return r!==n&&(Yo.set(n,r),gs.set(r,n)),r}const Ca=n=>gs.get(n);function rb(n,r,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const p=indexedDB.open(n,r),_=On(p);return a&&p.addEventListener("upgradeneeded",v=>{a(On(p.result),v.oldVersion,v.newVersion,On(p.transaction),v)}),i&&p.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",S=>u(S.oldVersion,S.newVersion,S))}).catch(()=>{}),_}const ib=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],Zo=new Map;function Jl(n,r){if(!(n instanceof IDBDatabase&&!(r in n)&&typeof r=="string"))return;if(Zo.get(r))return Zo.get(r);const i=r.replace(/FromIndex$/,""),a=r!==i,u=sb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||ib.includes(i)))return;const h=async function(p,..._){const v=this.transaction(p,u?"readwrite":"readonly");let S=v.store;return a&&(S=S.index(_.shift())),(await Promise.all([S[i](..._),u&&v.done]))[0]};return Zo.set(r,h),h}lh(n=>({...n,get:(r,i,a)=>Jl(r,i)||n.get(r,i,a),has:(r,i)=>!!Jl(r,i)||n.has(r,i)}));const ob=["continue","continuePrimaryKey","advance"],Vl={},Pa=new WeakMap,fh=new WeakMap,ab={get(n,r){if(!ob.includes(r))return n[r];let i=Vl[r];return i||(i=Vl[r]=function(...a){Pa.set(this,fh.get(this)[r](...a))}),i}};async function*ub(...n){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...n)),!r)return;r=r;const i=new Proxy(r,ab);for(fh.set(i,r),gs.set(i,Ca(r));r;)yield i,r=await(Pa.get(i)||r.continue()),Pa.delete(i)}function jl(n,r){return r===Symbol.asyncIterator&&wa(n,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&wa(n,[IDBIndex,IDBObjectStore])}lh(n=>({...n,get(r,i,a){return jl(r,i)?ub:n.get(r,i,a)},has(r,i){return jl(r,i)||n.has(r,i)}}));function cb(n){const r=i=>n.filter(({type:a})=>a===i);return{general:r("general"),artist:r("artist"),copyright:r("copyright"),character:r("character"),metadata:r("metadata")}}let Xo;async function hh(){return Xo||(Xo=await rb("tagDatabase",1,{upgrade(n){n.createObjectStore("tags",{keyPath:"name"})}})),Xo}async function lb(n){const i=(await hh()).transaction("tags","readonly"),a=await Promise.all(n.map(async u=>({name:u,data:await i.store.get(u)})));return await i.done,a.map(({name:u,data:h})=>h||{name:u,type:"general"})}async function dh(n){if(n.length===0)return;const i=(await hh()).transaction("tags","readwrite");await Promise.all(n.map(async a=>{await i.store.delete(a.name),await i.store.add(a)})),await i.done}var Jo,ef;function fb(){return ef||(ef=1,Jo=function(){function n(r,i,a,u,h){return r<i||a<i?r>a?a+1:r+1:u===h?i:i+1}return function(r,i){if(r===i)return 0;if(r.length>i.length){var a=r;r=i,i=a}for(var u=r.length,h=i.length;u>0&&r.charCodeAt(u-1)===i.charCodeAt(h-1);)u--,h--;for(var p=0;p<u&&r.charCodeAt(p)===i.charCodeAt(p);)p++;if(u-=p,h-=p,u===0||h<3)return h;var _=0,v,S,T,y,N,I,k,O,L,U,z,Y,Z=[];for(v=0;v<u;v++)Z.push(v+1),Z.push(r.charCodeAt(p+v));for(var se=Z.length-1;_<h-3;)for(L=i.charCodeAt(p+(S=_)),U=i.charCodeAt(p+(T=_+1)),z=i.charCodeAt(p+(y=_+2)),Y=i.charCodeAt(p+(N=_+3)),I=_+=4,v=0;v<se;v+=2)k=Z[v],O=Z[v+1],S=n(k,S,T,L,O),T=n(S,T,y,U,O),y=n(T,y,N,z,O),I=n(y,N,I,Y,O),Z[v]=I,N=y,y=T,T=S,S=k;for(;_<h;)for(L=i.charCodeAt(p+(S=_)),I=++_,v=0;v<se;v+=2)k=Z[v],Z[v]=I=n(k,S,I,L,Z[v+1]),S=k;return I}}()),Jo}var hb=fb();const db=ch(hb);var Hr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var pb=Hr.exports,tf;function gb(){return tf||(tf=1,function(n,r){(function(){var i,a="4.17.21",u=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",_="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",S=500,T="__lodash_placeholder__",y=1,N=2,I=4,k=1,O=2,L=1,U=2,z=4,Y=8,Z=16,se=32,ve=64,fe=128,ie=256,oe=512,Pe=30,Ke="...",Mn=800,xh=16,$a=1,Sh=2,Ch=3,ei=1/0,Dn=9007199254740991,Ph=17976931348623157e292,ti=NaN,xt=4294967295,Th=xt-1,Ah=xt>>>1,Rh=[["ary",fe],["bind",L],["bindKey",U],["curry",Y],["curryRight",Z],["flip",oe],["partial",se],["partialRight",ve],["rearg",ie]],kn="[object Arguments]",ni="[object Array]",Ih="[object AsyncFunction]",vr="[object Boolean]",mr="[object Date]",Eh="[object DOMException]",ri="[object Error]",ii="[object Function]",Ha="[object GeneratorFunction]",ft="[object Map]",yr="[object Number]",Oh="[object Null]",Nt="[object Object]",qa="[object Promise]",Lh="[object Proxy]",br="[object RegExp]",ht="[object Set]",wr="[object String]",si="[object Symbol]",Nh="[object Undefined]",xr="[object WeakMap]",Fh="[object WeakSet]",Sr="[object ArrayBuffer]",Un="[object DataView]",_s="[object Float32Array]",vs="[object Float64Array]",ms="[object Int8Array]",ys="[object Int16Array]",bs="[object Int32Array]",ws="[object Uint8Array]",xs="[object Uint8ClampedArray]",Ss="[object Uint16Array]",Cs="[object Uint32Array]",Mh=/\b__p \+= '';/g,Dh=/\b(__p \+=) '' \+/g,kh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,za=/&(?:amp|lt|gt|quot|#39);/g,Qa=/[&<>"']/g,Uh=RegExp(za.source),Bh=RegExp(Qa.source),Wh=/<%-([\s\S]+?)%>/g,$h=/<%([\s\S]+?)%>/g,Ga=/<%=([\s\S]+?)%>/g,Hh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qh=/^\w*$/,zh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ps=/[\\^$.*+?()[\]{}|]/g,Qh=RegExp(Ps.source),Ts=/^\s+/,Gh=/\s/,Kh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yh=/\{\n\/\* \[wrapped with (.+)\] \*/,Zh=/,? & /,Xh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Jh=/[()=,{}\[\]\/\s]/,Vh=/\\(\\)?/g,jh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ka=/\w*$/,ed=/^[-+]0x[0-9a-f]+$/i,td=/^0b[01]+$/i,nd=/^\[object .+?Constructor\]$/,rd=/^0o[0-7]+$/i,id=/^(?:0|[1-9]\d*)$/,sd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oi=/($^)/,od=/['\n\r\u2028\u2029\\]/g,ai="\\ud800-\\udfff",ad="\\u0300-\\u036f",ud="\\ufe20-\\ufe2f",cd="\\u20d0-\\u20ff",Ya=ad+ud+cd,Za="\\u2700-\\u27bf",Xa="a-z\\xdf-\\xf6\\xf8-\\xff",ld="\\xac\\xb1\\xd7\\xf7",fd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hd="\\u2000-\\u206f",dd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ja="A-Z\\xc0-\\xd6\\xd8-\\xde",Va="\\ufe0e\\ufe0f",ja=ld+fd+hd+dd,As="[']",pd="["+ai+"]",eu="["+ja+"]",ui="["+Ya+"]",tu="\\d+",gd="["+Za+"]",nu="["+Xa+"]",ru="[^"+ai+ja+tu+Za+Xa+Ja+"]",Rs="\\ud83c[\\udffb-\\udfff]",_d="(?:"+ui+"|"+Rs+")",iu="[^"+ai+"]",Is="(?:\\ud83c[\\udde6-\\uddff]){2}",Es="[\\ud800-\\udbff][\\udc00-\\udfff]",Bn="["+Ja+"]",su="\\u200d",ou="(?:"+nu+"|"+ru+")",vd="(?:"+Bn+"|"+ru+")",au="(?:"+As+"(?:d|ll|m|re|s|t|ve))?",uu="(?:"+As+"(?:D|LL|M|RE|S|T|VE))?",cu=_d+"?",lu="["+Va+"]?",md="(?:"+su+"(?:"+[iu,Is,Es].join("|")+")"+lu+cu+")*",yd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fu=lu+cu+md,wd="(?:"+[gd,Is,Es].join("|")+")"+fu,xd="(?:"+[iu+ui+"?",ui,Is,Es,pd].join("|")+")",Sd=RegExp(As,"g"),Cd=RegExp(ui,"g"),Os=RegExp(Rs+"(?="+Rs+")|"+xd+fu,"g"),Pd=RegExp([Bn+"?"+nu+"+"+au+"(?="+[eu,Bn,"$"].join("|")+")",vd+"+"+uu+"(?="+[eu,Bn+ou,"$"].join("|")+")",Bn+"?"+ou+"+"+au,Bn+"+"+uu,bd,yd,tu,wd].join("|"),"g"),Td=RegExp("["+su+ai+Ya+Va+"]"),Ad=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Id=-1,pe={};pe[_s]=pe[vs]=pe[ms]=pe[ys]=pe[bs]=pe[ws]=pe[xs]=pe[Ss]=pe[Cs]=!0,pe[kn]=pe[ni]=pe[Sr]=pe[vr]=pe[Un]=pe[mr]=pe[ri]=pe[ii]=pe[ft]=pe[yr]=pe[Nt]=pe[br]=pe[ht]=pe[wr]=pe[xr]=!1;var de={};de[kn]=de[ni]=de[Sr]=de[Un]=de[vr]=de[mr]=de[_s]=de[vs]=de[ms]=de[ys]=de[bs]=de[ft]=de[yr]=de[Nt]=de[br]=de[ht]=de[wr]=de[si]=de[ws]=de[xs]=de[Ss]=de[Cs]=!0,de[ri]=de[ii]=de[xr]=!1;var Ed={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Od={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ld={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Nd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fd=parseFloat,Md=parseInt,hu=typeof Vi=="object"&&Vi&&Vi.Object===Object&&Vi,Dd=typeof self=="object"&&self&&self.Object===Object&&self,Ie=hu||Dd||Function("return this")(),Ls=r&&!r.nodeType&&r,hn=Ls&&!0&&n&&!n.nodeType&&n,du=hn&&hn.exports===Ls,Ns=du&&hu.process,tt=function(){try{var w=hn&&hn.require&&hn.require("util").types;return w||Ns&&Ns.binding&&Ns.binding("util")}catch{}}(),pu=tt&&tt.isArrayBuffer,gu=tt&&tt.isDate,_u=tt&&tt.isMap,vu=tt&&tt.isRegExp,mu=tt&&tt.isSet,yu=tt&&tt.isTypedArray;function Ye(w,P,C){switch(C.length){case 0:return w.call(P);case 1:return w.call(P,C[0]);case 2:return w.call(P,C[0],C[1]);case 3:return w.call(P,C[0],C[1],C[2])}return w.apply(P,C)}function kd(w,P,C,M){for(var Q=-1,ae=w==null?0:w.length;++Q<ae;){var Te=w[Q];P(M,Te,C(Te),w)}return M}function nt(w,P){for(var C=-1,M=w==null?0:w.length;++C<M&&P(w[C],C,w)!==!1;);return w}function Ud(w,P){for(var C=w==null?0:w.length;C--&&P(w[C],C,w)!==!1;);return w}function bu(w,P){for(var C=-1,M=w==null?0:w.length;++C<M;)if(!P(w[C],C,w))return!1;return!0}function Qt(w,P){for(var C=-1,M=w==null?0:w.length,Q=0,ae=[];++C<M;){var Te=w[C];P(Te,C,w)&&(ae[Q++]=Te)}return ae}function ci(w,P){var C=w==null?0:w.length;return!!C&&Wn(w,P,0)>-1}function Fs(w,P,C){for(var M=-1,Q=w==null?0:w.length;++M<Q;)if(C(P,w[M]))return!0;return!1}function ge(w,P){for(var C=-1,M=w==null?0:w.length,Q=Array(M);++C<M;)Q[C]=P(w[C],C,w);return Q}function Gt(w,P){for(var C=-1,M=P.length,Q=w.length;++C<M;)w[Q+C]=P[C];return w}function Ms(w,P,C,M){var Q=-1,ae=w==null?0:w.length;for(M&&ae&&(C=w[++Q]);++Q<ae;)C=P(C,w[Q],Q,w);return C}function Bd(w,P,C,M){var Q=w==null?0:w.length;for(M&&Q&&(C=w[--Q]);Q--;)C=P(C,w[Q],Q,w);return C}function Ds(w,P){for(var C=-1,M=w==null?0:w.length;++C<M;)if(P(w[C],C,w))return!0;return!1}var Wd=ks("length");function $d(w){return w.split("")}function Hd(w){return w.match(Xh)||[]}function wu(w,P,C){var M;return C(w,function(Q,ae,Te){if(P(Q,ae,Te))return M=ae,!1}),M}function li(w,P,C,M){for(var Q=w.length,ae=C+(M?1:-1);M?ae--:++ae<Q;)if(P(w[ae],ae,w))return ae;return-1}function Wn(w,P,C){return P===P?ep(w,P,C):li(w,xu,C)}function qd(w,P,C,M){for(var Q=C-1,ae=w.length;++Q<ae;)if(M(w[Q],P))return Q;return-1}function xu(w){return w!==w}function Su(w,P){var C=w==null?0:w.length;return C?Bs(w,P)/C:ti}function ks(w){return function(P){return P==null?i:P[w]}}function Us(w){return function(P){return w==null?i:w[P]}}function Cu(w,P,C,M,Q){return Q(w,function(ae,Te,he){C=M?(M=!1,ae):P(C,ae,Te,he)}),C}function zd(w,P){var C=w.length;for(w.sort(P);C--;)w[C]=w[C].value;return w}function Bs(w,P){for(var C,M=-1,Q=w.length;++M<Q;){var ae=P(w[M]);ae!==i&&(C=C===i?ae:C+ae)}return C}function Ws(w,P){for(var C=-1,M=Array(w);++C<w;)M[C]=P(C);return M}function Qd(w,P){return ge(P,function(C){return[C,w[C]]})}function Pu(w){return w&&w.slice(0,Iu(w)+1).replace(Ts,"")}function Ze(w){return function(P){return w(P)}}function $s(w,P){return ge(P,function(C){return w[C]})}function Cr(w,P){return w.has(P)}function Tu(w,P){for(var C=-1,M=w.length;++C<M&&Wn(P,w[C],0)>-1;);return C}function Au(w,P){for(var C=w.length;C--&&Wn(P,w[C],0)>-1;);return C}function Gd(w,P){for(var C=w.length,M=0;C--;)w[C]===P&&++M;return M}var Kd=Us(Ed),Yd=Us(Od);function Zd(w){return"\\"+Nd[w]}function Xd(w,P){return w==null?i:w[P]}function $n(w){return Td.test(w)}function Jd(w){return Ad.test(w)}function Vd(w){for(var P,C=[];!(P=w.next()).done;)C.push(P.value);return C}function Hs(w){var P=-1,C=Array(w.size);return w.forEach(function(M,Q){C[++P]=[Q,M]}),C}function Ru(w,P){return function(C){return w(P(C))}}function Kt(w,P){for(var C=-1,M=w.length,Q=0,ae=[];++C<M;){var Te=w[C];(Te===P||Te===T)&&(w[C]=T,ae[Q++]=C)}return ae}function fi(w){var P=-1,C=Array(w.size);return w.forEach(function(M){C[++P]=M}),C}function jd(w){var P=-1,C=Array(w.size);return w.forEach(function(M){C[++P]=[M,M]}),C}function ep(w,P,C){for(var M=C-1,Q=w.length;++M<Q;)if(w[M]===P)return M;return-1}function tp(w,P,C){for(var M=C+1;M--;)if(w[M]===P)return M;return M}function Hn(w){return $n(w)?rp(w):Wd(w)}function dt(w){return $n(w)?ip(w):$d(w)}function Iu(w){for(var P=w.length;P--&&Gh.test(w.charAt(P)););return P}var np=Us(Ld);function rp(w){for(var P=Os.lastIndex=0;Os.test(w);)++P;return P}function ip(w){return w.match(Os)||[]}function sp(w){return w.match(Pd)||[]}var op=function w(P){P=P==null?Ie:qn.defaults(Ie.Object(),P,qn.pick(Ie,Rd));var C=P.Array,M=P.Date,Q=P.Error,ae=P.Function,Te=P.Math,he=P.Object,qs=P.RegExp,ap=P.String,rt=P.TypeError,hi=C.prototype,up=ae.prototype,zn=he.prototype,di=P["__core-js_shared__"],pi=up.toString,le=zn.hasOwnProperty,cp=0,Eu=function(){var e=/[^.]+$/.exec(di&&di.keys&&di.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gi=zn.toString,lp=pi.call(he),fp=Ie._,hp=qs("^"+pi.call(le).replace(Ps,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_i=du?P.Buffer:i,Yt=P.Symbol,vi=P.Uint8Array,Ou=_i?_i.allocUnsafe:i,mi=Ru(he.getPrototypeOf,he),Lu=he.create,Nu=zn.propertyIsEnumerable,yi=hi.splice,Fu=Yt?Yt.isConcatSpreadable:i,Pr=Yt?Yt.iterator:i,dn=Yt?Yt.toStringTag:i,bi=function(){try{var e=mn(he,"defineProperty");return e({},"",{}),e}catch{}}(),dp=P.clearTimeout!==Ie.clearTimeout&&P.clearTimeout,pp=M&&M.now!==Ie.Date.now&&M.now,gp=P.setTimeout!==Ie.setTimeout&&P.setTimeout,wi=Te.ceil,xi=Te.floor,zs=he.getOwnPropertySymbols,_p=_i?_i.isBuffer:i,Mu=P.isFinite,vp=hi.join,mp=Ru(he.keys,he),Ae=Te.max,Le=Te.min,yp=M.now,bp=P.parseInt,Du=Te.random,wp=hi.reverse,Qs=mn(P,"DataView"),Tr=mn(P,"Map"),Gs=mn(P,"Promise"),Qn=mn(P,"Set"),Ar=mn(P,"WeakMap"),Rr=mn(he,"create"),Si=Ar&&new Ar,Gn={},xp=yn(Qs),Sp=yn(Tr),Cp=yn(Gs),Pp=yn(Qn),Tp=yn(Ar),Ci=Yt?Yt.prototype:i,Ir=Ci?Ci.valueOf:i,ku=Ci?Ci.toString:i;function f(e){if(ye(e)&&!G(e)&&!(e instanceof ee)){if(e instanceof it)return e;if(le.call(e,"__wrapped__"))return Uc(e)}return new it(e)}var Kn=function(){function e(){}return function(t){if(!me(t))return{};if(Lu)return Lu(t);e.prototype=t;var s=new e;return e.prototype=i,s}}();function Pi(){}function it(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}f.templateSettings={escape:Wh,evaluate:$h,interpolate:Ga,variable:"",imports:{_:f}},f.prototype=Pi.prototype,f.prototype.constructor=f,it.prototype=Kn(Pi.prototype),it.prototype.constructor=it;function ee(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xt,this.__views__=[]}function Ap(){var e=new ee(this.__wrapped__);return e.__actions__=We(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=We(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=We(this.__views__),e}function Rp(){if(this.__filtered__){var e=new ee(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ip(){var e=this.__wrapped__.value(),t=this.__dir__,s=G(e),o=t<0,c=s?e.length:0,d=$g(0,c,this.__views__),g=d.start,m=d.end,x=m-g,A=o?m:g-1,R=this.__iteratees__,E=R.length,F=0,B=Le(x,this.__takeCount__);if(!s||!o&&c==x&&B==x)return ac(e,this.__actions__);var $=[];e:for(;x--&&F<B;){A+=t;for(var J=-1,H=e[A];++J<E;){var j=R[J],te=j.iteratee,Ve=j.type,ke=te(H);if(Ve==Sh)H=ke;else if(!ke){if(Ve==$a)continue e;break e}}$[F++]=H}return $}ee.prototype=Kn(Pi.prototype),ee.prototype.constructor=ee;function pn(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var o=e[t];this.set(o[0],o[1])}}function Ep(){this.__data__=Rr?Rr(null):{},this.size=0}function Op(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Lp(e){var t=this.__data__;if(Rr){var s=t[e];return s===v?i:s}return le.call(t,e)?t[e]:i}function Np(e){var t=this.__data__;return Rr?t[e]!==i:le.call(t,e)}function Fp(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Rr&&t===i?v:t,this}pn.prototype.clear=Ep,pn.prototype.delete=Op,pn.prototype.get=Lp,pn.prototype.has=Np,pn.prototype.set=Fp;function Ft(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var o=e[t];this.set(o[0],o[1])}}function Mp(){this.__data__=[],this.size=0}function Dp(e){var t=this.__data__,s=Ti(t,e);if(s<0)return!1;var o=t.length-1;return s==o?t.pop():yi.call(t,s,1),--this.size,!0}function kp(e){var t=this.__data__,s=Ti(t,e);return s<0?i:t[s][1]}function Up(e){return Ti(this.__data__,e)>-1}function Bp(e,t){var s=this.__data__,o=Ti(s,e);return o<0?(++this.size,s.push([e,t])):s[o][1]=t,this}Ft.prototype.clear=Mp,Ft.prototype.delete=Dp,Ft.prototype.get=kp,Ft.prototype.has=Up,Ft.prototype.set=Bp;function Mt(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var o=e[t];this.set(o[0],o[1])}}function Wp(){this.size=0,this.__data__={hash:new pn,map:new(Tr||Ft),string:new pn}}function $p(e){var t=Ui(this,e).delete(e);return this.size-=t?1:0,t}function Hp(e){return Ui(this,e).get(e)}function qp(e){return Ui(this,e).has(e)}function zp(e,t){var s=Ui(this,e),o=s.size;return s.set(e,t),this.size+=s.size==o?0:1,this}Mt.prototype.clear=Wp,Mt.prototype.delete=$p,Mt.prototype.get=Hp,Mt.prototype.has=qp,Mt.prototype.set=zp;function gn(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new Mt;++t<s;)this.add(e[t])}function Qp(e){return this.__data__.set(e,v),this}function Gp(e){return this.__data__.has(e)}gn.prototype.add=gn.prototype.push=Qp,gn.prototype.has=Gp;function pt(e){var t=this.__data__=new Ft(e);this.size=t.size}function Kp(){this.__data__=new Ft,this.size=0}function Yp(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function Zp(e){return this.__data__.get(e)}function Xp(e){return this.__data__.has(e)}function Jp(e,t){var s=this.__data__;if(s instanceof Ft){var o=s.__data__;if(!Tr||o.length<u-1)return o.push([e,t]),this.size=++s.size,this;s=this.__data__=new Mt(o)}return s.set(e,t),this.size=s.size,this}pt.prototype.clear=Kp,pt.prototype.delete=Yp,pt.prototype.get=Zp,pt.prototype.has=Xp,pt.prototype.set=Jp;function Uu(e,t){var s=G(e),o=!s&&bn(e),c=!s&&!o&&jt(e),d=!s&&!o&&!c&&Jn(e),g=s||o||c||d,m=g?Ws(e.length,ap):[],x=m.length;for(var A in e)(t||le.call(e,A))&&!(g&&(A=="length"||c&&(A=="offset"||A=="parent")||d&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Bt(A,x)))&&m.push(A);return m}function Bu(e){var t=e.length;return t?e[ro(0,t-1)]:i}function Vp(e,t){return Bi(We(e),_n(t,0,e.length))}function jp(e){return Bi(We(e))}function Ks(e,t,s){(s!==i&&!gt(e[t],s)||s===i&&!(t in e))&&Dt(e,t,s)}function Er(e,t,s){var o=e[t];(!(le.call(e,t)&&gt(o,s))||s===i&&!(t in e))&&Dt(e,t,s)}function Ti(e,t){for(var s=e.length;s--;)if(gt(e[s][0],t))return s;return-1}function eg(e,t,s,o){return Zt(e,function(c,d,g){t(o,c,s(c),g)}),o}function Wu(e,t){return e&&Ct(t,Re(t),e)}function tg(e,t){return e&&Ct(t,He(t),e)}function Dt(e,t,s){t=="__proto__"&&bi?bi(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Ys(e,t){for(var s=-1,o=t.length,c=C(o),d=e==null;++s<o;)c[s]=d?i:Io(e,t[s]);return c}function _n(e,t,s){return e===e&&(s!==i&&(e=e<=s?e:s),t!==i&&(e=e>=t?e:t)),e}function st(e,t,s,o,c,d){var g,m=t&y,x=t&N,A=t&I;if(s&&(g=c?s(e,o,c,d):s(e)),g!==i)return g;if(!me(e))return e;var R=G(e);if(R){if(g=qg(e),!m)return We(e,g)}else{var E=Ne(e),F=E==ii||E==Ha;if(jt(e))return lc(e,m);if(E==Nt||E==kn||F&&!c){if(g=x||F?{}:Ic(e),!m)return x?Lg(e,tg(g,e)):Og(e,Wu(g,e))}else{if(!de[E])return c?e:{};g=zg(e,E,m)}}d||(d=new pt);var B=d.get(e);if(B)return B;d.set(e,g),il(e)?e.forEach(function(H){g.add(st(H,t,s,H,e,d))}):nl(e)&&e.forEach(function(H,j){g.set(j,st(H,t,s,j,e,d))});var $=A?x?go:po:x?He:Re,J=R?i:$(e);return nt(J||e,function(H,j){J&&(j=H,H=e[j]),Er(g,j,st(H,t,s,j,e,d))}),g}function ng(e){var t=Re(e);return function(s){return $u(s,e,t)}}function $u(e,t,s){var o=s.length;if(e==null)return!o;for(e=he(e);o--;){var c=s[o],d=t[c],g=e[c];if(g===i&&!(c in e)||!d(g))return!1}return!0}function Hu(e,t,s){if(typeof e!="function")throw new rt(p);return kr(function(){e.apply(i,s)},t)}function Or(e,t,s,o){var c=-1,d=ci,g=!0,m=e.length,x=[],A=t.length;if(!m)return x;s&&(t=ge(t,Ze(s))),o?(d=Fs,g=!1):t.length>=u&&(d=Cr,g=!1,t=new gn(t));e:for(;++c<m;){var R=e[c],E=s==null?R:s(R);if(R=o||R!==0?R:0,g&&E===E){for(var F=A;F--;)if(t[F]===E)continue e;x.push(R)}else d(t,E,o)||x.push(R)}return x}var Zt=gc(St),qu=gc(Xs,!0);function rg(e,t){var s=!0;return Zt(e,function(o,c,d){return s=!!t(o,c,d),s}),s}function Ai(e,t,s){for(var o=-1,c=e.length;++o<c;){var d=e[o],g=t(d);if(g!=null&&(m===i?g===g&&!Je(g):s(g,m)))var m=g,x=d}return x}function ig(e,t,s,o){var c=e.length;for(s=X(s),s<0&&(s=-s>c?0:c+s),o=o===i||o>c?c:X(o),o<0&&(o+=c),o=s>o?0:ol(o);s<o;)e[s++]=t;return e}function zu(e,t){var s=[];return Zt(e,function(o,c,d){t(o,c,d)&&s.push(o)}),s}function Ee(e,t,s,o,c){var d=-1,g=e.length;for(s||(s=Gg),c||(c=[]);++d<g;){var m=e[d];t>0&&s(m)?t>1?Ee(m,t-1,s,o,c):Gt(c,m):o||(c[c.length]=m)}return c}var Zs=_c(),Qu=_c(!0);function St(e,t){return e&&Zs(e,t,Re)}function Xs(e,t){return e&&Qu(e,t,Re)}function Ri(e,t){return Qt(t,function(s){return Wt(e[s])})}function vn(e,t){t=Jt(t,e);for(var s=0,o=t.length;e!=null&&s<o;)e=e[Pt(t[s++])];return s&&s==o?e:i}function Gu(e,t,s){var o=t(e);return G(e)?o:Gt(o,s(e))}function Me(e){return e==null?e===i?Nh:Oh:dn&&dn in he(e)?Wg(e):jg(e)}function Js(e,t){return e>t}function sg(e,t){return e!=null&&le.call(e,t)}function og(e,t){return e!=null&&t in he(e)}function ag(e,t,s){return e>=Le(t,s)&&e<Ae(t,s)}function Vs(e,t,s){for(var o=s?Fs:ci,c=e[0].length,d=e.length,g=d,m=C(d),x=1/0,A=[];g--;){var R=e[g];g&&t&&(R=ge(R,Ze(t))),x=Le(R.length,x),m[g]=!s&&(t||c>=120&&R.length>=120)?new gn(g&&R):i}R=e[0];var E=-1,F=m[0];e:for(;++E<c&&A.length<x;){var B=R[E],$=t?t(B):B;if(B=s||B!==0?B:0,!(F?Cr(F,$):o(A,$,s))){for(g=d;--g;){var J=m[g];if(!(J?Cr(J,$):o(e[g],$,s)))continue e}F&&F.push($),A.push(B)}}return A}function ug(e,t,s,o){return St(e,function(c,d,g){t(o,s(c),d,g)}),o}function Lr(e,t,s){t=Jt(t,e),e=Nc(e,t);var o=e==null?e:e[Pt(at(t))];return o==null?i:Ye(o,e,s)}function Ku(e){return ye(e)&&Me(e)==kn}function cg(e){return ye(e)&&Me(e)==Sr}function lg(e){return ye(e)&&Me(e)==mr}function Nr(e,t,s,o,c){return e===t?!0:e==null||t==null||!ye(e)&&!ye(t)?e!==e&&t!==t:fg(e,t,s,o,Nr,c)}function fg(e,t,s,o,c,d){var g=G(e),m=G(t),x=g?ni:Ne(e),A=m?ni:Ne(t);x=x==kn?Nt:x,A=A==kn?Nt:A;var R=x==Nt,E=A==Nt,F=x==A;if(F&&jt(e)){if(!jt(t))return!1;g=!0,R=!1}if(F&&!R)return d||(d=new pt),g||Jn(e)?Tc(e,t,s,o,c,d):Ug(e,t,x,s,o,c,d);if(!(s&k)){var B=R&&le.call(e,"__wrapped__"),$=E&&le.call(t,"__wrapped__");if(B||$){var J=B?e.value():e,H=$?t.value():t;return d||(d=new pt),c(J,H,s,o,d)}}return F?(d||(d=new pt),Bg(e,t,s,o,c,d)):!1}function hg(e){return ye(e)&&Ne(e)==ft}function js(e,t,s,o){var c=s.length,d=c,g=!o;if(e==null)return!d;for(e=he(e);c--;){var m=s[c];if(g&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++c<d;){m=s[c];var x=m[0],A=e[x],R=m[1];if(g&&m[2]){if(A===i&&!(x in e))return!1}else{var E=new pt;if(o)var F=o(A,R,x,e,t,E);if(!(F===i?Nr(R,A,k|O,o,E):F))return!1}}return!0}function Yu(e){if(!me(e)||Yg(e))return!1;var t=Wt(e)?hp:nd;return t.test(yn(e))}function dg(e){return ye(e)&&Me(e)==br}function pg(e){return ye(e)&&Ne(e)==ht}function gg(e){return ye(e)&&Qi(e.length)&&!!pe[Me(e)]}function Zu(e){return typeof e=="function"?e:e==null?qe:typeof e=="object"?G(e)?Vu(e[0],e[1]):Ju(e):vl(e)}function eo(e){if(!Dr(e))return mp(e);var t=[];for(var s in he(e))le.call(e,s)&&s!="constructor"&&t.push(s);return t}function _g(e){if(!me(e))return Vg(e);var t=Dr(e),s=[];for(var o in e)o=="constructor"&&(t||!le.call(e,o))||s.push(o);return s}function to(e,t){return e<t}function Xu(e,t){var s=-1,o=$e(e)?C(e.length):[];return Zt(e,function(c,d,g){o[++s]=t(c,d,g)}),o}function Ju(e){var t=vo(e);return t.length==1&&t[0][2]?Oc(t[0][0],t[0][1]):function(s){return s===e||js(s,e,t)}}function Vu(e,t){return yo(e)&&Ec(t)?Oc(Pt(e),t):function(s){var o=Io(s,e);return o===i&&o===t?Eo(s,e):Nr(t,o,k|O)}}function Ii(e,t,s,o,c){e!==t&&Zs(t,function(d,g){if(c||(c=new pt),me(d))vg(e,t,g,s,Ii,o,c);else{var m=o?o(wo(e,g),d,g+"",e,t,c):i;m===i&&(m=d),Ks(e,g,m)}},He)}function vg(e,t,s,o,c,d,g){var m=wo(e,s),x=wo(t,s),A=g.get(x);if(A){Ks(e,s,A);return}var R=d?d(m,x,s+"",e,t,g):i,E=R===i;if(E){var F=G(x),B=!F&&jt(x),$=!F&&!B&&Jn(x);R=x,F||B||$?G(m)?R=m:xe(m)?R=We(m):B?(E=!1,R=lc(x,!0)):$?(E=!1,R=fc(x,!0)):R=[]:Ur(x)||bn(x)?(R=m,bn(m)?R=al(m):(!me(m)||Wt(m))&&(R=Ic(x))):E=!1}E&&(g.set(x,R),c(R,x,o,d,g),g.delete(x)),Ks(e,s,R)}function ju(e,t){var s=e.length;if(s)return t+=t<0?s:0,Bt(t,s)?e[t]:i}function ec(e,t,s){t.length?t=ge(t,function(d){return G(d)?function(g){return vn(g,d.length===1?d[0]:d)}:d}):t=[qe];var o=-1;t=ge(t,Ze(W()));var c=Xu(e,function(d,g,m){var x=ge(t,function(A){return A(d)});return{criteria:x,index:++o,value:d}});return zd(c,function(d,g){return Eg(d,g,s)})}function mg(e,t){return tc(e,t,function(s,o){return Eo(e,o)})}function tc(e,t,s){for(var o=-1,c=t.length,d={};++o<c;){var g=t[o],m=vn(e,g);s(m,g)&&Fr(d,Jt(g,e),m)}return d}function yg(e){return function(t){return vn(t,e)}}function no(e,t,s,o){var c=o?qd:Wn,d=-1,g=t.length,m=e;for(e===t&&(t=We(t)),s&&(m=ge(e,Ze(s)));++d<g;)for(var x=0,A=t[d],R=s?s(A):A;(x=c(m,R,x,o))>-1;)m!==e&&yi.call(m,x,1),yi.call(e,x,1);return e}function nc(e,t){for(var s=e?t.length:0,o=s-1;s--;){var c=t[s];if(s==o||c!==d){var d=c;Bt(c)?yi.call(e,c,1):oo(e,c)}}return e}function ro(e,t){return e+xi(Du()*(t-e+1))}function bg(e,t,s,o){for(var c=-1,d=Ae(wi((t-e)/(s||1)),0),g=C(d);d--;)g[o?d:++c]=e,e+=s;return g}function io(e,t){var s="";if(!e||t<1||t>Dn)return s;do t%2&&(s+=e),t=xi(t/2),t&&(e+=e);while(t);return s}function V(e,t){return xo(Lc(e,t,qe),e+"")}function wg(e){return Bu(Vn(e))}function xg(e,t){var s=Vn(e);return Bi(s,_n(t,0,s.length))}function Fr(e,t,s,o){if(!me(e))return e;t=Jt(t,e);for(var c=-1,d=t.length,g=d-1,m=e;m!=null&&++c<d;){var x=Pt(t[c]),A=s;if(x==="__proto__"||x==="constructor"||x==="prototype")return e;if(c!=g){var R=m[x];A=o?o(R,x,m):i,A===i&&(A=me(R)?R:Bt(t[c+1])?[]:{})}Er(m,x,A),m=m[x]}return e}var rc=Si?function(e,t){return Si.set(e,t),e}:qe,Sg=bi?function(e,t){return bi(e,"toString",{configurable:!0,enumerable:!1,value:Lo(t),writable:!0})}:qe;function Cg(e){return Bi(Vn(e))}function ot(e,t,s){var o=-1,c=e.length;t<0&&(t=-t>c?0:c+t),s=s>c?c:s,s<0&&(s+=c),c=t>s?0:s-t>>>0,t>>>=0;for(var d=C(c);++o<c;)d[o]=e[o+t];return d}function Pg(e,t){var s;return Zt(e,function(o,c,d){return s=t(o,c,d),!s}),!!s}function Ei(e,t,s){var o=0,c=e==null?o:e.length;if(typeof t=="number"&&t===t&&c<=Ah){for(;o<c;){var d=o+c>>>1,g=e[d];g!==null&&!Je(g)&&(s?g<=t:g<t)?o=d+1:c=d}return c}return so(e,t,qe,s)}function so(e,t,s,o){var c=0,d=e==null?0:e.length;if(d===0)return 0;t=s(t);for(var g=t!==t,m=t===null,x=Je(t),A=t===i;c<d;){var R=xi((c+d)/2),E=s(e[R]),F=E!==i,B=E===null,$=E===E,J=Je(E);if(g)var H=o||$;else A?H=$&&(o||F):m?H=$&&F&&(o||!B):x?H=$&&F&&!B&&(o||!J):B||J?H=!1:H=o?E<=t:E<t;H?c=R+1:d=R}return Le(d,Th)}function ic(e,t){for(var s=-1,o=e.length,c=0,d=[];++s<o;){var g=e[s],m=t?t(g):g;if(!s||!gt(m,x)){var x=m;d[c++]=g===0?0:g}}return d}function sc(e){return typeof e=="number"?e:Je(e)?ti:+e}function Xe(e){if(typeof e=="string")return e;if(G(e))return ge(e,Xe)+"";if(Je(e))return ku?ku.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Xt(e,t,s){var o=-1,c=ci,d=e.length,g=!0,m=[],x=m;if(s)g=!1,c=Fs;else if(d>=u){var A=t?null:Dg(e);if(A)return fi(A);g=!1,c=Cr,x=new gn}else x=t?[]:m;e:for(;++o<d;){var R=e[o],E=t?t(R):R;if(R=s||R!==0?R:0,g&&E===E){for(var F=x.length;F--;)if(x[F]===E)continue e;t&&x.push(E),m.push(R)}else c(x,E,s)||(x!==m&&x.push(E),m.push(R))}return m}function oo(e,t){return t=Jt(t,e),e=Nc(e,t),e==null||delete e[Pt(at(t))]}function oc(e,t,s,o){return Fr(e,t,s(vn(e,t)),o)}function Oi(e,t,s,o){for(var c=e.length,d=o?c:-1;(o?d--:++d<c)&&t(e[d],d,e););return s?ot(e,o?0:d,o?d+1:c):ot(e,o?d+1:0,o?c:d)}function ac(e,t){var s=e;return s instanceof ee&&(s=s.value()),Ms(t,function(o,c){return c.func.apply(c.thisArg,Gt([o],c.args))},s)}function ao(e,t,s){var o=e.length;if(o<2)return o?Xt(e[0]):[];for(var c=-1,d=C(o);++c<o;)for(var g=e[c],m=-1;++m<o;)m!=c&&(d[c]=Or(d[c]||g,e[m],t,s));return Xt(Ee(d,1),t,s)}function uc(e,t,s){for(var o=-1,c=e.length,d=t.length,g={};++o<c;){var m=o<d?t[o]:i;s(g,e[o],m)}return g}function uo(e){return xe(e)?e:[]}function co(e){return typeof e=="function"?e:qe}function Jt(e,t){return G(e)?e:yo(e,t)?[e]:kc(ue(e))}var Tg=V;function Vt(e,t,s){var o=e.length;return s=s===i?o:s,!t&&s>=o?e:ot(e,t,s)}var cc=dp||function(e){return Ie.clearTimeout(e)};function lc(e,t){if(t)return e.slice();var s=e.length,o=Ou?Ou(s):new e.constructor(s);return e.copy(o),o}function lo(e){var t=new e.constructor(e.byteLength);return new vi(t).set(new vi(e)),t}function Ag(e,t){var s=t?lo(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function Rg(e){var t=new e.constructor(e.source,Ka.exec(e));return t.lastIndex=e.lastIndex,t}function Ig(e){return Ir?he(Ir.call(e)):{}}function fc(e,t){var s=t?lo(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function hc(e,t){if(e!==t){var s=e!==i,o=e===null,c=e===e,d=Je(e),g=t!==i,m=t===null,x=t===t,A=Je(t);if(!m&&!A&&!d&&e>t||d&&g&&x&&!m&&!A||o&&g&&x||!s&&x||!c)return 1;if(!o&&!d&&!A&&e<t||A&&s&&c&&!o&&!d||m&&s&&c||!g&&c||!x)return-1}return 0}function Eg(e,t,s){for(var o=-1,c=e.criteria,d=t.criteria,g=c.length,m=s.length;++o<g;){var x=hc(c[o],d[o]);if(x){if(o>=m)return x;var A=s[o];return x*(A=="desc"?-1:1)}}return e.index-t.index}function dc(e,t,s,o){for(var c=-1,d=e.length,g=s.length,m=-1,x=t.length,A=Ae(d-g,0),R=C(x+A),E=!o;++m<x;)R[m]=t[m];for(;++c<g;)(E||c<d)&&(R[s[c]]=e[c]);for(;A--;)R[m++]=e[c++];return R}function pc(e,t,s,o){for(var c=-1,d=e.length,g=-1,m=s.length,x=-1,A=t.length,R=Ae(d-m,0),E=C(R+A),F=!o;++c<R;)E[c]=e[c];for(var B=c;++x<A;)E[B+x]=t[x];for(;++g<m;)(F||c<d)&&(E[B+s[g]]=e[c++]);return E}function We(e,t){var s=-1,o=e.length;for(t||(t=C(o));++s<o;)t[s]=e[s];return t}function Ct(e,t,s,o){var c=!s;s||(s={});for(var d=-1,g=t.length;++d<g;){var m=t[d],x=o?o(s[m],e[m],m,s,e):i;x===i&&(x=e[m]),c?Dt(s,m,x):Er(s,m,x)}return s}function Og(e,t){return Ct(e,mo(e),t)}function Lg(e,t){return Ct(e,Ac(e),t)}function Li(e,t){return function(s,o){var c=G(s)?kd:eg,d=t?t():{};return c(s,e,W(o,2),d)}}function Yn(e){return V(function(t,s){var o=-1,c=s.length,d=c>1?s[c-1]:i,g=c>2?s[2]:i;for(d=e.length>3&&typeof d=="function"?(c--,d):i,g&&De(s[0],s[1],g)&&(d=c<3?i:d,c=1),t=he(t);++o<c;){var m=s[o];m&&e(t,m,o,d)}return t})}function gc(e,t){return function(s,o){if(s==null)return s;if(!$e(s))return e(s,o);for(var c=s.length,d=t?c:-1,g=he(s);(t?d--:++d<c)&&o(g[d],d,g)!==!1;);return s}}function _c(e){return function(t,s,o){for(var c=-1,d=he(t),g=o(t),m=g.length;m--;){var x=g[e?m:++c];if(s(d[x],x,d)===!1)break}return t}}function Ng(e,t,s){var o=t&L,c=Mr(e);function d(){var g=this&&this!==Ie&&this instanceof d?c:e;return g.apply(o?s:this,arguments)}return d}function vc(e){return function(t){t=ue(t);var s=$n(t)?dt(t):i,o=s?s[0]:t.charAt(0),c=s?Vt(s,1).join(""):t.slice(1);return o[e]()+c}}function Zn(e){return function(t){return Ms(gl(pl(t).replace(Sd,"")),e,"")}}function Mr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=Kn(e.prototype),o=e.apply(s,t);return me(o)?o:s}}function Fg(e,t,s){var o=Mr(e);function c(){for(var d=arguments.length,g=C(d),m=d,x=Xn(c);m--;)g[m]=arguments[m];var A=d<3&&g[0]!==x&&g[d-1]!==x?[]:Kt(g,x);if(d-=A.length,d<s)return xc(e,t,Ni,c.placeholder,i,g,A,i,i,s-d);var R=this&&this!==Ie&&this instanceof c?o:e;return Ye(R,this,g)}return c}function mc(e){return function(t,s,o){var c=he(t);if(!$e(t)){var d=W(s,3);t=Re(t),s=function(m){return d(c[m],m,c)}}var g=e(t,s,o);return g>-1?c[d?t[g]:g]:i}}function yc(e){return Ut(function(t){var s=t.length,o=s,c=it.prototype.thru;for(e&&t.reverse();o--;){var d=t[o];if(typeof d!="function")throw new rt(p);if(c&&!g&&ki(d)=="wrapper")var g=new it([],!0)}for(o=g?o:s;++o<s;){d=t[o];var m=ki(d),x=m=="wrapper"?_o(d):i;x&&bo(x[0])&&x[1]==(fe|Y|se|ie)&&!x[4].length&&x[9]==1?g=g[ki(x[0])].apply(g,x[3]):g=d.length==1&&bo(d)?g[m]():g.thru(d)}return function(){var A=arguments,R=A[0];if(g&&A.length==1&&G(R))return g.plant(R).value();for(var E=0,F=s?t[E].apply(this,A):R;++E<s;)F=t[E].call(this,F);return F}})}function Ni(e,t,s,o,c,d,g,m,x,A){var R=t&fe,E=t&L,F=t&U,B=t&(Y|Z),$=t&oe,J=F?i:Mr(e);function H(){for(var j=arguments.length,te=C(j),Ve=j;Ve--;)te[Ve]=arguments[Ve];if(B)var ke=Xn(H),je=Gd(te,ke);if(o&&(te=dc(te,o,c,B)),d&&(te=pc(te,d,g,B)),j-=je,B&&j<A){var Se=Kt(te,ke);return xc(e,t,Ni,H.placeholder,s,te,Se,m,x,A-j)}var _t=E?s:this,Ht=F?_t[e]:e;return j=te.length,m?te=e_(te,m):$&&j>1&&te.reverse(),R&&x<j&&(te.length=x),this&&this!==Ie&&this instanceof H&&(Ht=J||Mr(Ht)),Ht.apply(_t,te)}return H}function bc(e,t){return function(s,o){return ug(s,e,t(o),{})}}function Fi(e,t){return function(s,o){var c;if(s===i&&o===i)return t;if(s!==i&&(c=s),o!==i){if(c===i)return o;typeof s=="string"||typeof o=="string"?(s=Xe(s),o=Xe(o)):(s=sc(s),o=sc(o)),c=e(s,o)}return c}}function fo(e){return Ut(function(t){return t=ge(t,Ze(W())),V(function(s){var o=this;return e(t,function(c){return Ye(c,o,s)})})})}function Mi(e,t){t=t===i?" ":Xe(t);var s=t.length;if(s<2)return s?io(t,e):t;var o=io(t,wi(e/Hn(t)));return $n(t)?Vt(dt(o),0,e).join(""):o.slice(0,e)}function Mg(e,t,s,o){var c=t&L,d=Mr(e);function g(){for(var m=-1,x=arguments.length,A=-1,R=o.length,E=C(R+x),F=this&&this!==Ie&&this instanceof g?d:e;++A<R;)E[A]=o[A];for(;x--;)E[A++]=arguments[++m];return Ye(F,c?s:this,E)}return g}function wc(e){return function(t,s,o){return o&&typeof o!="number"&&De(t,s,o)&&(s=o=i),t=$t(t),s===i?(s=t,t=0):s=$t(s),o=o===i?t<s?1:-1:$t(o),bg(t,s,o,e)}}function Di(e){return function(t,s){return typeof t=="string"&&typeof s=="string"||(t=ut(t),s=ut(s)),e(t,s)}}function xc(e,t,s,o,c,d,g,m,x,A){var R=t&Y,E=R?g:i,F=R?i:g,B=R?d:i,$=R?i:d;t|=R?se:ve,t&=~(R?ve:se),t&z||(t&=-4);var J=[e,t,c,B,E,$,F,m,x,A],H=s.apply(i,J);return bo(e)&&Fc(H,J),H.placeholder=o,Mc(H,e,t)}function ho(e){var t=Te[e];return function(s,o){if(s=ut(s),o=o==null?0:Le(X(o),292),o&&Mu(s)){var c=(ue(s)+"e").split("e"),d=t(c[0]+"e"+(+c[1]+o));return c=(ue(d)+"e").split("e"),+(c[0]+"e"+(+c[1]-o))}return t(s)}}var Dg=Qn&&1/fi(new Qn([,-0]))[1]==ei?function(e){return new Qn(e)}:Mo;function Sc(e){return function(t){var s=Ne(t);return s==ft?Hs(t):s==ht?jd(t):Qd(t,e(t))}}function kt(e,t,s,o,c,d,g,m){var x=t&U;if(!x&&typeof e!="function")throw new rt(p);var A=o?o.length:0;if(A||(t&=-97,o=c=i),g=g===i?g:Ae(X(g),0),m=m===i?m:X(m),A-=c?c.length:0,t&ve){var R=o,E=c;o=c=i}var F=x?i:_o(e),B=[e,t,s,o,c,R,E,d,g,m];if(F&&Jg(B,F),e=B[0],t=B[1],s=B[2],o=B[3],c=B[4],m=B[9]=B[9]===i?x?0:e.length:Ae(B[9]-A,0),!m&&t&(Y|Z)&&(t&=-25),!t||t==L)var $=Ng(e,t,s);else t==Y||t==Z?$=Fg(e,t,m):(t==se||t==(L|se))&&!c.length?$=Mg(e,t,s,o):$=Ni.apply(i,B);var J=F?rc:Fc;return Mc(J($,B),e,t)}function Cc(e,t,s,o){return e===i||gt(e,zn[s])&&!le.call(o,s)?t:e}function Pc(e,t,s,o,c,d){return me(e)&&me(t)&&(d.set(t,e),Ii(e,t,i,Pc,d),d.delete(t)),e}function kg(e){return Ur(e)?i:e}function Tc(e,t,s,o,c,d){var g=s&k,m=e.length,x=t.length;if(m!=x&&!(g&&x>m))return!1;var A=d.get(e),R=d.get(t);if(A&&R)return A==t&&R==e;var E=-1,F=!0,B=s&O?new gn:i;for(d.set(e,t),d.set(t,e);++E<m;){var $=e[E],J=t[E];if(o)var H=g?o(J,$,E,t,e,d):o($,J,E,e,t,d);if(H!==i){if(H)continue;F=!1;break}if(B){if(!Ds(t,function(j,te){if(!Cr(B,te)&&($===j||c($,j,s,o,d)))return B.push(te)})){F=!1;break}}else if(!($===J||c($,J,s,o,d))){F=!1;break}}return d.delete(e),d.delete(t),F}function Ug(e,t,s,o,c,d,g){switch(s){case Un:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Sr:return!(e.byteLength!=t.byteLength||!d(new vi(e),new vi(t)));case vr:case mr:case yr:return gt(+e,+t);case ri:return e.name==t.name&&e.message==t.message;case br:case wr:return e==t+"";case ft:var m=Hs;case ht:var x=o&k;if(m||(m=fi),e.size!=t.size&&!x)return!1;var A=g.get(e);if(A)return A==t;o|=O,g.set(e,t);var R=Tc(m(e),m(t),o,c,d,g);return g.delete(e),R;case si:if(Ir)return Ir.call(e)==Ir.call(t)}return!1}function Bg(e,t,s,o,c,d){var g=s&k,m=po(e),x=m.length,A=po(t),R=A.length;if(x!=R&&!g)return!1;for(var E=x;E--;){var F=m[E];if(!(g?F in t:le.call(t,F)))return!1}var B=d.get(e),$=d.get(t);if(B&&$)return B==t&&$==e;var J=!0;d.set(e,t),d.set(t,e);for(var H=g;++E<x;){F=m[E];var j=e[F],te=t[F];if(o)var Ve=g?o(te,j,F,t,e,d):o(j,te,F,e,t,d);if(!(Ve===i?j===te||c(j,te,s,o,d):Ve)){J=!1;break}H||(H=F=="constructor")}if(J&&!H){var ke=e.constructor,je=t.constructor;ke!=je&&"constructor"in e&&"constructor"in t&&!(typeof ke=="function"&&ke instanceof ke&&typeof je=="function"&&je instanceof je)&&(J=!1)}return d.delete(e),d.delete(t),J}function Ut(e){return xo(Lc(e,i,$c),e+"")}function po(e){return Gu(e,Re,mo)}function go(e){return Gu(e,He,Ac)}var _o=Si?function(e){return Si.get(e)}:Mo;function ki(e){for(var t=e.name+"",s=Gn[t],o=le.call(Gn,t)?s.length:0;o--;){var c=s[o],d=c.func;if(d==null||d==e)return c.name}return t}function Xn(e){var t=le.call(f,"placeholder")?f:e;return t.placeholder}function W(){var e=f.iteratee||No;return e=e===No?Zu:e,arguments.length?e(arguments[0],arguments[1]):e}function Ui(e,t){var s=e.__data__;return Kg(t)?s[typeof t=="string"?"string":"hash"]:s.map}function vo(e){for(var t=Re(e),s=t.length;s--;){var o=t[s],c=e[o];t[s]=[o,c,Ec(c)]}return t}function mn(e,t){var s=Xd(e,t);return Yu(s)?s:i}function Wg(e){var t=le.call(e,dn),s=e[dn];try{e[dn]=i;var o=!0}catch{}var c=gi.call(e);return o&&(t?e[dn]=s:delete e[dn]),c}var mo=zs?function(e){return e==null?[]:(e=he(e),Qt(zs(e),function(t){return Nu.call(e,t)}))}:Do,Ac=zs?function(e){for(var t=[];e;)Gt(t,mo(e)),e=mi(e);return t}:Do,Ne=Me;(Qs&&Ne(new Qs(new ArrayBuffer(1)))!=Un||Tr&&Ne(new Tr)!=ft||Gs&&Ne(Gs.resolve())!=qa||Qn&&Ne(new Qn)!=ht||Ar&&Ne(new Ar)!=xr)&&(Ne=function(e){var t=Me(e),s=t==Nt?e.constructor:i,o=s?yn(s):"";if(o)switch(o){case xp:return Un;case Sp:return ft;case Cp:return qa;case Pp:return ht;case Tp:return xr}return t});function $g(e,t,s){for(var o=-1,c=s.length;++o<c;){var d=s[o],g=d.size;switch(d.type){case"drop":e+=g;break;case"dropRight":t-=g;break;case"take":t=Le(t,e+g);break;case"takeRight":e=Ae(e,t-g);break}}return{start:e,end:t}}function Hg(e){var t=e.match(Yh);return t?t[1].split(Zh):[]}function Rc(e,t,s){t=Jt(t,e);for(var o=-1,c=t.length,d=!1;++o<c;){var g=Pt(t[o]);if(!(d=e!=null&&s(e,g)))break;e=e[g]}return d||++o!=c?d:(c=e==null?0:e.length,!!c&&Qi(c)&&Bt(g,c)&&(G(e)||bn(e)))}function qg(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&le.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function Ic(e){return typeof e.constructor=="function"&&!Dr(e)?Kn(mi(e)):{}}function zg(e,t,s){var o=e.constructor;switch(t){case Sr:return lo(e);case vr:case mr:return new o(+e);case Un:return Ag(e,s);case _s:case vs:case ms:case ys:case bs:case ws:case xs:case Ss:case Cs:return fc(e,s);case ft:return new o;case yr:case wr:return new o(e);case br:return Rg(e);case ht:return new o;case si:return Ig(e)}}function Qg(e,t){var s=t.length;if(!s)return e;var o=s-1;return t[o]=(s>1?"& ":"")+t[o],t=t.join(s>2?", ":" "),e.replace(Kh,`{
/* [wrapped with `+t+`] */
`)}function Gg(e){return G(e)||bn(e)||!!(Fu&&e&&e[Fu])}function Bt(e,t){var s=typeof e;return t=t??Dn,!!t&&(s=="number"||s!="symbol"&&id.test(e))&&e>-1&&e%1==0&&e<t}function De(e,t,s){if(!me(s))return!1;var o=typeof t;return(o=="number"?$e(s)&&Bt(t,s.length):o=="string"&&t in s)?gt(s[t],e):!1}function yo(e,t){if(G(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||Je(e)?!0:qh.test(e)||!Hh.test(e)||t!=null&&e in he(t)}function Kg(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function bo(e){var t=ki(e),s=f[t];if(typeof s!="function"||!(t in ee.prototype))return!1;if(e===s)return!0;var o=_o(s);return!!o&&e===o[0]}function Yg(e){return!!Eu&&Eu in e}var Zg=di?Wt:ko;function Dr(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||zn;return e===s}function Ec(e){return e===e&&!me(e)}function Oc(e,t){return function(s){return s==null?!1:s[e]===t&&(t!==i||e in he(s))}}function Xg(e){var t=qi(e,function(o){return s.size===S&&s.clear(),o}),s=t.cache;return t}function Jg(e,t){var s=e[1],o=t[1],c=s|o,d=c<(L|U|fe),g=o==fe&&s==Y||o==fe&&s==ie&&e[7].length<=t[8]||o==(fe|ie)&&t[7].length<=t[8]&&s==Y;if(!(d||g))return e;o&L&&(e[2]=t[2],c|=s&L?0:z);var m=t[3];if(m){var x=e[3];e[3]=x?dc(x,m,t[4]):m,e[4]=x?Kt(e[3],T):t[4]}return m=t[5],m&&(x=e[5],e[5]=x?pc(x,m,t[6]):m,e[6]=x?Kt(e[5],T):t[6]),m=t[7],m&&(e[7]=m),o&fe&&(e[8]=e[8]==null?t[8]:Le(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}function Vg(e){var t=[];if(e!=null)for(var s in he(e))t.push(s);return t}function jg(e){return gi.call(e)}function Lc(e,t,s){return t=Ae(t===i?e.length-1:t,0),function(){for(var o=arguments,c=-1,d=Ae(o.length-t,0),g=C(d);++c<d;)g[c]=o[t+c];c=-1;for(var m=C(t+1);++c<t;)m[c]=o[c];return m[t]=s(g),Ye(e,this,m)}}function Nc(e,t){return t.length<2?e:vn(e,ot(t,0,-1))}function e_(e,t){for(var s=e.length,o=Le(t.length,s),c=We(e);o--;){var d=t[o];e[o]=Bt(d,s)?c[d]:i}return e}function wo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Fc=Dc(rc),kr=gp||function(e,t){return Ie.setTimeout(e,t)},xo=Dc(Sg);function Mc(e,t,s){var o=t+"";return xo(e,Qg(o,t_(Hg(o),s)))}function Dc(e){var t=0,s=0;return function(){var o=yp(),c=xh-(o-s);if(s=o,c>0){if(++t>=Mn)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Bi(e,t){var s=-1,o=e.length,c=o-1;for(t=t===i?o:t;++s<t;){var d=ro(s,c),g=e[d];e[d]=e[s],e[s]=g}return e.length=t,e}var kc=Xg(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zh,function(s,o,c,d){t.push(c?d.replace(Vh,"$1"):o||s)}),t});function Pt(e){if(typeof e=="string"||Je(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function yn(e){if(e!=null){try{return pi.call(e)}catch{}try{return e+""}catch{}}return""}function t_(e,t){return nt(Rh,function(s){var o="_."+s[0];t&s[1]&&!ci(e,o)&&e.push(o)}),e.sort()}function Uc(e){if(e instanceof ee)return e.clone();var t=new it(e.__wrapped__,e.__chain__);return t.__actions__=We(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function n_(e,t,s){(s?De(e,t,s):t===i)?t=1:t=Ae(X(t),0);var o=e==null?0:e.length;if(!o||t<1)return[];for(var c=0,d=0,g=C(wi(o/t));c<o;)g[d++]=ot(e,c,c+=t);return g}function r_(e){for(var t=-1,s=e==null?0:e.length,o=0,c=[];++t<s;){var d=e[t];d&&(c[o++]=d)}return c}function i_(){var e=arguments.length;if(!e)return[];for(var t=C(e-1),s=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Gt(G(s)?We(s):[s],Ee(t,1))}var s_=V(function(e,t){return xe(e)?Or(e,Ee(t,1,xe,!0)):[]}),o_=V(function(e,t){var s=at(t);return xe(s)&&(s=i),xe(e)?Or(e,Ee(t,1,xe,!0),W(s,2)):[]}),a_=V(function(e,t){var s=at(t);return xe(s)&&(s=i),xe(e)?Or(e,Ee(t,1,xe,!0),i,s):[]});function u_(e,t,s){var o=e==null?0:e.length;return o?(t=s||t===i?1:X(t),ot(e,t<0?0:t,o)):[]}function c_(e,t,s){var o=e==null?0:e.length;return o?(t=s||t===i?1:X(t),t=o-t,ot(e,0,t<0?0:t)):[]}function l_(e,t){return e&&e.length?Oi(e,W(t,3),!0,!0):[]}function f_(e,t){return e&&e.length?Oi(e,W(t,3),!0):[]}function h_(e,t,s,o){var c=e==null?0:e.length;return c?(s&&typeof s!="number"&&De(e,t,s)&&(s=0,o=c),ig(e,t,s,o)):[]}function Bc(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var c=s==null?0:X(s);return c<0&&(c=Ae(o+c,0)),li(e,W(t,3),c)}function Wc(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var c=o-1;return s!==i&&(c=X(s),c=s<0?Ae(o+c,0):Le(c,o-1)),li(e,W(t,3),c,!0)}function $c(e){var t=e==null?0:e.length;return t?Ee(e,1):[]}function d_(e){var t=e==null?0:e.length;return t?Ee(e,ei):[]}function p_(e,t){var s=e==null?0:e.length;return s?(t=t===i?1:X(t),Ee(e,t)):[]}function g_(e){for(var t=-1,s=e==null?0:e.length,o={};++t<s;){var c=e[t];o[c[0]]=c[1]}return o}function Hc(e){return e&&e.length?e[0]:i}function __(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var c=s==null?0:X(s);return c<0&&(c=Ae(o+c,0)),Wn(e,t,c)}function v_(e){var t=e==null?0:e.length;return t?ot(e,0,-1):[]}var m_=V(function(e){var t=ge(e,uo);return t.length&&t[0]===e[0]?Vs(t):[]}),y_=V(function(e){var t=at(e),s=ge(e,uo);return t===at(s)?t=i:s.pop(),s.length&&s[0]===e[0]?Vs(s,W(t,2)):[]}),b_=V(function(e){var t=at(e),s=ge(e,uo);return t=typeof t=="function"?t:i,t&&s.pop(),s.length&&s[0]===e[0]?Vs(s,i,t):[]});function w_(e,t){return e==null?"":vp.call(e,t)}function at(e){var t=e==null?0:e.length;return t?e[t-1]:i}function x_(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var c=o;return s!==i&&(c=X(s),c=c<0?Ae(o+c,0):Le(c,o-1)),t===t?tp(e,t,c):li(e,xu,c,!0)}function S_(e,t){return e&&e.length?ju(e,X(t)):i}var C_=V(qc);function qc(e,t){return e&&e.length&&t&&t.length?no(e,t):e}function P_(e,t,s){return e&&e.length&&t&&t.length?no(e,t,W(s,2)):e}function T_(e,t,s){return e&&e.length&&t&&t.length?no(e,t,i,s):e}var A_=Ut(function(e,t){var s=e==null?0:e.length,o=Ys(e,t);return nc(e,ge(t,function(c){return Bt(c,s)?+c:c}).sort(hc)),o});function R_(e,t){var s=[];if(!(e&&e.length))return s;var o=-1,c=[],d=e.length;for(t=W(t,3);++o<d;){var g=e[o];t(g,o,e)&&(s.push(g),c.push(o))}return nc(e,c),s}function So(e){return e==null?e:wp.call(e)}function I_(e,t,s){var o=e==null?0:e.length;return o?(s&&typeof s!="number"&&De(e,t,s)?(t=0,s=o):(t=t==null?0:X(t),s=s===i?o:X(s)),ot(e,t,s)):[]}function E_(e,t){return Ei(e,t)}function O_(e,t,s){return so(e,t,W(s,2))}function L_(e,t){var s=e==null?0:e.length;if(s){var o=Ei(e,t);if(o<s&&gt(e[o],t))return o}return-1}function N_(e,t){return Ei(e,t,!0)}function F_(e,t,s){return so(e,t,W(s,2),!0)}function M_(e,t){var s=e==null?0:e.length;if(s){var o=Ei(e,t,!0)-1;if(gt(e[o],t))return o}return-1}function D_(e){return e&&e.length?ic(e):[]}function k_(e,t){return e&&e.length?ic(e,W(t,2)):[]}function U_(e){var t=e==null?0:e.length;return t?ot(e,1,t):[]}function B_(e,t,s){return e&&e.length?(t=s||t===i?1:X(t),ot(e,0,t<0?0:t)):[]}function W_(e,t,s){var o=e==null?0:e.length;return o?(t=s||t===i?1:X(t),t=o-t,ot(e,t<0?0:t,o)):[]}function $_(e,t){return e&&e.length?Oi(e,W(t,3),!1,!0):[]}function H_(e,t){return e&&e.length?Oi(e,W(t,3)):[]}var q_=V(function(e){return Xt(Ee(e,1,xe,!0))}),z_=V(function(e){var t=at(e);return xe(t)&&(t=i),Xt(Ee(e,1,xe,!0),W(t,2))}),Q_=V(function(e){var t=at(e);return t=typeof t=="function"?t:i,Xt(Ee(e,1,xe,!0),i,t)});function G_(e){return e&&e.length?Xt(e):[]}function K_(e,t){return e&&e.length?Xt(e,W(t,2)):[]}function Y_(e,t){return t=typeof t=="function"?t:i,e&&e.length?Xt(e,i,t):[]}function Co(e){if(!(e&&e.length))return[];var t=0;return e=Qt(e,function(s){if(xe(s))return t=Ae(s.length,t),!0}),Ws(t,function(s){return ge(e,ks(s))})}function zc(e,t){if(!(e&&e.length))return[];var s=Co(e);return t==null?s:ge(s,function(o){return Ye(t,i,o)})}var Z_=V(function(e,t){return xe(e)?Or(e,t):[]}),X_=V(function(e){return ao(Qt(e,xe))}),J_=V(function(e){var t=at(e);return xe(t)&&(t=i),ao(Qt(e,xe),W(t,2))}),V_=V(function(e){var t=at(e);return t=typeof t=="function"?t:i,ao(Qt(e,xe),i,t)}),j_=V(Co);function ev(e,t){return uc(e||[],t||[],Er)}function tv(e,t){return uc(e||[],t||[],Fr)}var nv=V(function(e){var t=e.length,s=t>1?e[t-1]:i;return s=typeof s=="function"?(e.pop(),s):i,zc(e,s)});function Qc(e){var t=f(e);return t.__chain__=!0,t}function rv(e,t){return t(e),e}function Wi(e,t){return t(e)}var iv=Ut(function(e){var t=e.length,s=t?e[0]:0,o=this.__wrapped__,c=function(d){return Ys(d,e)};return t>1||this.__actions__.length||!(o instanceof ee)||!Bt(s)?this.thru(c):(o=o.slice(s,+s+(t?1:0)),o.__actions__.push({func:Wi,args:[c],thisArg:i}),new it(o,this.__chain__).thru(function(d){return t&&!d.length&&d.push(i),d}))});function sv(){return Qc(this)}function ov(){return new it(this.value(),this.__chain__)}function av(){this.__values__===i&&(this.__values__=sl(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function uv(){return this}function cv(e){for(var t,s=this;s instanceof Pi;){var o=Uc(s);o.__index__=0,o.__values__=i,t?c.__wrapped__=o:t=o;var c=o;s=s.__wrapped__}return c.__wrapped__=e,t}function lv(){var e=this.__wrapped__;if(e instanceof ee){var t=e;return this.__actions__.length&&(t=new ee(this)),t=t.reverse(),t.__actions__.push({func:Wi,args:[So],thisArg:i}),new it(t,this.__chain__)}return this.thru(So)}function fv(){return ac(this.__wrapped__,this.__actions__)}var hv=Li(function(e,t,s){le.call(e,s)?++e[s]:Dt(e,s,1)});function dv(e,t,s){var o=G(e)?bu:rg;return s&&De(e,t,s)&&(t=i),o(e,W(t,3))}function pv(e,t){var s=G(e)?Qt:zu;return s(e,W(t,3))}var gv=mc(Bc),_v=mc(Wc);function vv(e,t){return Ee($i(e,t),1)}function mv(e,t){return Ee($i(e,t),ei)}function yv(e,t,s){return s=s===i?1:X(s),Ee($i(e,t),s)}function Gc(e,t){var s=G(e)?nt:Zt;return s(e,W(t,3))}function Kc(e,t){var s=G(e)?Ud:qu;return s(e,W(t,3))}var bv=Li(function(e,t,s){le.call(e,s)?e[s].push(t):Dt(e,s,[t])});function wv(e,t,s,o){e=$e(e)?e:Vn(e),s=s&&!o?X(s):0;var c=e.length;return s<0&&(s=Ae(c+s,0)),Gi(e)?s<=c&&e.indexOf(t,s)>-1:!!c&&Wn(e,t,s)>-1}var xv=V(function(e,t,s){var o=-1,c=typeof t=="function",d=$e(e)?C(e.length):[];return Zt(e,function(g){d[++o]=c?Ye(t,g,s):Lr(g,t,s)}),d}),Sv=Li(function(e,t,s){Dt(e,s,t)});function $i(e,t){var s=G(e)?ge:Xu;return s(e,W(t,3))}function Cv(e,t,s,o){return e==null?[]:(G(t)||(t=t==null?[]:[t]),s=o?i:s,G(s)||(s=s==null?[]:[s]),ec(e,t,s))}var Pv=Li(function(e,t,s){e[s?0:1].push(t)},function(){return[[],[]]});function Tv(e,t,s){var o=G(e)?Ms:Cu,c=arguments.length<3;return o(e,W(t,4),s,c,Zt)}function Av(e,t,s){var o=G(e)?Bd:Cu,c=arguments.length<3;return o(e,W(t,4),s,c,qu)}function Rv(e,t){var s=G(e)?Qt:zu;return s(e,zi(W(t,3)))}function Iv(e){var t=G(e)?Bu:wg;return t(e)}function Ev(e,t,s){(s?De(e,t,s):t===i)?t=1:t=X(t);var o=G(e)?Vp:xg;return o(e,t)}function Ov(e){var t=G(e)?jp:Cg;return t(e)}function Lv(e){if(e==null)return 0;if($e(e))return Gi(e)?Hn(e):e.length;var t=Ne(e);return t==ft||t==ht?e.size:eo(e).length}function Nv(e,t,s){var o=G(e)?Ds:Pg;return s&&De(e,t,s)&&(t=i),o(e,W(t,3))}var Fv=V(function(e,t){if(e==null)return[];var s=t.length;return s>1&&De(e,t[0],t[1])?t=[]:s>2&&De(t[0],t[1],t[2])&&(t=[t[0]]),ec(e,Ee(t,1),[])}),Hi=pp||function(){return Ie.Date.now()};function Mv(e,t){if(typeof t!="function")throw new rt(p);return e=X(e),function(){if(--e<1)return t.apply(this,arguments)}}function Yc(e,t,s){return t=s?i:t,t=e&&t==null?e.length:t,kt(e,fe,i,i,i,i,t)}function Zc(e,t){var s;if(typeof t!="function")throw new rt(p);return e=X(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=i),s}}var Po=V(function(e,t,s){var o=L;if(s.length){var c=Kt(s,Xn(Po));o|=se}return kt(e,o,t,s,c)}),Xc=V(function(e,t,s){var o=L|U;if(s.length){var c=Kt(s,Xn(Xc));o|=se}return kt(t,o,e,s,c)});function Jc(e,t,s){t=s?i:t;var o=kt(e,Y,i,i,i,i,i,t);return o.placeholder=Jc.placeholder,o}function Vc(e,t,s){t=s?i:t;var o=kt(e,Z,i,i,i,i,i,t);return o.placeholder=Vc.placeholder,o}function jc(e,t,s){var o,c,d,g,m,x,A=0,R=!1,E=!1,F=!0;if(typeof e!="function")throw new rt(p);t=ut(t)||0,me(s)&&(R=!!s.leading,E="maxWait"in s,d=E?Ae(ut(s.maxWait)||0,t):d,F="trailing"in s?!!s.trailing:F);function B(Se){var _t=o,Ht=c;return o=c=i,A=Se,g=e.apply(Ht,_t),g}function $(Se){return A=Se,m=kr(j,t),R?B(Se):g}function J(Se){var _t=Se-x,Ht=Se-A,ml=t-_t;return E?Le(ml,d-Ht):ml}function H(Se){var _t=Se-x,Ht=Se-A;return x===i||_t>=t||_t<0||E&&Ht>=d}function j(){var Se=Hi();if(H(Se))return te(Se);m=kr(j,J(Se))}function te(Se){return m=i,F&&o?B(Se):(o=c=i,g)}function Ve(){m!==i&&cc(m),A=0,o=x=c=m=i}function ke(){return m===i?g:te(Hi())}function je(){var Se=Hi(),_t=H(Se);if(o=arguments,c=this,x=Se,_t){if(m===i)return $(x);if(E)return cc(m),m=kr(j,t),B(x)}return m===i&&(m=kr(j,t)),g}return je.cancel=Ve,je.flush=ke,je}var Dv=V(function(e,t){return Hu(e,1,t)}),kv=V(function(e,t,s){return Hu(e,ut(t)||0,s)});function Uv(e){return kt(e,oe)}function qi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new rt(p);var s=function(){var o=arguments,c=t?t.apply(this,o):o[0],d=s.cache;if(d.has(c))return d.get(c);var g=e.apply(this,o);return s.cache=d.set(c,g)||d,g};return s.cache=new(qi.Cache||Mt),s}qi.Cache=Mt;function zi(e){if(typeof e!="function")throw new rt(p);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Bv(e){return Zc(2,e)}var Wv=Tg(function(e,t){t=t.length==1&&G(t[0])?ge(t[0],Ze(W())):ge(Ee(t,1),Ze(W()));var s=t.length;return V(function(o){for(var c=-1,d=Le(o.length,s);++c<d;)o[c]=t[c].call(this,o[c]);return Ye(e,this,o)})}),To=V(function(e,t){var s=Kt(t,Xn(To));return kt(e,se,i,t,s)}),el=V(function(e,t){var s=Kt(t,Xn(el));return kt(e,ve,i,t,s)}),$v=Ut(function(e,t){return kt(e,ie,i,i,i,t)});function Hv(e,t){if(typeof e!="function")throw new rt(p);return t=t===i?t:X(t),V(e,t)}function qv(e,t){if(typeof e!="function")throw new rt(p);return t=t==null?0:Ae(X(t),0),V(function(s){var o=s[t],c=Vt(s,0,t);return o&&Gt(c,o),Ye(e,this,c)})}function zv(e,t,s){var o=!0,c=!0;if(typeof e!="function")throw new rt(p);return me(s)&&(o="leading"in s?!!s.leading:o,c="trailing"in s?!!s.trailing:c),jc(e,t,{leading:o,maxWait:t,trailing:c})}function Qv(e){return Yc(e,1)}function Gv(e,t){return To(co(t),e)}function Kv(){if(!arguments.length)return[];var e=arguments[0];return G(e)?e:[e]}function Yv(e){return st(e,I)}function Zv(e,t){return t=typeof t=="function"?t:i,st(e,I,t)}function Xv(e){return st(e,y|I)}function Jv(e,t){return t=typeof t=="function"?t:i,st(e,y|I,t)}function Vv(e,t){return t==null||$u(e,t,Re(t))}function gt(e,t){return e===t||e!==e&&t!==t}var jv=Di(Js),em=Di(function(e,t){return e>=t}),bn=Ku(function(){return arguments}())?Ku:function(e){return ye(e)&&le.call(e,"callee")&&!Nu.call(e,"callee")},G=C.isArray,tm=pu?Ze(pu):cg;function $e(e){return e!=null&&Qi(e.length)&&!Wt(e)}function xe(e){return ye(e)&&$e(e)}function nm(e){return e===!0||e===!1||ye(e)&&Me(e)==vr}var jt=_p||ko,rm=gu?Ze(gu):lg;function im(e){return ye(e)&&e.nodeType===1&&!Ur(e)}function sm(e){if(e==null)return!0;if($e(e)&&(G(e)||typeof e=="string"||typeof e.splice=="function"||jt(e)||Jn(e)||bn(e)))return!e.length;var t=Ne(e);if(t==ft||t==ht)return!e.size;if(Dr(e))return!eo(e).length;for(var s in e)if(le.call(e,s))return!1;return!0}function om(e,t){return Nr(e,t)}function am(e,t,s){s=typeof s=="function"?s:i;var o=s?s(e,t):i;return o===i?Nr(e,t,i,s):!!o}function Ao(e){if(!ye(e))return!1;var t=Me(e);return t==ri||t==Eh||typeof e.message=="string"&&typeof e.name=="string"&&!Ur(e)}function um(e){return typeof e=="number"&&Mu(e)}function Wt(e){if(!me(e))return!1;var t=Me(e);return t==ii||t==Ha||t==Ih||t==Lh}function tl(e){return typeof e=="number"&&e==X(e)}function Qi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dn}function me(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ye(e){return e!=null&&typeof e=="object"}var nl=_u?Ze(_u):hg;function cm(e,t){return e===t||js(e,t,vo(t))}function lm(e,t,s){return s=typeof s=="function"?s:i,js(e,t,vo(t),s)}function fm(e){return rl(e)&&e!=+e}function hm(e){if(Zg(e))throw new Q(h);return Yu(e)}function dm(e){return e===null}function pm(e){return e==null}function rl(e){return typeof e=="number"||ye(e)&&Me(e)==yr}function Ur(e){if(!ye(e)||Me(e)!=Nt)return!1;var t=mi(e);if(t===null)return!0;var s=le.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&pi.call(s)==lp}var Ro=vu?Ze(vu):dg;function gm(e){return tl(e)&&e>=-9007199254740991&&e<=Dn}var il=mu?Ze(mu):pg;function Gi(e){return typeof e=="string"||!G(e)&&ye(e)&&Me(e)==wr}function Je(e){return typeof e=="symbol"||ye(e)&&Me(e)==si}var Jn=yu?Ze(yu):gg;function _m(e){return e===i}function vm(e){return ye(e)&&Ne(e)==xr}function mm(e){return ye(e)&&Me(e)==Fh}var ym=Di(to),bm=Di(function(e,t){return e<=t});function sl(e){if(!e)return[];if($e(e))return Gi(e)?dt(e):We(e);if(Pr&&e[Pr])return Vd(e[Pr]());var t=Ne(e),s=t==ft?Hs:t==ht?fi:Vn;return s(e)}function $t(e){if(!e)return e===0?e:0;if(e=ut(e),e===ei||e===-1/0){var t=e<0?-1:1;return t*Ph}return e===e?e:0}function X(e){var t=$t(e),s=t%1;return t===t?s?t-s:t:0}function ol(e){return e?_n(X(e),0,xt):0}function ut(e){if(typeof e=="number")return e;if(Je(e))return ti;if(me(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=me(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Pu(e);var s=td.test(e);return s||rd.test(e)?Md(e.slice(2),s?2:8):ed.test(e)?ti:+e}function al(e){return Ct(e,He(e))}function wm(e){return e?_n(X(e),-9007199254740991,Dn):e===0?e:0}function ue(e){return e==null?"":Xe(e)}var xm=Yn(function(e,t){if(Dr(t)||$e(t)){Ct(t,Re(t),e);return}for(var s in t)le.call(t,s)&&Er(e,s,t[s])}),ul=Yn(function(e,t){Ct(t,He(t),e)}),Ki=Yn(function(e,t,s,o){Ct(t,He(t),e,o)}),Sm=Yn(function(e,t,s,o){Ct(t,Re(t),e,o)}),Cm=Ut(Ys);function Pm(e,t){var s=Kn(e);return t==null?s:Wu(s,t)}var Tm=V(function(e,t){e=he(e);var s=-1,o=t.length,c=o>2?t[2]:i;for(c&&De(t[0],t[1],c)&&(o=1);++s<o;)for(var d=t[s],g=He(d),m=-1,x=g.length;++m<x;){var A=g[m],R=e[A];(R===i||gt(R,zn[A])&&!le.call(e,A))&&(e[A]=d[A])}return e}),Am=V(function(e){return e.push(i,Pc),Ye(cl,i,e)});function Rm(e,t){return wu(e,W(t,3),St)}function Im(e,t){return wu(e,W(t,3),Xs)}function Em(e,t){return e==null?e:Zs(e,W(t,3),He)}function Om(e,t){return e==null?e:Qu(e,W(t,3),He)}function Lm(e,t){return e&&St(e,W(t,3))}function Nm(e,t){return e&&Xs(e,W(t,3))}function Fm(e){return e==null?[]:Ri(e,Re(e))}function Mm(e){return e==null?[]:Ri(e,He(e))}function Io(e,t,s){var o=e==null?i:vn(e,t);return o===i?s:o}function Dm(e,t){return e!=null&&Rc(e,t,sg)}function Eo(e,t){return e!=null&&Rc(e,t,og)}var km=bc(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=gi.call(t)),e[t]=s},Lo(qe)),Um=bc(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=gi.call(t)),le.call(e,t)?e[t].push(s):e[t]=[s]},W),Bm=V(Lr);function Re(e){return $e(e)?Uu(e):eo(e)}function He(e){return $e(e)?Uu(e,!0):_g(e)}function Wm(e,t){var s={};return t=W(t,3),St(e,function(o,c,d){Dt(s,t(o,c,d),o)}),s}function $m(e,t){var s={};return t=W(t,3),St(e,function(o,c,d){Dt(s,c,t(o,c,d))}),s}var Hm=Yn(function(e,t,s){Ii(e,t,s)}),cl=Yn(function(e,t,s,o){Ii(e,t,s,o)}),qm=Ut(function(e,t){var s={};if(e==null)return s;var o=!1;t=ge(t,function(d){return d=Jt(d,e),o||(o=d.length>1),d}),Ct(e,go(e),s),o&&(s=st(s,y|N|I,kg));for(var c=t.length;c--;)oo(s,t[c]);return s});function zm(e,t){return ll(e,zi(W(t)))}var Qm=Ut(function(e,t){return e==null?{}:mg(e,t)});function ll(e,t){if(e==null)return{};var s=ge(go(e),function(o){return[o]});return t=W(t),tc(e,s,function(o,c){return t(o,c[0])})}function Gm(e,t,s){t=Jt(t,e);var o=-1,c=t.length;for(c||(c=1,e=i);++o<c;){var d=e==null?i:e[Pt(t[o])];d===i&&(o=c,d=s),e=Wt(d)?d.call(e):d}return e}function Km(e,t,s){return e==null?e:Fr(e,t,s)}function Ym(e,t,s,o){return o=typeof o=="function"?o:i,e==null?e:Fr(e,t,s,o)}var fl=Sc(Re),hl=Sc(He);function Zm(e,t,s){var o=G(e),c=o||jt(e)||Jn(e);if(t=W(t,4),s==null){var d=e&&e.constructor;c?s=o?new d:[]:me(e)?s=Wt(d)?Kn(mi(e)):{}:s={}}return(c?nt:St)(e,function(g,m,x){return t(s,g,m,x)}),s}function Xm(e,t){return e==null?!0:oo(e,t)}function Jm(e,t,s){return e==null?e:oc(e,t,co(s))}function Vm(e,t,s,o){return o=typeof o=="function"?o:i,e==null?e:oc(e,t,co(s),o)}function Vn(e){return e==null?[]:$s(e,Re(e))}function jm(e){return e==null?[]:$s(e,He(e))}function e0(e,t,s){return s===i&&(s=t,t=i),s!==i&&(s=ut(s),s=s===s?s:0),t!==i&&(t=ut(t),t=t===t?t:0),_n(ut(e),t,s)}function t0(e,t,s){return t=$t(t),s===i?(s=t,t=0):s=$t(s),e=ut(e),ag(e,t,s)}function n0(e,t,s){if(s&&typeof s!="boolean"&&De(e,t,s)&&(t=s=i),s===i&&(typeof t=="boolean"?(s=t,t=i):typeof e=="boolean"&&(s=e,e=i)),e===i&&t===i?(e=0,t=1):(e=$t(e),t===i?(t=e,e=0):t=$t(t)),e>t){var o=e;e=t,t=o}if(s||e%1||t%1){var c=Du();return Le(e+c*(t-e+Fd("1e-"+((c+"").length-1))),t)}return ro(e,t)}var r0=Zn(function(e,t,s){return t=t.toLowerCase(),e+(s?dl(t):t)});function dl(e){return Oo(ue(e).toLowerCase())}function pl(e){return e=ue(e),e&&e.replace(sd,Kd).replace(Cd,"")}function i0(e,t,s){e=ue(e),t=Xe(t);var o=e.length;s=s===i?o:_n(X(s),0,o);var c=s;return s-=t.length,s>=0&&e.slice(s,c)==t}function s0(e){return e=ue(e),e&&Bh.test(e)?e.replace(Qa,Yd):e}function o0(e){return e=ue(e),e&&Qh.test(e)?e.replace(Ps,"\\$&"):e}var a0=Zn(function(e,t,s){return e+(s?"-":"")+t.toLowerCase()}),u0=Zn(function(e,t,s){return e+(s?" ":"")+t.toLowerCase()}),c0=vc("toLowerCase");function l0(e,t,s){e=ue(e),t=X(t);var o=t?Hn(e):0;if(!t||o>=t)return e;var c=(t-o)/2;return Mi(xi(c),s)+e+Mi(wi(c),s)}function f0(e,t,s){e=ue(e),t=X(t);var o=t?Hn(e):0;return t&&o<t?e+Mi(t-o,s):e}function h0(e,t,s){e=ue(e),t=X(t);var o=t?Hn(e):0;return t&&o<t?Mi(t-o,s)+e:e}function d0(e,t,s){return s||t==null?t=0:t&&(t=+t),bp(ue(e).replace(Ts,""),t||0)}function p0(e,t,s){return(s?De(e,t,s):t===i)?t=1:t=X(t),io(ue(e),t)}function g0(){var e=arguments,t=ue(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var _0=Zn(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()});function v0(e,t,s){return s&&typeof s!="number"&&De(e,t,s)&&(t=s=i),s=s===i?xt:s>>>0,s?(e=ue(e),e&&(typeof t=="string"||t!=null&&!Ro(t))&&(t=Xe(t),!t&&$n(e))?Vt(dt(e),0,s):e.split(t,s)):[]}var m0=Zn(function(e,t,s){return e+(s?" ":"")+Oo(t)});function y0(e,t,s){return e=ue(e),s=s==null?0:_n(X(s),0,e.length),t=Xe(t),e.slice(s,s+t.length)==t}function b0(e,t,s){var o=f.templateSettings;s&&De(e,t,s)&&(t=i),e=ue(e),t=Ki({},t,o,Cc);var c=Ki({},t.imports,o.imports,Cc),d=Re(c),g=$s(c,d),m,x,A=0,R=t.interpolate||oi,E="__p += '",F=qs((t.escape||oi).source+"|"+R.source+"|"+(R===Ga?jh:oi).source+"|"+(t.evaluate||oi).source+"|$","g"),B="//# sourceURL="+(le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Id+"]")+`
`;e.replace(F,function(H,j,te,Ve,ke,je){return te||(te=Ve),E+=e.slice(A,je).replace(od,Zd),j&&(m=!0,E+=`' +
__e(`+j+`) +
'`),ke&&(x=!0,E+=`';
`+ke+`;
__p += '`),te&&(E+=`' +
((__t = (`+te+`)) == null ? '' : __t) +
'`),A=je+H.length,H}),E+=`';
`;var $=le.call(t,"variable")&&t.variable;if(!$)E=`with (obj) {
`+E+`
}
`;else if(Jh.test($))throw new Q(_);E=(x?E.replace(Mh,""):E).replace(Dh,"$1").replace(kh,"$1;"),E="function("+($||"obj")+`) {
`+($?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+E+`return __p
}`;var J=_l(function(){return ae(d,B+"return "+E).apply(i,g)});if(J.source=E,Ao(J))throw J;return J}function w0(e){return ue(e).toLowerCase()}function x0(e){return ue(e).toUpperCase()}function S0(e,t,s){if(e=ue(e),e&&(s||t===i))return Pu(e);if(!e||!(t=Xe(t)))return e;var o=dt(e),c=dt(t),d=Tu(o,c),g=Au(o,c)+1;return Vt(o,d,g).join("")}function C0(e,t,s){if(e=ue(e),e&&(s||t===i))return e.slice(0,Iu(e)+1);if(!e||!(t=Xe(t)))return e;var o=dt(e),c=Au(o,dt(t))+1;return Vt(o,0,c).join("")}function P0(e,t,s){if(e=ue(e),e&&(s||t===i))return e.replace(Ts,"");if(!e||!(t=Xe(t)))return e;var o=dt(e),c=Tu(o,dt(t));return Vt(o,c).join("")}function T0(e,t){var s=Pe,o=Ke;if(me(t)){var c="separator"in t?t.separator:c;s="length"in t?X(t.length):s,o="omission"in t?Xe(t.omission):o}e=ue(e);var d=e.length;if($n(e)){var g=dt(e);d=g.length}if(s>=d)return e;var m=s-Hn(o);if(m<1)return o;var x=g?Vt(g,0,m).join(""):e.slice(0,m);if(c===i)return x+o;if(g&&(m+=x.length-m),Ro(c)){if(e.slice(m).search(c)){var A,R=x;for(c.global||(c=qs(c.source,ue(Ka.exec(c))+"g")),c.lastIndex=0;A=c.exec(R);)var E=A.index;x=x.slice(0,E===i?m:E)}}else if(e.indexOf(Xe(c),m)!=m){var F=x.lastIndexOf(c);F>-1&&(x=x.slice(0,F))}return x+o}function A0(e){return e=ue(e),e&&Uh.test(e)?e.replace(za,np):e}var R0=Zn(function(e,t,s){return e+(s?" ":"")+t.toUpperCase()}),Oo=vc("toUpperCase");function gl(e,t,s){return e=ue(e),t=s?i:t,t===i?Jd(e)?sp(e):Hd(e):e.match(t)||[]}var _l=V(function(e,t){try{return Ye(e,i,t)}catch(s){return Ao(s)?s:new Q(s)}}),I0=Ut(function(e,t){return nt(t,function(s){s=Pt(s),Dt(e,s,Po(e[s],e))}),e});function E0(e){var t=e==null?0:e.length,s=W();return e=t?ge(e,function(o){if(typeof o[1]!="function")throw new rt(p);return[s(o[0]),o[1]]}):[],V(function(o){for(var c=-1;++c<t;){var d=e[c];if(Ye(d[0],this,o))return Ye(d[1],this,o)}})}function O0(e){return ng(st(e,y))}function Lo(e){return function(){return e}}function L0(e,t){return e==null||e!==e?t:e}var N0=yc(),F0=yc(!0);function qe(e){return e}function No(e){return Zu(typeof e=="function"?e:st(e,y))}function M0(e){return Ju(st(e,y))}function D0(e,t){return Vu(e,st(t,y))}var k0=V(function(e,t){return function(s){return Lr(s,e,t)}}),U0=V(function(e,t){return function(s){return Lr(e,s,t)}});function Fo(e,t,s){var o=Re(t),c=Ri(t,o);s==null&&!(me(t)&&(c.length||!o.length))&&(s=t,t=e,e=this,c=Ri(t,Re(t)));var d=!(me(s)&&"chain"in s)||!!s.chain,g=Wt(e);return nt(c,function(m){var x=t[m];e[m]=x,g&&(e.prototype[m]=function(){var A=this.__chain__;if(d||A){var R=e(this.__wrapped__),E=R.__actions__=We(this.__actions__);return E.push({func:x,args:arguments,thisArg:e}),R.__chain__=A,R}return x.apply(e,Gt([this.value()],arguments))})}),e}function B0(){return Ie._===this&&(Ie._=fp),this}function Mo(){}function W0(e){return e=X(e),V(function(t){return ju(t,e)})}var $0=fo(ge),H0=fo(bu),q0=fo(Ds);function vl(e){return yo(e)?ks(Pt(e)):yg(e)}function z0(e){return function(t){return e==null?i:vn(e,t)}}var Q0=wc(),G0=wc(!0);function Do(){return[]}function ko(){return!1}function K0(){return{}}function Y0(){return""}function Z0(){return!0}function X0(e,t){if(e=X(e),e<1||e>Dn)return[];var s=xt,o=Le(e,xt);t=W(t),e-=xt;for(var c=Ws(o,t);++s<e;)t(s);return c}function J0(e){return G(e)?ge(e,Pt):Je(e)?[e]:We(kc(ue(e)))}function V0(e){var t=++cp;return ue(e)+t}var j0=Fi(function(e,t){return e+t},0),e1=ho("ceil"),t1=Fi(function(e,t){return e/t},1),n1=ho("floor");function r1(e){return e&&e.length?Ai(e,qe,Js):i}function i1(e,t){return e&&e.length?Ai(e,W(t,2),Js):i}function s1(e){return Su(e,qe)}function o1(e,t){return Su(e,W(t,2))}function a1(e){return e&&e.length?Ai(e,qe,to):i}function u1(e,t){return e&&e.length?Ai(e,W(t,2),to):i}var c1=Fi(function(e,t){return e*t},1),l1=ho("round"),f1=Fi(function(e,t){return e-t},0);function h1(e){return e&&e.length?Bs(e,qe):0}function d1(e,t){return e&&e.length?Bs(e,W(t,2)):0}return f.after=Mv,f.ary=Yc,f.assign=xm,f.assignIn=ul,f.assignInWith=Ki,f.assignWith=Sm,f.at=Cm,f.before=Zc,f.bind=Po,f.bindAll=I0,f.bindKey=Xc,f.castArray=Kv,f.chain=Qc,f.chunk=n_,f.compact=r_,f.concat=i_,f.cond=E0,f.conforms=O0,f.constant=Lo,f.countBy=hv,f.create=Pm,f.curry=Jc,f.curryRight=Vc,f.debounce=jc,f.defaults=Tm,f.defaultsDeep=Am,f.defer=Dv,f.delay=kv,f.difference=s_,f.differenceBy=o_,f.differenceWith=a_,f.drop=u_,f.dropRight=c_,f.dropRightWhile=l_,f.dropWhile=f_,f.fill=h_,f.filter=pv,f.flatMap=vv,f.flatMapDeep=mv,f.flatMapDepth=yv,f.flatten=$c,f.flattenDeep=d_,f.flattenDepth=p_,f.flip=Uv,f.flow=N0,f.flowRight=F0,f.fromPairs=g_,f.functions=Fm,f.functionsIn=Mm,f.groupBy=bv,f.initial=v_,f.intersection=m_,f.intersectionBy=y_,f.intersectionWith=b_,f.invert=km,f.invertBy=Um,f.invokeMap=xv,f.iteratee=No,f.keyBy=Sv,f.keys=Re,f.keysIn=He,f.map=$i,f.mapKeys=Wm,f.mapValues=$m,f.matches=M0,f.matchesProperty=D0,f.memoize=qi,f.merge=Hm,f.mergeWith=cl,f.method=k0,f.methodOf=U0,f.mixin=Fo,f.negate=zi,f.nthArg=W0,f.omit=qm,f.omitBy=zm,f.once=Bv,f.orderBy=Cv,f.over=$0,f.overArgs=Wv,f.overEvery=H0,f.overSome=q0,f.partial=To,f.partialRight=el,f.partition=Pv,f.pick=Qm,f.pickBy=ll,f.property=vl,f.propertyOf=z0,f.pull=C_,f.pullAll=qc,f.pullAllBy=P_,f.pullAllWith=T_,f.pullAt=A_,f.range=Q0,f.rangeRight=G0,f.rearg=$v,f.reject=Rv,f.remove=R_,f.rest=Hv,f.reverse=So,f.sampleSize=Ev,f.set=Km,f.setWith=Ym,f.shuffle=Ov,f.slice=I_,f.sortBy=Fv,f.sortedUniq=D_,f.sortedUniqBy=k_,f.split=v0,f.spread=qv,f.tail=U_,f.take=B_,f.takeRight=W_,f.takeRightWhile=$_,f.takeWhile=H_,f.tap=rv,f.throttle=zv,f.thru=Wi,f.toArray=sl,f.toPairs=fl,f.toPairsIn=hl,f.toPath=J0,f.toPlainObject=al,f.transform=Zm,f.unary=Qv,f.union=q_,f.unionBy=z_,f.unionWith=Q_,f.uniq=G_,f.uniqBy=K_,f.uniqWith=Y_,f.unset=Xm,f.unzip=Co,f.unzipWith=zc,f.update=Jm,f.updateWith=Vm,f.values=Vn,f.valuesIn=jm,f.without=Z_,f.words=gl,f.wrap=Gv,f.xor=X_,f.xorBy=J_,f.xorWith=V_,f.zip=j_,f.zipObject=ev,f.zipObjectDeep=tv,f.zipWith=nv,f.entries=fl,f.entriesIn=hl,f.extend=ul,f.extendWith=Ki,Fo(f,f),f.add=j0,f.attempt=_l,f.camelCase=r0,f.capitalize=dl,f.ceil=e1,f.clamp=e0,f.clone=Yv,f.cloneDeep=Xv,f.cloneDeepWith=Jv,f.cloneWith=Zv,f.conformsTo=Vv,f.deburr=pl,f.defaultTo=L0,f.divide=t1,f.endsWith=i0,f.eq=gt,f.escape=s0,f.escapeRegExp=o0,f.every=dv,f.find=gv,f.findIndex=Bc,f.findKey=Rm,f.findLast=_v,f.findLastIndex=Wc,f.findLastKey=Im,f.floor=n1,f.forEach=Gc,f.forEachRight=Kc,f.forIn=Em,f.forInRight=Om,f.forOwn=Lm,f.forOwnRight=Nm,f.get=Io,f.gt=jv,f.gte=em,f.has=Dm,f.hasIn=Eo,f.head=Hc,f.identity=qe,f.includes=wv,f.indexOf=__,f.inRange=t0,f.invoke=Bm,f.isArguments=bn,f.isArray=G,f.isArrayBuffer=tm,f.isArrayLike=$e,f.isArrayLikeObject=xe,f.isBoolean=nm,f.isBuffer=jt,f.isDate=rm,f.isElement=im,f.isEmpty=sm,f.isEqual=om,f.isEqualWith=am,f.isError=Ao,f.isFinite=um,f.isFunction=Wt,f.isInteger=tl,f.isLength=Qi,f.isMap=nl,f.isMatch=cm,f.isMatchWith=lm,f.isNaN=fm,f.isNative=hm,f.isNil=pm,f.isNull=dm,f.isNumber=rl,f.isObject=me,f.isObjectLike=ye,f.isPlainObject=Ur,f.isRegExp=Ro,f.isSafeInteger=gm,f.isSet=il,f.isString=Gi,f.isSymbol=Je,f.isTypedArray=Jn,f.isUndefined=_m,f.isWeakMap=vm,f.isWeakSet=mm,f.join=w_,f.kebabCase=a0,f.last=at,f.lastIndexOf=x_,f.lowerCase=u0,f.lowerFirst=c0,f.lt=ym,f.lte=bm,f.max=r1,f.maxBy=i1,f.mean=s1,f.meanBy=o1,f.min=a1,f.minBy=u1,f.stubArray=Do,f.stubFalse=ko,f.stubObject=K0,f.stubString=Y0,f.stubTrue=Z0,f.multiply=c1,f.nth=S_,f.noConflict=B0,f.noop=Mo,f.now=Hi,f.pad=l0,f.padEnd=f0,f.padStart=h0,f.parseInt=d0,f.random=n0,f.reduce=Tv,f.reduceRight=Av,f.repeat=p0,f.replace=g0,f.result=Gm,f.round=l1,f.runInContext=w,f.sample=Iv,f.size=Lv,f.snakeCase=_0,f.some=Nv,f.sortedIndex=E_,f.sortedIndexBy=O_,f.sortedIndexOf=L_,f.sortedLastIndex=N_,f.sortedLastIndexBy=F_,f.sortedLastIndexOf=M_,f.startCase=m0,f.startsWith=y0,f.subtract=f1,f.sum=h1,f.sumBy=d1,f.template=b0,f.times=X0,f.toFinite=$t,f.toInteger=X,f.toLength=ol,f.toLower=w0,f.toNumber=ut,f.toSafeInteger=wm,f.toString=ue,f.toUpper=x0,f.trim=S0,f.trimEnd=C0,f.trimStart=P0,f.truncate=T0,f.unescape=A0,f.uniqueId=V0,f.upperCase=R0,f.upperFirst=Oo,f.each=Gc,f.eachRight=Kc,f.first=Hc,Fo(f,function(){var e={};return St(f,function(t,s){le.call(f.prototype,s)||(e[s]=t)}),e}(),{chain:!1}),f.VERSION=a,nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),nt(["drop","take"],function(e,t){ee.prototype[e]=function(s){s=s===i?1:Ae(X(s),0);var o=this.__filtered__&&!t?new ee(this):this.clone();return o.__filtered__?o.__takeCount__=Le(s,o.__takeCount__):o.__views__.push({size:Le(s,xt),type:e+(o.__dir__<0?"Right":"")}),o},ee.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),nt(["filter","map","takeWhile"],function(e,t){var s=t+1,o=s==$a||s==Ch;ee.prototype[e]=function(c){var d=this.clone();return d.__iteratees__.push({iteratee:W(c,3),type:s}),d.__filtered__=d.__filtered__||o,d}}),nt(["head","last"],function(e,t){var s="take"+(t?"Right":"");ee.prototype[e]=function(){return this[s](1).value()[0]}}),nt(["initial","tail"],function(e,t){var s="drop"+(t?"":"Right");ee.prototype[e]=function(){return this.__filtered__?new ee(this):this[s](1)}}),ee.prototype.compact=function(){return this.filter(qe)},ee.prototype.find=function(e){return this.filter(e).head()},ee.prototype.findLast=function(e){return this.reverse().find(e)},ee.prototype.invokeMap=V(function(e,t){return typeof e=="function"?new ee(this):this.map(function(s){return Lr(s,e,t)})}),ee.prototype.reject=function(e){return this.filter(zi(W(e)))},ee.prototype.slice=function(e,t){e=X(e);var s=this;return s.__filtered__&&(e>0||t<0)?new ee(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==i&&(t=X(t),s=t<0?s.dropRight(-t):s.take(t-e)),s)},ee.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ee.prototype.toArray=function(){return this.take(xt)},St(ee.prototype,function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),c=f[o?"take"+(t=="last"?"Right":""):t],d=o||/^find/.test(t);c&&(f.prototype[t]=function(){var g=this.__wrapped__,m=o?[1]:arguments,x=g instanceof ee,A=m[0],R=x||G(g),E=function(j){var te=c.apply(f,Gt([j],m));return o&&F?te[0]:te};R&&s&&typeof A=="function"&&A.length!=1&&(x=R=!1);var F=this.__chain__,B=!!this.__actions__.length,$=d&&!F,J=x&&!B;if(!d&&R){g=J?g:new ee(this);var H=e.apply(g,m);return H.__actions__.push({func:Wi,args:[E],thisArg:i}),new it(H,F)}return $&&J?e.apply(this,m):(H=this.thru(E),$?o?H.value()[0]:H.value():H)})}),nt(["pop","push","shift","sort","splice","unshift"],function(e){var t=hi[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var c=arguments;if(o&&!this.__chain__){var d=this.value();return t.apply(G(d)?d:[],c)}return this[s](function(g){return t.apply(G(g)?g:[],c)})}}),St(ee.prototype,function(e,t){var s=f[t];if(s){var o=s.name+"";le.call(Gn,o)||(Gn[o]=[]),Gn[o].push({name:t,func:s})}}),Gn[Ni(i,U).name]=[{name:"wrapper",func:i}],ee.prototype.clone=Ap,ee.prototype.reverse=Rp,ee.prototype.value=Ip,f.prototype.at=iv,f.prototype.chain=sv,f.prototype.commit=ov,f.prototype.next=av,f.prototype.plant=cv,f.prototype.reverse=lv,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=fv,f.prototype.first=f.prototype.head,Pr&&(f.prototype[Pr]=uv),f},qn=op();hn?((hn.exports=qn)._=qn,Ls._=qn):Ie._=qn}).call(pb)}(Hr,Hr.exports)),Hr.exports}var _b=gb();async function vb(n){return(await(await fetch(`https://ac.rule34.xxx/autocomplete.php?q=${n}`)).json()).map(u=>({name:u.value,type:u.type??"general",count:ps(()=>parseInt(/\(([0-9]+)\)/.exec(u.label)[1]))??0}))}async function mb(n){if(!n)return[];if(n.startsWith("meta:"))return[{name:"meta:subscribed",type:"general"}];const r=a=>db(a,n??"");let i=await vb(n);return i=_b.sortBy(i,a=>r(a.name)),dh(i),i}function yb(n,r){const i=r===null?"":bb(n,r),{data:a}=ds({queryFn:()=>mb(i),queryKey:["tag-autocomplete",i??""],placeholderData:q1});return a}const bb=(n,r)=>{const i=n.split(" ");if(i.length===1)return i[0];let a=-1;for(const u of i)if(a+=u.length,a+=1,a>=r)return u},wb="Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.",xb=n=>l(Lt,{viewBox:"0 0 512 512",path:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z",props:n}),Sb=n=>l(Lt,{viewBox:"0 0 576 512",path:"M287.9 0c9.2 0 17.6 5.2 21.6 13.5l68.6 141.3 153.2 22.6c9 1.3 16.5 7.6 19.3 16.3s.5 18.1-5.9 24.5L433.6 328.4l26.2 155.6c1.5 9-2.2 18.1-9.7 23.5s-17.3 6-25.3 1.7l-137-73.2L151 509.1c-8.1 4.3-17.9 3.7-25.3-1.7s-11.2-14.5-9.7-23.5l26.2-155.6L31.1 218.2c-6.5-6.4-8.7-15.9-5.9-24.5s10.3-14.9 19.3-16.3l153.2-22.6L266.3 13.5C270.4 5.2 278.7 0 287.9 0zm0 79L235.4 187.2c-3.5 7.1-10.2 12.1-18.1 13.3L99 217.9 184.9 303c5.5 5.5 8.1 13.3 6.8 21L171.4 443.7l105.2-56.2c7.1-3.8 15.6-3.8 22.6 0l105.2 56.2L384.2 324.1c-1.3-7.7 1.2-15.5 6.8-21l85.9-85.1L358.6 200.5c-7.8-1.2-14.6-6.1-18.1-13.3L287.9 79z",props:n}),Cb=n=>l(Lt,{viewBox:"0 0 576 512",path:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z",props:n}),Pb=n=>l(Lt,{viewBox:"0 0 512 512",path:"M323.8 34.8c-38.2-10.9-78.1 11.2-89 49.4l-5.7 20c-3.7 13-10.4 25-19.5 35l-51.3 56.4c-8.9 9.8-8.2 25 1.6 33.9s25 8.2 33.9-1.6l51.3-56.4c14.1-15.5 24.4-34 30.1-54.1l5.7-20c3.6-12.7 16.9-20.1 29.7-16.5s20.1 16.9 16.5 29.7l-5.7 20c-5.7 19.9-14.7 38.7-26.6 55.5c-5.2 7.3-5.8 16.9-1.7 24.9s12.3 13 21.3 13L448 224c8.8 0 16 7.2 16 16c0 6.8-4.3 12.7-10.4 15c-7.4 2.8-13 9-14.9 16.7s.1 15.8 5.3 21.7c2.5 2.8 4 6.5 4 10.6c0 7.8-5.6 14.3-13 15.7c-8.2 1.6-15.1 7.3-18 15.2s-1.6 16.7 3.6 23.3c2.1 2.7 3.4 6.1 3.4 9.9c0 6.7-4.2 12.6-10.2 14.9c-11.5 4.5-17.7 16.9-14.4 28.8c.4 1.3 .6 2.8 .6 4.3c0 8.8-7.2 16-16 16l-97.5 0c-12.6 0-25-3.7-35.5-10.7l-61.7-41.1c-11-7.4-25.9-4.4-33.3 6.7s-4.4 25.9 6.7 33.3l61.7 41.1c18.4 12.3 40 18.8 62.1 18.8l97.5 0c34.7 0 62.9-27.6 64-62c14.6-11.7 24-29.7 24-50c0-4.5-.5-8.8-1.3-13c15.4-11.7 25.3-30.2 25.3-51c0-6.5-1-12.8-2.8-18.7C504.8 273.7 512 257.7 512 240c0-35.3-28.6-64-64-64l-92.3 0c4.7-10.4 8.7-21.2 11.8-32.2l5.7-20c10.9-38.2-11.2-78.1-49.4-89zM32 192c-17.7 0-32 14.3-32 32L0 448c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-224c0-17.7-14.3-32-32-32l-64 0z",props:n}),Tb=n=>l(Lt,{viewBox:"0 0 512 512",path:"M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2l144 0c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48l-97.5 0c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3l0-38.3 0-48 0-24.9c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192l64 0c17.7 0 32 14.3 32 32l0 224c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32L0 224c0-17.7 14.3-32 32-32z",props:n}),Ab=n=>l(Lt,{viewBox:"0 0 512 512",path:"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z",props:n}),Rb=n=>l(Lt,{viewBox:"0 0 448 512",path:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z",props:n}),Ib=n=>l(Lt,{viewBox:"0 0 512 512",path:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z",props:n}),Eb=n=>l(Lt,{viewBox:"0 0 512 512",path:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z",props:n}),Ob=n=>l(Lt,{viewBox:"0 0 448 512",path:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z",props:n}),Lt=({viewBox:n,path:r,props:i})=>l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:n,"data-license":wb,...i,children:l("path",{d:r})}),Lb={search:xb,upload:Ab,"star-regular":Sb,"star-solid":Cb,"thumbsup-regular":Pb,"thumbsup-solid":Tb,"profile-solid":Rb,"info-solid":Ib,"settings-solid":Eb,"bars-solid":Ob},gr=({icon:n,fill:r,size:i,...a})=>{const u=Lb[n],h={fill:r??xn.link,...i?{width:i,height:i}:{},...a.style??{}};return l(u,{style:h,...a})},Nb=n=>{const[r,i]=we(Ge(!1),"focused");return Ot(()=>{const a=n.current;if(!a)return;const{abort:u,signal:h}=new AbortController;return a.addEventListener("focus",()=>i(!0),{signal:h}),a.addEventListener("blur",()=>i(!1),{signal:h}),()=>u()},[n]),r},Fb=({initialSearch:n,onSubmit:r})=>{const[i,a]=we(Ge(""),"search"),[u,h]=we(Ge(null),"caretPosition"),[p,_]=we(Ge(n.tags),"tags"),v=we(as(null),"inputRef"),S=Nb(v),T=yb(i,u),y=T==null?void 0:T.filter(O=>!p.includes(O.name)),N=S&&i.length>0,I=O=>{O.key!=="Backspace"||i!==""||(O.preventDefault(),_(L=>L.slice(0,-1)))},k=et(O=>{if(O.preventDefault(),!(i.length>0))r({tags:p});else{const U=p.includes(i)?p:[...p,i];_(U),a("")}},[r,i,p]);return l("div",{className:"relative h-8 w-full grid grid-cols-[1fr_3rem]",children:[l("div",{className:"pl-2 rounded-l-3 bg-bg-deep border-link-soft border border-r-0 flex items-center",children:[l("div",{className:"flex gap-2 pl-1",children:p.map(O=>l("button",{className:"flex gap-1 text-nowrap color-text-active rounded-1 bg-bg-highlight p-1",onClick:()=>_(L=>L.filter(U=>U!==O)),children:O}))}),l("form",{className:"w-full",onSubmit:k,children:l("input",{type:"text",ref:v,value:i,className:"!border-none w-full bg-transparent",onKeyUp:O=>{h(O.currentTarget.selectionStart)},onKeyDown:I,onChange:O=>{a(O.target.value)}})})]}),N&&l(Zy,{onClick:O=>{_(L=>[...L,O]),a("")},tags:y??[]}),l("button",{className:Qe("flex items-center justify-center","bg-link-soft font-bold text-bg","border-solid border-y border-link-soft rounded-r-3"),onClick:()=>r({tags:p}),children:l(gr,{icon:"search",fill:xn.bg,size:"1.5rem"})})]})},Vo=({href:n,icon:r,alt:i})=>l("a",{href:n,className:"flex items-center justify-center px-0 py-0 h-full !text-text-active",children:l(gr,{icon:r,size:"1.5rem",alt:i})}),ji=({href:n,current:r,label:i})=>l("a",{href:n,"data-current":r,className:Qe("flex items-center py-2 px-4 h-12 w-full text-lg text-text-active hover:underline",{"bg-bg-highlight":r}),style:{textShadow:"1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000"},children:l("span",{children:i})}),Mb=({type:n,open:r,onClose:i})=>{const{subscriptionsUrl:a}=ka();return l("div",{className:"sticky left-0 top-0 size-0 z-20",children:[l("nav",{className:Qe("sticky top-12 left-0 z-30 isolate","h-[calc(100vh_-_3rem)] w-48 bg-bg","flex flex-col justify-between","translate-x-0 transition-all duration-150 ease-out","aria-hidden:opacity-0 aria-hidden:-translate-x-full"),"aria-hidden":!r,children:[l("div",{className:"flex flex-col",children:[l(ji,{label:"Posts",href:"/index.php?page=post&s=list",current:n==="posts"}),l(ji,{label:"Subscriptions",href:a,current:n==="subscriptions"}),l(ji,{label:"Forum",href:"/index.php?page=forum&s=list",current:n==="forum"})]}),l("div",{className:"flex flex-col",children:l(ji,{label:"Help",href:"/index.php?page=help",current:n==="help"})})]}),l("div",{className:Qe("absolute w-screen h-screen inset-0 z-20","bg-black/30","transition-all duration-300 ease-out opacity-100","aria-hidden:opacity-0 aria-hidden:hidden"),"aria-hidden":!r,onClick:u=>{u.target.tagName==="DIV"&&i()}})]})},nf="block size-[var(--size)] bg-transparent !border-none !color-text-active seelct-none",Db=({icon:n,size:r,...i})=>"href"in i?l("a",{className:nf,href:i.href,style:{"--size":r},children:l(gr,{icon:n,size:r,className:"w-auto h-full"})}):l("button",{className:nf,onClick:()=>i.action(),children:l(gr,{icon:n,size:r,className:"w-auto h-full"})}),ph=({pageType:n})=>{const r=uh(),[i,a]=we(Ge(!1),"sidebarOpen"),u=et(({tags:h})=>{const p={...r,tags:h},v="/index.php?page=post&s=list&"+Ua(p,{withNativeTags:!1}).toString();window.location.assign(v)},[r]);return l("div",{className:"sticky top-0 z-[100]",children:[l("header",{className:"h-12 sticky top-0 left-0 isolate px-4 z-[100]",children:l("nav",{className:"h-full flex items-center justify-center gap-6 font-bold bg-bg",children:[l("div",{children:l(Db,{icon:"bars-solid",size:"1.5rem",action:()=>a(h=>!h)})}),l(Fb,{initialSearch:r,onSubmit:u}),l(Vo,{icon:"settings-solid",alt:"Settings",href:"/index.php?page=account&s=options"}),l(Vo,{icon:"upload",alt:"Upload",href:"/index.php?page=post&s=add"}),l(Vo,{icon:"profile-solid",alt:"Account",href:"/index.php?page=account&s=home"})]})}),l(Mb,{open:i,type:n,onClose:()=>a(!1)})]})},Wa=n=>{const r=Qe("flex gap-2 justify-center items-center block size-[var(--size)] text-text rounded-2 bg-bg-highlight text-base py-1 px-2 border border-text-soft select-none hover:bg-bg-deep",n.className,n.disabled&&"opacity-70"),i="children"in n?n.children:n.text;if("href"in n){const a=n.disabled?void 0:n.href;return l("a",{className:r,href:a,children:i})}else return l("button",{className:r,disabled:n.disabled,onClick:()=>n.action(),children:i})},gh=({error:n,resetErrorBoundary:r})=>(console.log(n),l("div",{className:"flex flex-col justify-center items-center gap-4",children:[l("h3",{children:"Something went wrong!"}),l("pre",{className:"bg-bg-overlay text-red-400 p-4 text-lg rounded-2",children:n.message}),l("pre",{className:"bg-bg-overlay text-red-400 p-4 text-sm rounded-2 overflow-y-auto h-64 text-wrap w-full",children:n.stack}),l(Wa,{action:r,children:"Try Again"})]})),kb=({children:n,currentPage:r})=>l(wt,{children:[l(ph,{pageType:r}),l(Da,{fallbackRender:gh,children:l(ns,{children:n})})]});function _h(n,r=void 0){const[i,a]=we(Ge(!1),"hovering");return Ot(()=>{if(!n.current)return;const u=n.current;let h;const p=()=>{r?h=setTimeout(()=>a(!0),r):a(!0)},_=()=>{a(!1),h&&clearTimeout(h)};return u.addEventListener("mouseover",p),u.addEventListener("mouseout",_),()=>{u.removeEventListener("mouseover",p),u.removeEventListener("mouseout",_)}},[n,r]),i}async function Ta({search:n,page:r=0,limit:i=64}){return await vh({limit:i,page:r,params:{tags:n}})}async function Ub(n){const{posts:r}=await vh({params:{id:n},limit:1});if(r.length===1)return r[0]}async function vh({limit:n=64,page:r=0,params:i={}}){const a=new URLSearchParams(i);a.set("limit",n.toString()),a.set("pid",r.toString());const h=await(await fetch(`https://api.rule34.xxx/index.php?page=dapi&s=post&q=index&${a.toString()}`)).text(),_=new DOMParser().parseFromString(h,"text/xml").querySelector("posts");if(!_)return{posts:[],remaining:0,total:0};const v=_.attributes.getNamedItem("count"),S=parseInt((v==null?void 0:v.nodeValue)??"0"),T=S-(r+1)*64;return{posts:Array.from(_.children).map(Bb).filter(I=>!!I),total:S,remaining:T}}const rf=(n,r)=>new URL(n).pathname.endsWith(r);function Bb(n){const r=Array.from(n.attributes).map(h=>[h.nodeName,h.nodeValue]),a=Object.fromEntries(r),u=rf(a.file_url,"mp4")||rf(a.file_url,"webm");if(a.status!=="deleted")return{id:a.id,created_at:new Date(a.created_at),type:u?"video":"image",score:parseInt(a.score),source:a.source,tags:a.tags.split(" ").filter(h=>h!==""),full:{url:jo(a.file_url),height:parseInt(a.height),width:parseInt(a.width)},preview:{url:jo(a.sample_url),width:parseInt(a.sample_width),height:parseInt(a.sample_height)},thumbnail:{url:jo(a.preview_url),width:parseInt(a.preview_width),height:parseInt(a.preview_height)}}}const jo=n=>{let r=new URL(n);return r.host="rule34.xxx",r.toString()},Wb=async n=>{{let{posts:r}=await Ta({search:`${n} sort:score -video width:<2000 height:<2000`,limit:3});if(r.length===3)return r}{let{posts:r}=await Ta({search:`${n} score:>=100`,limit:3});return r}},$b=({tag:n})=>{const{data:r}=ds({queryFn:et(()=>Wb(n),[n]),queryKey:["tag-preview",n]});if(r)return l("div",{className:Qe("absolute -top-52 h-48 p-4 z-[200]","flex flex-center gap-4","bg-bg-overlay rounded-2 border border-black border-solid"),children:r.map(i=>l("div",{className:"h-full w-32 object-cover rounded-4 overflow-hidden",children:l("img",{className:"size-full object-cover",src:i.thumbnail.url,width:i.thumbnail.width,height:i.thumbnail.height})},i.id))})},Hb=n=>n.replace(/&#[0-9]+;/,r=>String.fromCharCode(parseInt(r.slice(2).slice(0,-1)))),mh=C1(({tag:{name:n,type:r,count:i},preview:a=!0})=>{const{checkSubscribed:u,addSubscription:h,removeSubscription:p}=ka(),_=u(n),v=we(as(null),"linkRef"),S=_h(v,100),T=Hb(n).replaceAll(/_/g," "),y=we(ln(()=>`index.php?page=post&s=list&${Ua({tags:[n]},{withNativeTags:!0}).toString()}`,[n]),"href"),N=et(()=>{_?p(n):h(n)},[h,_,n,p]);return l("div",{className:"relative",children:[S&&a&&l($b,{tag:n}),l("div",{className:Qe("w-fit p-1 bg-bg-highlight","flex items-center gap-1","border-0 border-l-2 border-l-[var(--tag-color)] border-solid rounded-r-4"),style:{"--tag-color":Gf(r)},children:[l("a",{href:y,ref:v,className:"text-[var(--tag-color)] break-all no-underline hover:underline",children:T}),i&&l("span",{className:"tag-count",children:[" / ",Ba(i)]}),l("button",{onClick:N,className:"bg-transparent",children:l(gr,{size:"0.75rem",icon:_?"star-solid":"star-regular"})})]})]})}),qb=({tags:n})=>{const r=cb(n);return l("div",{className:"w-full flex flex-col gap-2",children:[l(Br,{title:"Creator",tags:r.artist}),l(Br,{title:"Characters",tags:r.character}),l(Br,{title:"Copyright",tags:r.copyright}),l(Br,{title:"General",tags:r.general}),l(Br,{title:"Meta",tags:r.metadata})]})},Br=({title:n,tags:r})=>r.length===0?null:l(wt,{children:[l("h3",{children:n}),l("div",{className:"w-full flex flex-row flex-wrap gap-x-4 gap-y-2",children:r.map(i=>l(mh,{tag:i},i.name))})]});function zb({comment:n}){return l("div",{className:"flex flex-col w-full h-fit p-2 bg-bg-highlight border border-black border-solid rounded-2",children:[l("div",{style:{display:"flex",gap:"1rem"},children:[l("a",{href:`index.php?page=account&s=profile&uname=${n.uploader.id}`,children:n.uploader.name}),l("span",{children:n.createdAt.toLocaleDateString()})]}),l("div",{children:n.text})]})}function Qb({xml:n,rootNodeName:r}){const i=new DOMParser().parseFromString(n,"text/xml"),a=i.querySelector(r);if(!a)throw new Error("Could not find root node");const h=Array.from(a.children).map(p=>{const _=Array.from(p.attributes).map(v=>[v.nodeName,v.nodeValue]);return Object.fromEntries(_)});return{document:i,nodes:h}}async function Gb(n){const r=`https://api.rule34.xxx/index.php?page=dapi&s=comment&q=index&post_id=${n}`,a=await(await fetch(r)).text(),{nodes:u}=Qb({xml:a,rootNodeName:"comments"});return u.map(h=>({id:h.id,createdAt:new Date(h.created_at),text:h.body,uploader:{id:h.creator_id,name:h.creator}}))}const Kb=({post_id:n,total:r,comments:i})=>{const[a,u]=we(Ge(i),"comments"),h=a.length>=r;async function p(){const _=await Gb(n);u(_)}return r===0?l("div",{}):l("div",{className:"w-full flex flex-col gap-2",children:[l("h4",{children:[r," Comments"]}),l("div",{className:"flex flex-col items-center gap-2",children:a.map(_=>l(zb,{comment:_},_.id))}),l("div",{children:!h&&l(Wa,{text:"Load More",action:p})})]})},Yb=({post:n})=>{const[r,i]=we(Ge(()=>Zb(n.id)),"hasLiked"),[a,u]=we(Ge(0),"likeIncrement");return l(Wa,{disabled:r,className:"w-fit",action:async()=>{await Xb(n.id),i(!0),u(1)},children:[l("span",{className:"text-text",children:n.score+a}),l(gr,{className:"size-4 block text-link",icon:r?"thumbsup-regular":"thumbsup-solid",size:"1rem"})]})},Zb=n=>!!localStorage.getItem(`post-liked-${n}`),Xb=async n=>{const r=`https://rule34.xxx/index.php?page=post&s=vote&id=${n}&type=up`;await fetch(r),localStorage.setItem(`post-liked-${n}`,"yes")},Jb=({post:n})=>l(wt,{children:l("div",{className:"flex flex-col text-lg",children:[l("span",{className:"pb-0.25",children:Qy(n.created_at)}),l("i",{className:"font-sm pb-1",children:["(",Gy(n.created_at)," ago)"]}),l("span",{children:[n.full.width,"x",n.full.height]}),l(Yb,{post:n})]})});function Vb({post:n}){return l("img",{className:"h-full w-auto bg-contain bg-no-repeat bg-center mx-auto cursor-pointer",style:{backgroundImage:`url('${n.thumbnail.url}')`},src:n.full.url,width:n.full.width,height:n.full.height,onClick:()=>window.open(n.full.url,"_blank")})}const jb=({post:n})=>l("div",{className:"w-full h-[calc(100vh_-_6rem)] px-1/10",children:n.type==="video"?l("video",{src:n.full.url,poster:n.thumbnail.url,className:"h-full w-full relative bg-black",controls:!0,loop:!0}):l(Vb,{post:n})});function e2(){return l("div",{className:"w-[calc(100%_-_4rem)] bg-link-soft rounded-2xl h-0.5"})}const yh=({scale:n=1})=>{const r='<style>.spinner_qM83{animation:spinner_8HQG 1.05s infinite}.spinner_oXPr{animation-delay:.1s}.spinner_ZTLf{animation-delay:.2s}@keyframes spinner_8HQG{0%,57.14%{animation-timing-function:cubic-bezier(0.33,.66,.66,1);transform:translate(0)}28.57%{animation-timing-function:cubic-bezier(0.33,0,.66,.33);transform:translateY(-6px)}100%{transform:translate(0)}}</style><circle class="spinner_qM83" cx="4" cy="12" r="3"/><circle class="spinner_qM83 spinner_oXPr" cx="12" cy="12" r="3"/><circle class="spinner_qM83 spinner_ZTLf" cx="20" cy="12" r="3"/>',i=24*n,a=24*n;return l("div",{className:"size-full flex items-center justify-center fill-link-soft",style:{width:i,height:a},children:l("svg",{style:{transform:`scale(${n})`},width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",dangerouslySetInnerHTML:{__html:r}})})},sf=()=>l("div",{className:"size-full pt-[20%] flex items-center justify-center animate-fade-in",children:l(yh,{scale:2})}),t2=({page:n})=>{const{data:r,isLoading:i,isError:a}=ds({queryKey:["post",n.id],queryFn:()=>Ub(n.id)});if(a)return location.replace("/"),l(sf,{});if(i||r===void 0)return l(sf,{});const u=r;return l("div",{className:"w-full p-4 flex flex-col items-center gap-4",children:[l(jb,{post:u}),l(e2,{}),l(Da,{fallbackRender:gh,children:l("div",{className:"w-full grid gap-8 p-8",style:{gridTemplateColumns:"20rem 3fr",gridTemplateRows:"auto auto"},children:[l(Jb,{post:u}),l(qb,{tags:n.tags}),l("div",{}),l("div",{className:"w-full max-w-160",children:l(Kb,{post_id:u.id,total:n.totalComments,comments:n.comments})})]})})]})},n2=()=>l("div",{className:"help",children:[l("h1",{children:"Posts"}),l("p",{children:"A post represents a single file that's been uploaded. Each post can have several tags, comments, and notes. If you have an account, you can also add a post to your favorites."}),l("div",{className:"section",children:[l("h4",{children:"Search"}),l("p",{children:["Searching for posts is straightforward. Simply enter the tags you want to search for, separated by spaces. For example, searching for ",l("code",{children:"original panties"})," will return every post that has both the original tag"," ",l("strong",{children:"AND"})," the panties tag."]}),l("h4",{children:"Safe images only mode"}),l("p",{children:["Sometimes viewing all our images is a bit of a problem. You may not be in a location where it is acceptable to view adult content. We have a temporary, hacked together, way to only view safe images when searching our large image database. Not all images are rated correctly so you should not put too much faith into this.",l("br",{}),l("br",{}),"You are still able to view adult images if you click the links to the posts directly."]})]}),l("div",{className:"section",children:[l("h4",{children:"Tag List"}),l("p",{children:"In both the listing page and the show page you'll notice a list of tag links with characters next to them. Here's an explanation of what they do:"}),l("dl",{children:[l("dt",{children:"+"}),l("dd",{children:"This adds the tag to the current search."}),l("dt",{children:""}),l("dd",{children:"This adds the negated tag to the current search."}),l("dt",{children:"950"}),l("dd",{children:"The number next to the tag represents how many posts there are. This isn't always the total number of posts for that tag. It may be slightly out of date as cache isn't always refreshed."}),l("dt",{children:"Color"}),l("dd",{children:"Some tag links may be colored green, purple, or red. Green means the tag represents a character. Purple means the tag represents a copyright (things like anime, manga, games, or novels). Red means the tag represents an artist."})]}),l("p",{children:"When you're not searching for a tag, by default the tag list will show the last few tags added to the database. When you are searching for tags, the tag list will show related tags, alphabetically."})]}),l("h4",{children:"Types"}),l("p",{children:"Tags can be typed. Currently there are only three types: artist, character, and copyright."}),l("div",{className:"section",children:[l("h6",{children:"Artist"}),l("p",{children:["Artist tags identify the tag as the artist. This doesn't mean the artist of the original copyrighted artwork (for example, you wouldn't use the ",l("code",{children:"barasui"})," tag on a picture of Miu drawn by ",l("code",{children:"hanaharu_naruko"}),")."]}),l("p",{children:["When tagging something, you can tell Rule34 that a tag is an artist tag by prefixing it with ",l("code",{children:"artist:"}),". For example, tagging something ",l("code",{children:"artist:mark tree"})," ","will tag a post with ",l("code",{children:"mark"})," and ",l("code",{children:"tree"}),". If the ",l("code",{children:"mark"})," tag doesn't already exist, it'll be created with the tag type set to artist."]}),l("h6",{children:"Character"}),l("p",{children:'Character tags identify the tag as a character. They work exactly like artist tags, only you prefix with "character" (or "char").'}),l("h6",{children:"Copyright"}),l("p",{children:'The copyright type indicates the tag represents an anime, a game, a novel, or some sort of copyrighted setting. Otherwise they work identically to character and artist tags, only you prefix with "copyright" instead (or "copy").'})]}),l("h4",{children:"Artifacts"}),l("p",{children:"Artifacts are the residue of image processing usually left in the JPEG format. It makes the image look weird and blocky around parts of the drawing"}),l("div",{className:"section",children:[l("h6",{children:"Examples"}),l("p",{children:"For your convenience, here are links to some examples. Don't upload images with artifacts."}),l("p",{children:[l("a",{href:"/counter/help/images/1.jpg",children:"1 (No noticeable compression"}),") |"," ",l("a",{href:"/counter/help/images/2.jpg",children:"2 Light Compression"})," ","|"," ",l("a",{href:"/counter/help/images/3.jpg",children:"3 (Heavy Compression)"})," ","|"," ",l("a",{href:"/counter/help/images/4mspaint.jpg",children:"4 (Ms Paint compression)"})]})]})]}),r2=()=>l("div",{className:"help",children:[l("h1",{children:"Ratings"}),l("div",{className:"section",children:[l("p",{children:["All posts on Rule34 have one of three types of ratings: Safe, Questionable, and Explicit. Questionable is the default rating if you do not choose to specify one."," ",l("strong",{children:"Please take note"}),": occasionally explicit images will be marked safe, and vice versa. You should not depend completely on rating filters unless you can tolerate the occasional wrongly rated image. If this happens to you, fix it so that other users don't have that happen to them."]}),l("div",{className:"section",children:[l("h4",{children:"Explicit"}),l("p",{children:"Any image where the vagina or penis are exposed and easily visible. This includes depictions of sex, masturbation, or any sort of penetration."})]}),l("div",{className:"section",children:[l("h4",{children:"Safe"}),l("p",{children:["Safe posts are images that you would not feel guilty looking at openly in public. Pictures of nudes, exposed nipples or pubic hair, cameltoe, or any sort of sexually suggestive pose are ",l("b",{children:"NOT"})," safe and belong in questionable. Swimsuits and lingerie are borderline cases; some are safe, some are questionable."]})]}),l("div",{className:"section",children:[l("h4",{children:"Questionable"}),l("p",{children:"Basically anything that isn't safe or explicit. This is the great middle area, and since it includes unrated posts, you shouldn't really expect anything one way or the other when browsing questionable posts."})]}),l("div",{className:"section",children:[l("h4",{children:"Search"}),l("p",{children:["You can filter search results by querying for"," ",l("code",{children:"rating:safe"}),", ",l("code",{children:"rating:questionable"}),", or ",l("code",{children:"rating:explicit"}),". You can also combine them with other tags and they work as expected."]}),l("p",{children:["If you want to remove a rating from your search results, use"," ",l("code",{children:"-rating:safe"}),", ",l("code",{children:"-rating:questionable"}),", and ",l("code",{children:"-rating:explicit"}),"."]})]})]})]}),i2=()=>l("div",{className:"help",children:[l("h1",{children:"Forum"}),l("p",{children:"All forum posts are sanitized, meaning all HTML is escaped. That being said, there are a few features you can use:"}),l("div",{className:"section",children:[l("h4",{children:"URLs"}),l("p",{children:"Any URL starting with http:// will automatically be converted into a link."})]}),l("div",{className:"section",children:[l("h4",{children:"Post Link Shorthand"}),l("p",{children:"You can link to specific post/view pages using the following shorthand: [post]nnnn[/post], where nnnn is the id number of the post."})]}),l("div",{className:"section",children:[l("h4",{children:"Forum Link Shorthand"}),l("p",{children:"You can link to specific forum using the following shorthand: [forum]nnnn[/forum], where nnnn is the id number of the forum."})]}),l("div",{className:"section",children:[l("h4",{children:"Forum Post Link Shorthand"}),l("p",{children:"You can link to specific forum posts using the following shorthand: [forump]nnnn[/forump], where nnnn is the id number of the forum post."})]})]}),s2=()=>l("div",{className:"help",children:[l("h1",{children:"Pools"}),l("div",{className:"section",children:[l("p",{children:"Pools are groups of posts with a common theme. They are similar to favorites with three important differences: public pools allow anyone to add or remove from them, you can create multiple pools, and posts in a pool can be ordered. This makes pools ideal for subjective tags, or for posts that are part of a series (as is the case in cg sets)."}),l("p",{children:["If you're importing several posts into a pool, this process can become tedious. You can instead click on the Import link at the bottom of the pool's page. This allows you to execute a post search using any"," ",l("a",{href:"index.php?page=help&topic=cheatsheet",children:"tag combination"})," ","you would normally use. Remove any posts that are irrelevant to the pool, then finish the import process."]}),l("p",{children:"Pools can be private, public or personal. A private pool means you are the only person who can add or remove from it. In contrast, public pools can be updated by anyone, even anonymous users depending on current site restrictions, while personal pools are just that, personal. Only you have any access to view or make changes to it. This pool type is meant to be used as a favorite grouping system."}),l("p",{children:"To remove a post from a pool, go to the pool's page and select the Delete Mode checkbox. Then click on the posts you want to delete."})]})]}),o2=()=>l("div",{className:"help",children:[l("h1",{children:"Cheat Sheet"}),l("div",{className:"section",children:[l("h4",{children:"Searching"}),l("dt",{children:"tag1 tag2"}),l("dd",{children:"Search for posts that have tag1 and tag2."}),l("dt",{children:"( tag1 ~ tag2 )"}),l("dd",{children:["Search for posts that have tag1 or tag2. The braces are"," ",l("b",{children:"important"}),' to group the tags between which the "or" counts. The spaces between the braces and tags are also'," ",l("b",{children:"important"})," because some tags end in braces!"]}),l("dt",{children:"night~"}),l("dd",{children:["Fuzzy search for the tag night. This will return results such as night fight bright and so on according to the"," ",l("a",{href:"http://en.wikipedia.org/wiki/Levenshtein_distance",rel:"nofollow",target:"_blank",children:"Levenshtein distance"}),"."]}),l("dt",{children:"-tag1"}),l("dd",{children:"Search for posts that don't have tag1."}),l("dt",{children:"ta*1"}),l("dd",{children:"Search for posts with tags that starts with ta and ends with 1."}),l("dt",{children:"user:bob"}),l("dd",{children:"Search for posts uploaded by the user Bob."}),l("dt",{children:"md5:foo"}),l("dd",{children:"Search for posts with the MD5 hash foo."}),l("dt",{children:"md5:foo*"}),l("dd",{children:"Search for posts whose MD5 starts with the MD5 hash foo."}),l("dt",{children:"rating:questionable"}),l("dd",{children:"Search for posts that are rated questionable."}),l("dt",{children:"-rating:questionable"}),l("dd",{children:"Search for posts that are not rated questionable."}),l("dt",{children:"parent:1234"}),l("dd",{children:"Search for posts that have 1234 as a parent (and include post 1234)."}),l("dt",{children:"rating:questionable rating:safe"}),l("dd",{children:"In general, combining the same metatags (the ones that have colons in them) will not work."}),l("dt",{children:"rating:questionable parent:100"}),l("dd",{children:"You can combine different metatags, however."}),l("dt",{children:"width:>=1000 height:>1000"}),l("dd",{children:"Find images with a width greater than or equal to 1000 and a height greater than 1000."}),l("dt",{children:"score:>=10"}),l("dd",{children:"Find images with a score greater than or equal to 10. This value is updated once daily at 12AM CST."}),l("dt",{children:"sort:updated:desc"}),l("dd",{children:["Sort posts by their most recently updated order.",l("br",{}),l("br",{}),l("i",{children:l("b",{children:"Other sortable types:"})}),l("br",{}),l("div",{children:l("ul",{children:[l("li",{children:"id"}),l("li",{children:"score"}),l("li",{children:"rating"}),l("li",{children:"user"}),l("li",{children:"height"}),l("li",{children:"width"}),l("li",{children:"parent"}),l("li",{children:"source"}),l("li",{children:"updated"})]})}),"Can be sorted by both asc or desc."]})]})]}),a2=()=>l("div",{className:"help",children:[l("h1",{children:"API Basics"}),'You should never receive an error unless the server is overloaded or the search dies. In cases of the searcher breaking, you will receive a response success of "false" and a message stating "search down" or similiar.',l("br",{}),l("br",{}),l("div",{className:"section",children:[l("h2",{children:"Posts"}),l("h4",{children:"List"}),"Url for API access:"," ",l("b",{children:"https://api.rule34.xxx/index.php?page=dapi&s=post&q=index"}),l("br",{}),l("br",{}),l("ul",{children:[l("li",{children:[l("strong",{children:"limit"})," How many posts you want to retrieve. There is a hard limit of 1000 posts per request."]}),l("li",{children:[l("strong",{children:"pid"})," The page number."]}),l("li",{children:[l("strong",{children:"tags"})," The tags to search for. Any tag combination that works on the web site will work here. This includes all the meta-tags. See cheatsheet for more information."]}),l("li",{children:[l("strong",{children:"cid"})," Change ID of the post. This is in Unix time so there are likely others with the same value if updated at the same time."]}),l("li",{children:[l("strong",{children:"id"})," The post id."]}),l("li",{children:[l("strong",{children:"json"})," Set to 1 for JSON formatted response."]})]}),l("h4",{children:"Deleted Images"}),"Url for API access:"," ",l("b",{children:"https://api.rule34.xxx/index.php?page=dapi&s=post&q=index&deleted=show"}),l("br",{}),l("br",{}),l("ul",{children:l("li",{children:[l("strong",{children:"last_id"})," A numerical value. Will return everything above this number."]})})]}),l("div",{className:"section",children:[l("h2",{children:"Comments"}),l("h4",{children:"List"}),"Url for API access:"," ",l("b",{children:"https://api.rule34.xxx/index.php?page=dapi&s=comment&q=index"}),l("br",{}),l("br",{}),l("ul",{children:l("li",{children:[l("strong",{children:"post_id"})," The id number of the comment to retrieve."]})})]}),l("div",{className:"section",children:[l("h2",{children:"Tags"}),l("h4",{children:"List"}),"Url for API access:"," ",l("strong",{children:"https://api.rule34.xxx/index.php?page=dapi&s=tag&q=index"}),l("br",{}),l("br",{}),l("ul",{children:[l("li",{children:[l("strong",{children:"id"})," The tag's id in the database. This is useful to grab a specific tag if you already know this value."]}),l("li",{children:[l("strong",{children:"limit"})," How many tags you want to retrieve. There is a default limit of 100 per request.",l("br",{})]})]})]})]}),u2=()=>l("div",{className:"px-8",children:[l(n2,{}),l(r2,{}),l(i2,{}),l(s2,{}),l(o2,{}),l(a2,{})]}),c2="#tag-sidebar > li:not(:has(h6))";function bh(){return ps(()=>jr(c2).map(l2).filter(r=>!!r))??[]}const l2=n=>{const r=n.className.replace("tag-type-","").replace(" tag",""),i=fn("a:last-of-type",n),a=new URL(i.href),u=er("tags",a.search);if(!u)return null;const h=fn(".tag-count",n);if(!h)return null;const p=parseInt(h.innerText,10);return{name:u,count:p,type:r}};async function f2(){const n=er("id"),r=bh(),i=ps(h2)??{comments:[],totalCommentPages:0,totalComments:0},{comments:a,totalCommentPages:u,totalComments:h}=i;return{type:"post",id:n,tags:r,comments:a,totalCommentPages:u,totalComments:h}}function h2(){return{comments:jr("#comment-list>div").map(n=>({id:g2(n),createdAt:m2(n),text:_2(n),uploader:v2(n)})),totalComments:d2(),totalCommentPages:p2()}}const d2=()=>{try{const n=fn("#comment-list").innerText;return parseInt(/\d+ comments/g.exec(n)[0])}catch{return 0}},p2=()=>{const n=jr("#paginator>:not([alt], script)").map(i=>parseInt(i.innerText));return Math.max(...n)},g2=n=>n.id.slice(1),_2=n=>fn(".col2",n).innerText,v2=n=>{const r=fn(".col1 > a:first-child",n);if(!r)throw new Error;const i=r.innerText,a=er("uname",r.href);if(!a)throw new Error;return{id:a,name:i}},m2=n=>{var a;const i=(a=/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/g.exec(n.innerText))==null?void 0:a.pop();if(!i)throw new Error;return new Date(i)};async function y2(){return{type:"forum",posts:jr(".odd,.even").map(i=>ps(()=>b2(i))).filter(i=>!!i)}}const b2=n=>{const r=fn(".forum-topic>a",n),i=r.innerText,a=r.href,h=n.children[1].innerText,p=void 0,v=n.children[3].innerText,S=n.children[4],T=parseInt(S.innerText);return{title:i,link:a,creator:h,lastReplier:v,replyCount:T,lastUpdated:p}};async function w2(){const n=wh();if(n==="forum")return y2();if(n==="post")return await f2();if(n==="help")return{type:"help"};if(n==="options")return{type:"options"};if(n==="posts"||n==="subscriptions"){const a=bh();return dh(a),{type:n,tags:a}}const r=n==="account"||n==="home"||n==="generic",i=fn("#content");if(i&&r)return{type:"generic",html:i.innerHTML}}const x2="Please enter the CAPTCHA to continue to rule34.xxx",wh=()=>{if(document.body.innerHTML.toLowerCase().includes(x2.toLowerCase()))return"captcha";let r=window.location.pathname;r.endsWith("/")&&(r=r.slice(0,-1));const i=er("page"),a=er("s");return er("subscriptions")?"subscriptions":i=="post"&&a=="list"?"posts":i=="post"&&a=="view"?"post":i=="account"&&a=="options"?"options":i=="account"?"account":i=="forum"?"forum":i=="help"?"help":r===""||r==="index.php"?"posts":"generic"};function S2(n){const{data:r,fetchNextPage:i}=xy({queryKey:["posts",n.tags,n.sort,n.subscriptionsOnly],initialPageParam:0,queryFn:async({pageParam:_=0})=>{const v=await Ta({search:ah(n),page:_,limit:100});return{pageParam:_+1,data:v}},getNextPageParam:_=>_.pageParam}),a=we(ln(()=>{const _=(r==null?void 0:r.pages)??[];let v=[];return _.forEach(S=>{v.push(...S.data.posts)}),v=Ry(v,S=>S.id),v},[r==null?void 0:r.pages]),"posts"),{total:u,remaining:h}=we(ln(()=>{var T,y,N;const _=(N=(y=(T=r==null?void 0:r.pages)==null?void 0:T[0])==null?void 0:y.data)==null?void 0:N.total;if(!r||!_)return{total:null,remaining:null};const v=r.pages.map(I=>I.data.posts.length).reduce((I,k)=>I+k,0),S=_-v;return{total:_,remaining:S}},[r]),"total"),p=et(async()=>{await i({cancelRefetch:!1})},[i]);return Ot(()=>{i({cancelRefetch:!1})},[i]),{posts:a,remaining:h,total:u,nextPage:p}}const C2=({post:n,className:r})=>{const[i,a]=we(Ge(null),"timeoutId");Ot(()=>{if(i)return()=>clearTimeout(i)},[i]);const u=h=>{h.duration?h.currentTime=h.duration/2:h.currentTime=1,h.playbackRate=.75,h.play();const p=setTimeout(()=>{h.pause(),h.src=""},4e3);a(p)};return l("div",{className:Qe("relative isolate overflow-hidden size-full",r),children:l("video",{className:"size-full object-cover",src:n.full.url,width:n.full.width,height:n.full.height,onLoadedMetadata:h=>u(h.currentTarget),poster:n.thumbnail.url,disablePictureInPicture:!0,playsInline:!0,muted:!0,autoPlay:!0,loop:!0})})},P2=({post:n})=>{const r=et(async()=>n!=null&&n.tags?(await lb(n.tags)).filter(({type:v})=>v==="artist")[0]:void 0,[n==null?void 0:n.tags]),{data:i}=ds({queryFn:r,queryKey:["thumbnail-artist",n==null?void 0:n.id]}),a=we(as(null),"imageRef"),u=we(as(null),"thumbnailRef"),h=_h(u,200);return Ot(()=>{const p=a.current;if(!p)return;const _=([S])=>{S.isIntersecting?p.loading="eager":p.loading="lazy"},v=new IntersectionObserver(_,{});return v.observe(p),()=>v.disconnect()}),l("a",{ref:u,href:n&&`/index.php?page=post&s=view&id=${n.id}`,className:Qe("flex flex-col flex-center","relative isolate overflow-hidden","w-[var(--GRID-SIZE)] h-[calc(var(--GRID-SIZE)_*_1.5)]","bg-bg-highlight border border-black border-solid rounded-4 text-text-active no-underline"),children:[l("div",{className:Qe("size-full overflow-hidden bg-bg-deep group"),children:n&&((n==null?void 0:n.type)==="video"&&h?l(C2,{post:n,className:"duration-300 origin-center scale-100 brightness-100 group-hover:brightness-50 group-hover:scale-110"}):l("img",{className:Qe("size-full object-cover","duration-300 origin-center scale-100 brightness-100 group-hover:brightness-50 group-hover:scale-110"),loading:"lazy",ref:a,src:n==null?void 0:n.thumbnail.url,width:n==null?void 0:n.thumbnail.width,height:n==null?void 0:n.thumbnail.height}))}),l("div",{className:Qe("h-8 w-full px-8 shadow-none flex justify-between items-center",{"bg-[#2c2d75]":(n==null?void 0:n.type)==="video"}),style:{textShadow:"none"},children:[l("span",{className:"text-link-artist",children:(i==null?void 0:i.name)??""}),n&&l("span",{children:["Score ",Ba(n.score)]})]})]})},T2=({search:n})=>{const{posts:r,remaining:i,nextPage:a}=S2(n),u=et(h=>{if(!h)return;const p=new IntersectionObserver(async _=>{if(_[0].isIntersecting){if(i===0){p.disconnect();return}a()}});p.observe(h)},[a,i]);return l("div",{children:[l("div",{className:"grid justify-items-center gap-4 gap-x-2",style:{"--GRID-SIZE":"16rem",gridTemplateColumns:"repeat(auto-fit, minmax(var(--GRID-SIZE), 1fr))"},children:r.map(h=>l(P2,{post:h},h.id))}),l("div",{className:"w-full flex justify-center p-8",children:!!i&&l("span",{ref:u,children:l(yh,{scale:2})})})]})},A2=({value:n,options:r,onSelect:i})=>{const a=et(u=>i(u.currentTarget.value),[i]);return l("select",{value:n,className:"h-fit rounded-1 p-1 text-text w-26",onChange:a,children:Ay(r).map(([u,h])=>l("option",{className:Qe({"text-text":u!==n,"text-text-active":u===n}),value:u,children:h}))})},R2={[Et.newest]:"Newest",[Et.score]:"Top Rated",[Et.hot]:"Hotest",[Et.random]:"Random"},of=()=>{const[n,r]=we(Ge(()=>uh()),"search"),{subscriptions:i}=ka(),a=i.toSorted((p,_)=>p.name.localeCompare(_.name)),u=wh(),h=p=>{const _={...n,sort:p},S="/index.php?page=post&s=list&"+Ua(_,{withNativeTags:!1}).toString();history.replaceState(null,"",S),r(_)};return l("div",{className:"h-full relative grid grid-rows-[4rem_auto] grid-cols-[1fr_6fr_1fr]",children:[l("div",{className:"sticky top-10 z-10 flex items-center justify-around row-[1] col-[3]",children:l(A2,{options:R2,value:n.sort,onSelect:h})}),l("div",{className:"flex flex-col pl-4 gap-2 col-[1] row-[2]",children:u==="subscriptions"&&a.map(p=>l(mh,{tag:p}))}),l("div",{className:"h-full overflow-y-auto col-[2] row-[2]",children:l(T2,{search:n})})]})},I2=()=>l("div",{className:"px-4 py-2 flex flex-col gap-2",children:[l("h2",{children:"Blacklist"}),l("div",{className:"flex gap-2",children:[l("input",{id:"bl",type:"checkbox",value:"a"}),l("label",{htmlFor:"bl",children:"Gore"})]})]}),E2=({page:n})=>l(Kf,{children:l(kb,{currentPage:n.type,children:l(O2,{page:n})})}),O2=({page:n})=>n.type==="post"?l(t2,{page:n}):n.type==="help"?l(u2,{}):n.type==="posts"?l(of,{}):n.type==="subscriptions"?l(of,{}):n.type==="options"?l(I2,{}):n.type==="generic"?l("div",{id:"content",dangerouslySetInnerHTML:{__html:n.html}}):null,L2=["post","help","posts","subscriptions","generic","options"];async function N2(n){!L2.includes(n.type)?await M2(n):F2(n)}async function F2(n){document.body.innerHTML="",Yf(document.body).render(l(E2,{page:n})),Oy()}async function M2(n){const r=await Sy("#header");rs("[data-nosnippet]"),rs(".horizontalFlexWithMargins"),rs("img[src$='r34chibi.png']"),r.id="rr-header",Yf(r).render(l(Kf,{children:l(ph,{pageType:n.type})}))}(async()=>{const n=await w2();!n||n.type==="captcha"||await N2(n)})();
;
(function(){
                    const el = document.createElement("style");
                    el.innerText = "body,div,h1,h2,h3,h4,h5,h6,p,ul,li,dd,dt{margin:0;padding:0}:where(a:link,a:visited,a:hover,a:active){color:var(--c-link);text-decoration:none}a.spoiler{cursor:text}div#static-index{text-align:center;display:flex;flex-direction:column;align-items:center}div#static-index>div#links>a{margin:0 .5em}div#static-more>div{float:left;width:25%}div#static-more>div>ul{margin-top:2em}div#static-more>div>ul>li{list-style-type:none;margin:0}addr{display:block;margin-left:2em;font-weight:700}code{font-family:monospace;font-size:1.2em}dd{margin-bottom:1em}dt{font-weight:700}h1{font-size:2em}h2{font-size:1.8em}h2.wiki-title{margin-bottom:.25em}h3{font-size:1.6em}h4{font-size:1.4em}h5{font-size:1.2em}h6{font-size:1em}img{border:none;vertical-align:middle}label{font-weight:700;white-space:nowrap}ol{margin-left:1em}p{margin-bottom:1em}span.informational{cursor:help}span.spoiler{cursor:text}span.plid{display:none}span.unread-topic,strong.divider{font-weight:700}textarea{display:block;padding:0 .3em;font-family:monospace;font-size:1.2em}textarea.no-block{display:inline}ul{margin-bottom:1em}ul.bare-list li{list-style-type:none}ul.flat-list{margin:0;padding:0}ul.flat-list li{display:inline;list-style-type:none;font-weight:700;padding:0;margin:0 1em 0 0}ul.flat-list li a{font-weight:400}ul.flat-list li a.forum-update{font-style:italic}ul.link-page{font-size:1.2em;font-weight:700}ul.link-page>li{margin:0;padding:0;list-style-type:none}.history-search-row{clear:left;margin:0;bottom:0}.history-search-label{width:10%;float:left}div#artist-index>table td{white-space:nowrap}div.auto_complete{width:350px}div.auto_complete ul{border:1px solid;margin:0;padding:0;width:100%;list-style-type:none}div.auto_complete ul li{margin:0;padding:3px}div.auto_complete ul strong.highlight{margin:0;padding:0}div.blocked{border:2px solid;font-size:1.2em;padding:1em;margin:1em;text-align:center}div#footer{margin-top:1em;text-align:center;font-size:120%;clear:both}div.has-mail{border:2px solid;padding:1em;margin:1em;font-size:1.5em;text-align:center}div.help{margin-top:2em}div.help a.code{font-family:monospace}div.help div.code{border:1px dashed;margin:1em 0;padding:1em 2em;overflow:hidden;font-family:monospace}div.help>div.section{margin-bottom:4em}div.help>div.section>div.section{margin-bottom:2em}div.help h1,div.help h2,div.help h3,div.help h4{margin:0 0 .5em}div#info{font-style:italic}div#mail-show div.message{margin-bottom:4em}div.notice{font-size:1.2em;font-weight:700;margin-bottom:1em;padding-left:20px}div.quote{margin-top:10px;padding:12px;text-align:justify;font-style:italic;font-size:12px;font-family:sans-serif,arial,tahoma;border:1px solid}div#related{margin:0 3em 1em 0}div#related>div.tag-column{float:left;margin:0 2em 2em 0;max-width:12em;height:35em}div#related>div.tag-column>a{margin-right:1em}div.sidebar li{list-style-type:none;margin:0;word-wrap:break-word}a.original-file-changed#highres{font-weight:700}div.status-notice{border:2px solid;padding:1em;margin:1em}div.status-notice p{margin:0}div#tag-list{text-align:center;margin-bottom:2em}div#tag-list>a{padding-right:5px}div.tips{background:#d9e6f7;border-bottom:1px solid #c9def8;padding:5px 5px 5px 20px;font-size:11px}div#forum>table th:first-child{text-align:left}div#forum>table td:first-child{text-align:left}div.response-list>div.post>div.content>div.footer{margin-top:1em}div.mailbuttons{font-size:15px;color:#dadada;text-align:center}div.mailhint{padding:25px;font-weight:700}div.mailheader{margin-bottom:5px}div.mailbody{margin:5px;border-style:solid;border-width:1px;padding:15px}div.mailtitle{font-weight:lighter;font-size:large}div.mailtitle>div{font-weight:bolder;padding-left:25px}#navbar li.current-page a{font-weight:700}.tradio{position:absolute;clip:rect(0,0,0,0)}div#paginator a{border:1px solid}div#paginator span{margin:0 3px;padding:2px 6px}.manual-page-chooser>input[type=text]{width:4em}img.flagged,img.has-children,img.has-parent,img.pending,img.video{border:3px solid}img.preview{margin:auto}div#post-add p#scale{font-style:italic}div#post-popular>h3{text-align:center;margin-bottom:1em}div#note-container{position:absolute}div#note-container>div.note-body{border:1px solid;display:none;max-width:300px;min-width:140px;min-height:10px;position:absolute;padding:5px;cursor:pointer;overflow:auto}div#note-container>div.note-body>p.tn{font-size:.8em}div#note-container>div.note-box{position:absolute;border:1px solid;width:150px;height:150px;cursor:move}div#note-container>div.note-box>div.note-corner{width:7px;height:7px;position:absolute;bottom:0;right:0;cursor:se-resize}div#note-container>div.unsaved{border:1px solid}div#post-view>div#right-col>div#edit{margin-bottom:2em;padding:1em}span.blacklisted-image{display:none}table{margin-bottom:2em}table.form p{font-size:.8em;font-weight:400;margin:0;padding:0}table.highlightable{border-collapse:collapse;border-spacing:0}table.highlightable td{border:1px dotted;margin:0}table.highlightable th{margin:0}table td{padding:1px 4px;vertical-align:top}table th{font-weight:700;text-align:left;vertical-align:top;padding:.2em .5em;white-space:nowrap}.unchanged-tags{font-size:.8em}div.wiki>h2.title{color:#009}div#wiki-show>div#body{line-height:2em;width:50em;text-align:left;float:left}div#wiki-show>div#body ul{line-height:1.2em;margin:0 0 0 1em}div#wiki-show>div#body>ul{margin-bottom:1em}div#wiki-show>div#body>div#byline{font-style:italic}div#wiki-diff>div#body{font-family:monospace;font-size:1.2em;margin-top:1em}div#wiki-diff del{text-decoration:line-through}div#post-comments{max-width:680px;margin-top:10px}div#post-comments div#comment-list>div{margin-bottom:1em}div#post-comments div#comment-list>div>div.col2{margin-top:10px}div#post-comments div#comment-list>div>div.col2>div.header{margin-bottom:1em}div#post-comments div#comment-list>div>div.col2>div.header>div>span.info{margin-right:1em}div#post-comments div#comment-list>div>div.col2>div.header>div.tags>span{margin:0 .5em 0 0}div#comments div#comment-list>div.post{float:left;clear:left;margin-bottom:3em}div#comments div#comment-list>div.post>div.col1{float:left;clear:left}div#comments div#comment-list>div.post>div.col2{float:left;width:50em}div#comments div#comment-list>div.post>div.col2>div.header{margin-bottom:1em}div#comments div#comment-list>div.post>div.col2>div.header>div>span.info{margin-right:1em}div#comments div#comment-list>div.post>div.col2>div.header>div.tags>span{margin:0 .5em 0 0}html{min-height:100%}body{font-size:80%;padding:0;margin:0}div#content{padding:0 20px 30px}div.sidebar{margin-right:1em;overflow:visible;max-width:200px}div.sidebarRight{padding-left:20px}div.verticalFlexWithMargins{display:flex;flex-direction:column;padding-top:5px;padding-bottom:5px}div.verticalFlexWithMargins>*{margin-top:5px;margin-bottom:5px}div.horizontalFlexWithMargins{display:flex;flex-direction:row;padding-left:5px;padding-right:5px}div.horizontalFlexWithMargins>*{margin-left:5px;margin-right:5px}li{margin-right:.5em}div.page,div.help{width:40em}input{padding:0 .3em}div.response-list{display:flex;flex-direction:column}div.response-list>div.post{margin-bottom:2em}div.response-list>div.post>div.author{float:left;width:15em;padding-right:1em;overflow-x:hidden}div.response-list>div.post>div.author>h6{font-size:1.3em}div.response-list>div.post>div.content{float:left;width:30em;padding:0 0 0 10px;margin:0}div.mailmessage{width:750px}div.mailbuttons :not(:last-child):after{content:\"  |\"}label[for=nav-trigger],.nav-trigger{display:none}div#header{margin-bottom:1em}div#header ul#subnavbar{padding:5px 20px 5px 15px;margin:0 0 1em}div#header ul#navbar{padding:5px 20px 3px 10px;margin:0}div#header ul#navbar li{font-size:120%;padding:2px 10px 3px;margin:0}div#header ul#navbar li.current-page a{font-weight:700}div#header ul#subnavbar li{padding:0 5px}div#header #site-title{padding:10px 20px 1px}div#paginator{display:block;padding:2em 0 1em;font-size:1em;text-align:center;clear:both}div#paginator a{margin:0 3px;padding:2px 6px}div#post-view,div#post-list,div.flexi{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start}div#upload-form table,div#edit-form table{width:850px}.thumb{display:inline-block;text-align:center;vertical-align:top;margin:0 10px 20px 0;width:200px;height:200px}.thumb img{max-width:100%;max-height:100%;vertical-align:middle}div.tag-search{padding-bottom:5px;width:150px}div.tag-search small{display:none}div.tag-search input[type=text]{width:100%;padding:0;clear:both;box-sizing:border-box}div.tag-search input[type=submit]{box-sizing:border-box;width:100%;border:1px solid;margin-top:3px}div.tag-search form br{display:none}div.tag-search{margin:0}table.form th{white-space:normal;padding-right:1em;text-align:right}table.form{width:70em}*{--c-bg: #303a30;--c-bg-alt: #293129;--c-bg-deep: #303030;--c-bg-highlight: #505a50;--c-bg-overlay: #242424e6;--c-text: #c0c0c0;--c-text-soft: #878787;--c-link: #b0e0b0;--c-link-soft: #93b393;--c-link-artist: #f0a0a0;--c-link-character: #f0f0a0;--c-link-copyright: #f0a0f0;--c-link-metadata: #90d9ed;--ff-narrow: \"tahoma\", \"trebuchet ms\", \"arial\", sans-serif}body{color:var(--c-text);background-color:var(--c-bg);background-image:none}a.last-page{color:#666}a.spoiler{color:#000;background:#000}a.spoiler:hover{color:#fff}.blacklisted-tags-disabled{color:#aaa}dt.bad{color:red}h2.wiki-title{color:#003dd8}:where(input[type=text],input[type=password],input[type=email],input[type=date],textarea,select){border-width:1px;border-style:solid;border-color:var(--c-bg-highlight);background-color:var(--c-bg-deep);color:var(--c-text)}input[type=submit],input[type=button],button{border-width:1px;border-style:solid;font-weight:700;color:var(--c-bg);border-color:var(--c-bg-highlight);background-color:var(--c-link-soft)}input[type=submit][disabled],input[type=button][disabled],button[disabled]{filter:saturate(0%) brightness(70%)}input[type=submit]:not([disabled]):active,input[type=button]:not([disabled]):active,button:not([disabled]):active{filter:invert(100%) hue-rotate(180deg)}input[type=submit][name=commit][style]{border-color:var(--c-bg-highlight);background-color:var(--c-link-soft)}input[type=text]:focus,input[type=password]:focus,textarea:focus{background-color:var(--c-bg-deep)}span.author,span.date{color:#aaa}span.locked-topic{color:#666}span.post-count{color:#aaa}span.spoiler{color:#000;background:#000}span.spoiler:hover{color:#fff}strong.divider{color:gray}div.auto_complete{background:#fff}div.auto_complete ul{border-color:#888}div.auto_complete ul li.selected{background-color:#ffb}div.auto_complete ul strong.highlight{color:#800}div.blocked{border-color:red;background:#fcc;color:red}div#footer{color:#ccc}div#footer>.footer-disabled{color:#777}div#footer>#label{color:#777}div.help div.code{border-color:green;background:#eee}div.help h4{color:unset}div.mail .received{color:#060}div.mail .sent{color:#600}div#notice{color:red}div.quote{background-color:var(--c-bg-highlight);border-color:var(--c-text)}div.status-notice,div.has-mail{border-width:1px;border-color:var(--c-bg-highlight);background-color:var(--c-bg-deep)}#post-list>div.status-notice,#post-view>div.status-notice{width:100%}.status-notice+br,.status-notice+br+br{display:none}div.tips{border-bottom-color:#c9def8}a.original-file-changed#highres{color:#0030fa}div#user-record>table>tbody>tr.positive-record{background:#efe}div#user-record>table>tbody>tr.negative-record{background:#fee}.blacklisted-image{filter:invert(100%) contrast(80%) brightness(145%)}img[src$=\"rule34.xxx/images/r34chibi.png\"],img[src$=\"rule34.xxx/icame.png\"],img[src$=\"rule34.xxx//icame.png\"]{opacity:.5}form[action=\"index.php?page=search\"]+small{display:none}div#wiki-show>div#body>div#byline{color:#666}div#wiki-diff del{background-color:#f88}div#wiki-diff ins{background-color:#8f8}.obsolete-tag-change{color:#000}.tag-type-artist>a,a.tag-type-artist,.tag-type-artist>a:hover,a.tag-type-artist:hover,.tag-type-artist{color:var(--c-link-artist)}.tag-type-character>a,a.tag-type-character,.tag-type-character>a:hover,a.tag-type-character:hover,.tag-type-character{color:var(--c-link-character)}.tag-type-copyright>a,a.tag-type-copyright,.tag-type-copyright>a:hover,a.tag-type-copyright:hover,.tag-type-copyright{color:var(--c-link-copyright)}.tag-type-metadata>a,a.tag-type-metadata,.tag-type-metadata>a:hover,a.tag-type-metadata:hover,.tag-type-metadata{color:var(--c-link-metadata)}.tag-count{color:var(--c-text-soft)}.added-tags{color:#0c0}.removed-tags{color:red}#tag-sidebar>li[class*=tag-type-]>span:not([class]){font-size:xx-small;font-family:var(--ff-narrow);color:var(--c-text-soft)}#tag-sidebar>li[class*=tag-type-]>span:not([class])[style]{color:var(--c-text-soft)}tr.tableheader,thead tr{background-color:var(--c-bg-highlight)}tr.tableheader,thead tr,table.highlightable>tbody>tr{background-image:unset}table.form th{color:unset}table.highlightable>tbody>tr:not(.tableheader):hover{background-color:unset}table.highlightable th{color:#fff}table.highlightable td{border-color:#eee}table tr.good{background:#e6ffe6}table tr.selected{background:#aee}table tr.highlight{background:#ffd}table tr.pending-tag{background-color:var(--c-bg-alt)}img.flagged{border-color:red}img.has-children{border-color:#0f0}img.has-parent{border-color:#cc0}img.pending,img.video{border-color:#00f}div#post-add p#scale{color:#999}div#note-container>div.note-body,div#note-container>#edit-box{background:var(--c-bg-overlay);border-color:#000}div#note-container>div.note-body>p.tn{color:var(--c-text)}tn{color:gray}div#note-container>div.note-box{border-color:#000;background:#ffe}div#note-container>div.note-box>div.note-corner{background:#000}div#note-container>div.unsaved{background:#fff;border-color:red}div#note-container>div.unsaved>div.note-corner{background:red}div.response-list>div.post>div.content>div.footer{color:#ccc}div.response-list>div.post>div.content>div.footer a{color:var(--c-link)}div#paginator a:hover{background-color:var(--c-link-soft);color:var(--c-link)}#navbar li.current-page a{color:unset}.tlabel{background-color:var(--c-link-soft);outline:.2rem solid var(--c-link-soft)}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-top-52{top:-13rem}.left-0{left:0}.top-0{top:0}.top-10{top:2.5rem}.top-12{top:3rem}.top-8{top:2rem}.isolate{isolation:isolate}.-z-20{z-index:-20}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-\\[100\\]{z-index:100}.z-\\[200\\]{z-index:200}.col-\\[1\\]{grid-column:1}.col-\\[2\\]{grid-column:2}.col-\\[3\\]{grid-column:3}.row-\\[1\\]{grid-row:1}.row-\\[2\\]{grid-row:2}.mx-auto{margin-left:auto;margin-right:auto}.block{display:block}.flex{display:flex}.grid{display:grid}.size-0{width:0px;height:0px}.size-4{width:1rem;height:1rem}.size-\\[var\\(--size\\)\\]{width:var(--size);height:var(--size)}.size-full{width:100%;height:100%}.h-0\\.5{height:.125rem}.h-12{height:3rem}.h-48{height:12rem}.h-64{height:16rem}.h-8{height:2rem}.h-\\[calc\\(100vh_-_3rem\\)\\]{height:calc(100vh - 3rem)}.h-\\[calc\\(100vh_-_6rem\\)\\]{height:calc(100vh - 6rem)}.h-\\[calc\\(var\\(--GRID-SIZE\\)_\\*_1\\.5\\)\\]{height:calc(var(--GRID-SIZE) * 1.5)}.h-fit{height:-moz-fit-content;height:fit-content}.h-full{height:100%}.h-screen{height:100vh}.w-32{width:8rem}.w-48{width:12rem}.w-\\[calc\\(100\\%_-_4rem\\)\\]{width:calc(100% - 4rem)}.w-\\[var\\(--GRID-SIZE\\)\\]{width:var(--GRID-SIZE)}.w-auto{width:auto}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.w-screen{width:100vw}.max-w-160{max-width:40rem}.origin-center{transform-origin:center}.translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}}.animate-fade-in{animation:1s ease-out 1s 1 running fade-in forwards}.cursor-pointer{cursor:pointer}.cursor-zoom-in{cursor:zoom-in}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.grid-cols-\\[1fr_3rem\\]{grid-template-columns:1fr 3rem}.grid-cols-\\[1fr_6fr_1fr\\]{grid-template-columns:1fr 6fr 1fr}.grid-rows-\\[4rem_auto\\]{grid-template-rows:4rem auto}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-items-center{justify-items:center}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-x-4{-moz-column-gap:1rem;column-gap:1rem}.gap-y-2{row-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.text-wrap{text-wrap:wrap}.text-nowrap{text-wrap:nowrap}.break-all{word-break:break-all}.rounded-1{border-radius:.25rem}.rounded-2{border-radius:.5rem}.rounded-2xl,.rounded-4{border-radius:1rem}.rounded-b-2{border-bottom-right-radius:.5rem;border-bottom-left-radius:.5rem}.rounded-l-3{border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.rounded-r-3{border-top-right-radius:.75rem;border-bottom-right-radius:.75rem}.rounded-r-4{border-top-right-radius:1rem;border-bottom-right-radius:1rem}.border{border-width:1px}.border-0{border-width:0px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-l-2{border-left-width:2px}.border-r-0{border-right-width:0px}.border-solid{border-style:solid}.\\!border-none{border-style:none!important}.border-none{border-style:none}.border-black{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity, 1))}.border-link-soft{border-color:var(--r-link-soft)}.border-text-soft{border-color:var(--r-text-soft)}.border-l-\\[var\\(--tag-color\\)\\]{border-left-color:var(--tag-color)}.bg-\\[\\#2c2d75\\]{--tw-bg-opacity: 1;background-color:rgb(44 45 117 / var(--tw-bg-opacity, 1))}.bg-bg{background-color:var(--r-bg)}.bg-bg-alt{background-color:var(--r-bg-alt)}.bg-bg-deep{background-color:var(--r-bg-deep)}.bg-bg-highlight{background-color:var(--r-bg-highlight)}.bg-bg-overlay{background-color:var(--r-bg-overlay)}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-black\\/30{background-color:#0000004d}.bg-link-soft{background-color:var(--r-link-soft)}.bg-transparent{background-color:transparent}.bg-contain{background-size:contain}.bg-center{background-position:center}.bg-no-repeat{background-repeat:no-repeat}.fill-link-soft{fill:var(--r-link-soft)}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-0{padding-left:0;padding-right:0}.px-1\\/10{padding-left:10%;padding-right:10%}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0{padding-top:0;padding-bottom:0}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.pb-1{padding-bottom:.25rem}.pl-1{padding-left:.25rem}.pl-2{padding-left:.5rem}.pl-4{padding-left:1rem}.pt-\\[20\\%\\]{padding-top:20%}.text-left{text-align:left}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-bold{font-weight:700}.\\!text-text-active{color:var(--r-link)!important}.text-\\[var\\(--tag-color\\)\\]{color:var(--tag-color)}.text-bg{color:var(--r-bg)}.text-link{color:var(--r-link-soft)}.text-link-artist{color:var(--r-link-artist)}.text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-text{color:var(--r-text)}.text-text-active{color:var(--r-link)}.no-underline{text-decoration-line:none}.opacity-100{opacity:1}.opacity-70{opacity:.7}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.brightness-100{--tw-brightness: brightness(1);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-300{transition-duration:.3s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.\\!color-text-active{color:var(--r-link)!important}.color-text-active{color:var(--r-link)}.flex-center{justify-content:center;align-items:center}.pixelated{image-rendering:pixelated}body{font-family:verdana,sans-serif;background:var(--r-bg);color:var(--r-text);font-size:80%;overflow-x:hidden}:where(button){all:unset;cursor:pointer}:where(button)[disabled]{cursor:unset}div#content{padding:1rem}:scope:focus,:scope:active{outline:inherit;border:inherit}#rr-header{position:sticky;top:0;z-index:1000;margin:0!important}*,*:before,*:after{box-sizing:border-box}*{margin:0}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}:where(input:focus,input:active){outline:unset;border:unset}li{list-style-position:inside}.hover\\:bg-bg-deep:hover{background-color:var(--r-bg-deep)}.hover\\:underline:hover{text-decoration-line:underline}.focus\\:border-none:focus{border-style:none}.focus\\:underline:focus{text-decoration-line:underline}.group:hover .group-hover\\:scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:brightness-50{--tw-brightness: brightness(.5);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.aria-hidden\\:hidden[aria-hidden=true]{display:none}.aria-hidden\\:-translate-x-full[aria-hidden=true]{--tw-translate-x: -100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.aria-hidden\\:opacity-0[aria-hidden=true]{opacity:0}\n";
                    el.type = "text/css";
                    document.head.appendChild(el);
                })();
