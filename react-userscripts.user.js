// ==UserScript==
// @name         Rule34 Redux V2
// @run-at       document-body
// @description  A redesign of r34 with subscription and infinte scroll
// @namespace    https://github.com/mister-milky/r34-redux
// @downloadURL  https://github.com/mister-milky/r34-redux/raw/refs/heads/main/react-userscripts.user.js
// @updateURL    https://github.com/mister-milky/r34-redux/raw/refs/heads/main/react-userscripts.user.js
// @version      1.1.1
// @match        *://rule34.xxx/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=rule34.xxx
// @grant        xmlHttpRequest
// @grant        GM_addStyle
// ==/UserScript==

"use strict";var yl=n=>{throw TypeError(n)};var Ho=(n,r,i)=>r.has(n)||yl("Cannot "+i);var b=(n,r,i)=>(Ho(n,r,"read from private field"),i?i.call(n):r.get(n)),z=(n,r,i)=>r.has(n)?yl("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(n):r.set(n,i),D=(n,r,i,a)=>(Ho(n,r,"write to private field"),a?a.call(n,i):r.set(n,i),i),re=(n,r,i)=>(Ho(n,r,"access private method"),i);var Ji=(n,r,i,a)=>({set _(c){D(n,r,c,i)},get _(){return b(n,r,a)}});var ds,G,gf,wn,bl,_f,vf,mf,Ea,sa,oa,yf,zr={},bf=[],m1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Vr=Array.isArray;function Qt(n,r){for(var i in r)n[i]=r[i];return n}function Oa(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function pr(n,r,i){var a,c,f,p={};for(f in r)f=="key"?a=r[f]:f=="ref"?c=r[f]:p[f]=r[f];if(arguments.length>2&&(p.children=arguments.length>3?ds.call(arguments,2):i),typeof n=="function"&&n.defaultProps!=null)for(f in n.defaultProps)p[f]==null&&(p[f]=n.defaultProps[f]);return rs(n,p,a,c,null)}function rs(n,r,i,a,c){var f={type:n,props:r,key:i,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:c??++gf,__i:-1,__u:0};return c==null&&G.vnode!=null&&G.vnode(f),f}function xt(n){return n.children}function wt(n,r){this.props=n,this.context=r}function gr(n,r){if(r==null)return n.__?gr(n.__,n.__i+1):null;for(var i;r<n.__k.length;r++)if((i=n.__k[r])!=null&&i.__e!=null)return i.__e;return typeof n.type=="function"?gr(n):null}function wf(n){var r,i;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,r=0;r<n.__k.length;r++)if((i=n.__k[r])!=null&&i.__e!=null){n.__e=n.__c.base=i.__e;break}return wf(n)}}function aa(n){(!n.__d&&(n.__d=!0)&&wn.push(n)&&!us.__r++||bl!=G.debounceRendering)&&((bl=G.debounceRendering)||_f)(us)}function us(){for(var n,r,i,a,c,f,p,_=1;wn.length;)wn.length>_&&wn.sort(vf),n=wn.shift(),_=wn.length,n.__d&&(i=void 0,c=(a=(r=n).__v).__e,f=[],p=[],r.__P&&((i=Qt({},a)).__v=a.__v+1,G.vnode&&G.vnode(i),La(r.__P,i,a,r.__n,r.__P.namespaceURI,32&a.__u?[c]:null,f,c??gr(a),!!(32&a.__u),p),i.__v=a.__v,i.__.__k[i.__i]=i,Cf(f,i,p),i.__e!=c&&wf(i)));us.__r=0}function xf(n,r,i,a,c,f,p,_,v,S,R){var y,O,I,k,L,N,U=a&&a.__k||bf,$=r.length;for(v=y1(i,r,U,v,$),y=0;y<$;y++)(I=i.__k[y])!=null&&(O=I.__i==-1?zr:U[I.__i]||zr,I.__i=y,N=La(n,I,O,c,f,p,_,v,S,R),k=I.__e,I.ref&&O.ref!=I.ref&&(O.ref&&Na(O.ref,null,I),R.push(I.ref,I.__c||k,I)),L==null&&k!=null&&(L=k),4&I.__u||O.__k===I.__k?v=Sf(I,v,n):typeof I.type=="function"&&N!==void 0?v=N:k&&(v=k.nextSibling),I.__u&=-7);return i.__e=L,v}function y1(n,r,i,a,c){var f,p,_,v,S,R=i.length,y=R,O=0;for(n.__k=new Array(c),f=0;f<c;f++)(p=r[f])!=null&&typeof p!="boolean"&&typeof p!="function"?(v=f+O,(p=n.__k[f]=typeof p=="string"||typeof p=="number"||typeof p=="bigint"||p.constructor==String?rs(null,p,null,null,null):Vr(p)?rs(xt,{children:p},null,null,null):p.constructor==null&&p.__b>0?rs(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p).__=n,p.__b=n.__b+1,_=null,(S=p.__i=b1(p,i,v,y))!=-1&&(y--,(_=i[S])&&(_.__u|=2)),_==null||_.__v==null?(S==-1&&(c>R?O--:c<R&&O++),typeof p.type!="function"&&(p.__u|=4)):S!=v&&(S==v-1?O--:S==v+1?O++:(S>v?O--:O++,p.__u|=4))):n.__k[f]=null;if(y)for(f=0;f<R;f++)(_=i[f])!=null&&(2&_.__u)==0&&(_.__e==a&&(a=gr(_)),Tf(_,_));return a}function Sf(n,r,i){var a,c;if(typeof n.type=="function"){for(a=n.__k,c=0;a&&c<a.length;c++)a[c]&&(a[c].__=n,r=Sf(a[c],r,i));return r}n.__e!=r&&(r&&n.type&&!i.contains(r)&&(r=gr(n)),i.insertBefore(n.__e,r||null),r=n.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType==8);return r}function cs(n,r){return r=r||[],n==null||typeof n=="boolean"||(Vr(n)?n.some(function(i){cs(i,r)}):r.push(n)),r}function b1(n,r,i,a){var c,f,p=n.key,_=n.type,v=r[i];if(v===null&&n.key==null||v&&p==v.key&&_==v.type&&(2&v.__u)==0)return i;if(a>(v!=null&&(2&v.__u)==0?1:0))for(c=i-1,f=i+1;c>=0||f<r.length;){if(c>=0){if((v=r[c])&&(2&v.__u)==0&&p==v.key&&_==v.type)return c;c--}if(f<r.length){if((v=r[f])&&(2&v.__u)==0&&p==v.key&&_==v.type)return f;f++}}return-1}function wl(n,r,i){r[0]=="-"?n.setProperty(r,i??""):n[r]=i==null?"":typeof i!="number"||m1.test(r)?i:i+"px"}function Vi(n,r,i,a,c){var f;e:if(r=="style")if(typeof i=="string")n.style.cssText=i;else{if(typeof a=="string"&&(n.style.cssText=a=""),a)for(r in a)i&&r in i||wl(n.style,r,"");if(i)for(r in i)a&&i[r]==a[r]||wl(n.style,r,i[r])}else if(r[0]=="o"&&r[1]=="n")f=r!=(r=r.replace(mf,"$1")),r=r.toLowerCase()in n||r=="onFocusOut"||r=="onFocusIn"?r.toLowerCase().slice(2):r.slice(2),n.l||(n.l={}),n.l[r+f]=i,i?a?i.u=a.u:(i.u=Ea,n.addEventListener(r,f?oa:sa,f)):n.removeEventListener(r,f?oa:sa,f);else{if(c=="http://www.w3.org/2000/svg")r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r!="popover"&&r in n)try{n[r]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&r[4]!="-"?n.removeAttribute(r):n.setAttribute(r,r=="popover"&&i==1?"":i))}}function xl(n){return function(r){if(this.l){var i=this.l[r.type+n];if(r.t==null)r.t=Ea++;else if(r.t<i.u)return;return i(G.event?G.event(r):r)}}}function La(n,r,i,a,c,f,p,_,v,S){var R,y,O,I,k,L,N,U,$,Z,Y,se,he,Te,J,xe,Ae,Ie=r.type;if(r.constructor!=null)return null;128&i.__u&&(v=!!(32&i.__u),f=[_=r.__e=i.__e]),(R=G.__b)&&R(r);e:if(typeof Ie=="function")try{if(U=r.props,$="prototype"in Ie&&Ie.prototype.render,Z=(R=Ie.contextType)&&a[R.__c],Y=R?Z?Z.props.value:R.__:a,i.__c?N=(y=r.__c=i.__c).__=y.__E:($?r.__c=y=new Ie(U,Y):(r.__c=y=new wt(U,Y),y.constructor=Ie,y.render=x1),Z&&Z.sub(y),y.props=U,y.state||(y.state={}),y.context=Y,y.__n=a,O=y.__d=!0,y.__h=[],y._sb=[]),$&&y.__s==null&&(y.__s=y.state),$&&Ie.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=Qt({},y.__s)),Qt(y.__s,Ie.getDerivedStateFromProps(U,y.__s))),I=y.props,k=y.state,y.__v=r,O)$&&Ie.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),$&&y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if($&&Ie.getDerivedStateFromProps==null&&U!==I&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(U,Y),!y.__e&&y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(U,y.__s,Y)===!1||r.__v==i.__v){for(r.__v!=i.__v&&(y.props=U,y.state=y.__s,y.__d=!1),r.__e=i.__e,r.__k=i.__k,r.__k.some(function(qe){qe&&(qe.__=r)}),se=0;se<y._sb.length;se++)y.__h.push(y._sb[se]);y._sb=[],y.__h.length&&p.push(y);break e}y.componentWillUpdate!=null&&y.componentWillUpdate(U,y.__s,Y),$&&y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(I,k,L)})}if(y.context=Y,y.props=U,y.__P=n,y.__e=!1,he=G.__r,Te=0,$){for(y.state=y.__s,y.__d=!1,he&&he(r),R=y.render(y.props,y.state,y.context),J=0;J<y._sb.length;J++)y.__h.push(y._sb[J]);y._sb=[]}else do y.__d=!1,he&&he(r),R=y.render(y.props,y.state,y.context),y.state=y.__s;while(y.__d&&++Te<25);y.state=y.__s,y.getChildContext!=null&&(a=Qt(Qt({},a),y.getChildContext())),$&&!O&&y.getSnapshotBeforeUpdate!=null&&(L=y.getSnapshotBeforeUpdate(I,k)),xe=R,R!=null&&R.type===xt&&R.key==null&&(xe=Pf(R.props.children)),_=xf(n,Vr(xe)?xe:[xe],r,i,a,c,f,p,_,v,S),y.base=r.__e,r.__u&=-161,y.__h.length&&p.push(y),N&&(y.__E=y.__=null)}catch(qe){if(r.__v=null,v||f!=null)if(qe.then){for(r.__u|=v?160:128;_&&_.nodeType==8&&_.nextSibling;)_=_.nextSibling;f[f.indexOf(_)]=null,r.__e=_}else for(Ae=f.length;Ae--;)Oa(f[Ae]);else r.__e=i.__e,r.__k=i.__k;G.__e(qe,r,i)}else f==null&&r.__v==i.__v?(r.__k=i.__k,r.__e=i.__e):_=r.__e=w1(i.__e,r,i,a,c,f,p,v,S);return(R=G.diffed)&&R(r),128&r.__u?void 0:_}function Cf(n,r,i){for(var a=0;a<i.length;a++)Na(i[a],i[++a],i[++a]);G.__c&&G.__c(r,n),n.some(function(c){try{n=c.__h,c.__h=[],n.some(function(f){f.call(c)})}catch(f){G.__e(f,c.__v)}})}function Pf(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:Vr(n)?n.map(Pf):Qt({},n)}function w1(n,r,i,a,c,f,p,_,v){var S,R,y,O,I,k,L,N=i.props,U=r.props,$=r.type;if($=="svg"?c="http://www.w3.org/2000/svg":$=="math"?c="http://www.w3.org/1998/Math/MathML":c||(c="http://www.w3.org/1999/xhtml"),f!=null){for(S=0;S<f.length;S++)if((I=f[S])&&"setAttribute"in I==!!$&&($?I.localName==$:I.nodeType==3)){n=I,f[S]=null;break}}if(n==null){if($==null)return document.createTextNode(U);n=document.createElementNS(c,$,U.is&&U),_&&(G.__m&&G.__m(r,f),_=!1),f=null}if($==null)N===U||_&&n.data==U||(n.data=U);else{if(f=f&&ds.call(n.childNodes),N=i.props||zr,!_&&f!=null)for(N={},S=0;S<n.attributes.length;S++)N[(I=n.attributes[S]).name]=I.value;for(S in N)if(I=N[S],S!="children"){if(S=="dangerouslySetInnerHTML")y=I;else if(!(S in U)){if(S=="value"&&"defaultValue"in U||S=="checked"&&"defaultChecked"in U)continue;Vi(n,S,null,I,c)}}for(S in U)I=U[S],S=="children"?O=I:S=="dangerouslySetInnerHTML"?R=I:S=="value"?k=I:S=="checked"?L=I:_&&typeof I!="function"||N[S]===I||Vi(n,S,I,N[S],c);if(R)_||y&&(R.__html==y.__html||R.__html==n.innerHTML)||(n.innerHTML=R.__html),r.__k=[];else if(y&&(n.innerHTML=""),xf(r.type=="template"?n.content:n,Vr(O)?O:[O],r,i,a,$=="foreignObject"?"http://www.w3.org/1999/xhtml":c,f,p,f?f[0]:i.__k&&gr(i,0),_,v),f!=null)for(S=f.length;S--;)Oa(f[S]);_||(S="value",$=="progress"&&k==null?n.removeAttribute("value"):k!=null&&(k!==n[S]||$=="progress"&&!k||$=="option"&&k!=N[S])&&Vi(n,S,k,N[S],c),S="checked",L!=null&&L!=n[S]&&Vi(n,S,L,N[S],c))}return n}function Na(n,r,i){try{if(typeof n=="function"){var a=typeof n.__u=="function";a&&n.__u(),a&&r==null||(n.__u=n(r))}else n.current=r}catch(c){G.__e(c,i)}}function Tf(n,r,i){var a,c;if(G.unmount&&G.unmount(n),(a=n.ref)&&(a.current&&a.current!=n.__e||Na(a,null,r)),(a=n.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(f){G.__e(f,r)}a.base=a.__P=null}if(a=n.__k)for(c=0;c<a.length;c++)a[c]&&Tf(a[c],r,i||typeof n.type!="function");i||Oa(n.__e),n.__c=n.__=n.__e=void 0}function x1(n,r,i){return this.constructor(n,i)}function Af(n,r,i){var a,c,f,p;r==document&&(r=document.documentElement),G.__&&G.__(n,r),c=(a=!1)?null:r.__k,f=[],p=[],La(r,n=r.__k=pr(xt,null,[n]),c||zr,zr,r.namespaceURI,c?null:r.firstChild?ds.call(r.childNodes):null,f,c?c.__e:r.firstChild,a,p),Cf(f,n,p)}function jr(n){function r(i){var a,c;return this.getChildContext||(a=new Set,(c={})[r.__c]=this,this.getChildContext=function(){return c},this.componentWillUnmount=function(){a=null},this.shouldComponentUpdate=function(f){this.props.value!=f.value&&a.forEach(function(p){p.__e=!0,aa(p)})},this.sub=function(f){a.add(f);var p=f.componentWillUnmount;f.componentWillUnmount=function(){a&&a.delete(f),p&&p.call(f)}}),i.children}return r.__c="__cC"+yf++,r.__=n,r.Provider=r.__l=(r.Consumer=function(i,a){return i.children(a)}).contextType=r,r}ds=bf.slice,G={__e:function(n,r,i,a){for(var c,f,p;r=r.__;)if((c=r.__c)&&!c.__)try{if((f=c.constructor)&&f.getDerivedStateFromError!=null&&(c.setState(f.getDerivedStateFromError(n)),p=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(n,a||{}),p=c.__d),p)return c.__E=c}catch(_){n=_}throw n}},gf=0,wt.prototype.setState=function(n,r){var i;i=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Qt({},this.state),typeof n=="function"&&(n=n(Qt({},i),this.props)),n&&Qt(i,n),n!=null&&this.__v&&(r&&this._sb.push(r),aa(this))},wt.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),aa(this))},wt.prototype.render=xt,wn=[],_f=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vf=function(n,r){return n.__v.__b-r.__v.__b},us.__r=0,mf=/(PointerCapture)$|Capture$/i,Ea=0,sa=xl(!1),oa=xl(!0),yf=0;var Nn,ge,$o,Sl,Qr=0,Rf=[],we=G,Cl=we.__b,Pl=we.__r,Tl=we.diffed,Al=we.__c,Rl=we.unmount,Il=we.__;function ei(n,r){we.__h&&we.__h(ge,n,Qr||r),Qr=0;var i=ge.__H||(ge.__H={__:[],__h:[]});return n>=i.__.length&&i.__.push({}),i.__[n]}function ft(n){return Qr=1,S1(If,n)}function S1(n,r,i){var a=ei(Nn++,2);if(a.t=n,!a.__c&&(a.__=[i?i(r):If(void 0,r),function(_){var v=a.__N?a.__N[0]:a.__[0],S=a.t(v,_);v!==S&&(a.__N=[S,a.__[1]],a.__c.setState({}))}],a.__c=ge,!ge.__f)){var c=function(_,v,S){if(!a.__c.__H)return!0;var R=a.__c.__H.__.filter(function(O){return!!O.__c});if(R.every(function(O){return!O.__N}))return!f||f.call(this,_,v,S);var y=a.__c.props!==_;return R.forEach(function(O){if(O.__N){var I=O.__[0];O.__=O.__N,O.__N=void 0,I!==O.__[0]&&(y=!0)}}),f&&f.call(this,_,v,S)||y};ge.__f=!0;var f=ge.shouldComponentUpdate,p=ge.componentWillUpdate;ge.componentWillUpdate=function(_,v,S){if(this.__e){var R=f;f=void 0,c(_,v,S),f=R}p&&p.call(this,_,v,S)},ge.shouldComponentUpdate=c}return a.__N||a.__}function Lt(n,r){var i=ei(Nn++,3);!we.__s&&Fa(i.__H,r)&&(i.__=n,i.u=r,ge.__H.__h.push(i))}function C1(n,r){var i=ei(Nn++,4);!we.__s&&Fa(i.__H,r)&&(i.__=n,i.u=r,ge.__h.push(i))}function ls(n){return Qr=5,On(function(){return{current:n}},[])}function On(n,r){var i=ei(Nn++,7);return Fa(i.__H,r)&&(i.__=n(),i.__H=r,i.__h=n),i.__}function et(n,r){return Qr=8,On(function(){return n},r)}function ps(n){var r=ge.context[n.__c],i=ei(Nn++,9);return i.c=n,r?(i.__==null&&(i.__=!0,r.sub(ge)),r.props.value):n.__}function P1(){for(var n;n=Rf.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(is),n.__H.__h.forEach(ua),n.__H.__h=[]}catch(r){n.__H.__h=[],we.__e(r,n.__v)}}we.__b=function(n){ge=null,Cl&&Cl(n)},we.__=function(n,r){n&&r.__k&&r.__k.__m&&(n.__m=r.__k.__m),Il&&Il(n,r)},we.__r=function(n){Pl&&Pl(n),Nn=0;var r=(ge=n.__c).__H;r&&($o===ge?(r.__h=[],ge.__h=[],r.__.forEach(function(i){i.__N&&(i.__=i.__N),i.u=i.__N=void 0})):(r.__h.forEach(is),r.__h.forEach(ua),r.__h=[],Nn=0)),$o=ge},we.diffed=function(n){Tl&&Tl(n);var r=n.__c;r&&r.__H&&(r.__H.__h.length&&(Rf.push(r)!==1&&Sl===we.requestAnimationFrame||((Sl=we.requestAnimationFrame)||T1)(P1)),r.__H.__.forEach(function(i){i.u&&(i.__H=i.u),i.u=void 0})),$o=ge=null},we.__c=function(n,r){r.some(function(i){try{i.__h.forEach(is),i.__h=i.__h.filter(function(a){return!a.__||ua(a)})}catch(a){r.some(function(c){c.__h&&(c.__h=[])}),r=[],we.__e(a,i.__v)}}),Al&&Al(n,r)},we.unmount=function(n){Rl&&Rl(n);var r,i=n.__c;i&&i.__H&&(i.__H.__.forEach(function(a){try{is(a)}catch(c){r=c}}),i.__H=void 0,r&&we.__e(r,i.__v))};var El=typeof requestAnimationFrame=="function";function T1(n){var r,i=function(){clearTimeout(a),El&&cancelAnimationFrame(r),setTimeout(n)},a=setTimeout(i,100);El&&(r=requestAnimationFrame(i))}function is(n){var r=ge,i=n.__c;typeof i=="function"&&(n.__c=void 0,i()),ge=r}function ua(n){var r=ge;n.__c=n.__(),ge=r}function Fa(n,r){return!n||n.length!==r.length||r.some(function(i,a){return i!==n[a]})}function If(n,r){return typeof r=="function"?r(n):r}function A1(n,r){for(var i in r)n[i]=r[i];return n}function ca(n,r){for(var i in n)if(i!=="__source"&&!(i in r))return!0;for(var a in r)if(a!=="__source"&&n[a]!==r[a])return!0;return!1}function R1(n,r){var i=r(),a=ft({t:{__:i,u:r}}),c=a[0].t,f=a[1];return C1(function(){c.__=i,c.u=r,zo(c)&&f({t:c})},[n,i,r]),Lt(function(){return zo(c)&&f({t:c}),n(function(){zo(c)&&f({t:c})})},[n]),i}function zo(n){var r,i,a=n.u,c=n.__;try{var f=a();return!((r=c)===(i=f)&&(r!==0||1/r==1/i)||r!=r&&i!=i)}catch{return!0}}function Ol(n,r){this.props=n,this.context=r}function I1(n,r){function i(c){var f=this.props.ref,p=f==c.ref;return!p&&f&&(f.call?f(null):f.current=null),r?!r(this.props,c)||!p:ca(this.props,c)}function a(c){return this.shouldComponentUpdate=i,pr(n,c)}return a.displayName="Memo("+(n.displayName||n.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}(Ol.prototype=new wt).isPureReactComponent=!0,Ol.prototype.shouldComponentUpdate=function(n,r){return ca(this.props,n)||ca(this.state,r)};var Ll=G.__b;G.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),Ll&&Ll(n)};var E1=G.__e;G.__e=function(n,r,i,a){if(n.then){for(var c,f=r;f=f.__;)if((c=f.__c)&&c.__c)return r.__e==null&&(r.__e=i.__e,r.__k=i.__k),c.__c(n,r)}E1(n,r,i,a)};var Nl=G.unmount;function Ef(n,r,i){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(a){typeof a.__c=="function"&&a.__c()}),n.__c.__H=null),(n=A1({},n)).__c!=null&&(n.__c.__P===i&&(n.__c.__P=r),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(a){return Ef(a,r,i)})),n}function Of(n,r,i){return n&&i&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(a){return Of(a,r,i)}),n.__c&&n.__c.__P===r&&(n.__e&&i.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=i)),n}function ss(){this.__u=0,this.o=null,this.__b=null}function Lf(n){var r=n.__.__c;return r&&r.__a&&r.__a(n)}function ji(){this.i=null,this.l=null}G.unmount=function(n){var r=n.__c;r&&r.__R&&r.__R(),r&&32&n.__u&&(n.type=null),Nl&&Nl(n)},(ss.prototype=new wt).__c=function(n,r){var i=r.__c,a=this;a.o==null&&(a.o=[]),a.o.push(i);var c=Lf(a.__v),f=!1,p=function(){f||(f=!0,i.__R=null,c?c(_):_())};i.__R=p;var _=function(){if(!--a.__u){if(a.state.__a){var v=a.state.__a;a.__v.__k[0]=Of(v,v.__c.__P,v.__c.__O)}var S;for(a.setState({__a:a.__b=null});S=a.o.pop();)S.forceUpdate()}};a.__u++||32&r.__u||a.setState({__a:a.__b=a.__v.__k[0]}),n.then(p,p)},ss.prototype.componentWillUnmount=function(){this.o=[]},ss.prototype.render=function(n,r){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=Ef(this.__b,i,a.__O=a.__P)}this.__b=null}var c=r.__a&&pr(xt,null,n.fallback);return c&&(c.__u&=-33),[pr(xt,null,r.__a?null:n.children),c]};var Fl=function(n,r,i){if(++i[1]===i[0]&&n.l.delete(r),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.l.size))for(i=n.i;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;n.i=i=i[2]}};(ji.prototype=new wt).__a=function(n){var r=this,i=Lf(r.__v),a=r.l.get(n);return a[0]++,function(c){var f=function(){r.props.revealOrder?(a.push(c),Fl(r,n,a)):c()};i?i(f):f()}},ji.prototype.render=function(n){this.i=null,this.l=new Map;var r=cs(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&r.reverse();for(var i=r.length;i--;)this.l.set(r[i],this.i=[1,0,this.i]);return n.children},ji.prototype.componentDidUpdate=ji.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(r,i){Fl(n,i,r)})};var O1=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,L1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,N1=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,F1=/[A-Z0-9]/g,M1=typeof document<"u",D1=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};function k1(n,r,i){return r.__k==null&&(r.textContent=""),Af(n,r),typeof i=="function"&&i(),n?n.__c:null}wt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(wt.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(r){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:r})}})});var Ml=G.event;function U1(){}function B1(){return this.cancelBubble}function W1(){return this.defaultPrevented}G.event=function(n){return Ml&&(n=Ml(n)),n.persist=U1,n.isPropagationStopped=B1,n.isDefaultPrevented=W1,n.nativeEvent=n};var q1={enumerable:!1,configurable:!0,get:function(){return this.class}},Dl=G.vnode;G.vnode=function(n){typeof n.type=="string"&&function(r){var i=r.props,a=r.type,c={},f=a.indexOf("-")===-1;for(var p in i){var _=i[p];if(!(p==="value"&&"defaultValue"in i&&_==null||M1&&p==="children"&&a==="noscript"||p==="class"||p==="className")){var v=p.toLowerCase();p==="defaultValue"&&"value"in i&&i.value==null?p="value":p==="download"&&_===!0?_="":v==="translate"&&_==="no"?_=!1:v[0]==="o"&&v[1]==="n"?v==="ondoubleclick"?p="ondblclick":v!=="onchange"||a!=="input"&&a!=="textarea"||D1(i.type)?v==="onfocus"?p="onfocusin":v==="onblur"?p="onfocusout":N1.test(p)&&(p=v):v=p="oninput":f&&L1.test(p)?p=p.replace(F1,"-$&").toLowerCase():_===null&&(_=void 0),v==="oninput"&&c[p=v]&&(p="oninputCapture"),c[p]=_}}a=="select"&&c.multiple&&Array.isArray(c.value)&&(c.value=cs(i.children).forEach(function(S){S.props.selected=c.value.indexOf(S.props.value)!=-1})),a=="select"&&c.defaultValue!=null&&(c.value=cs(i.children).forEach(function(S){S.props.selected=c.multiple?c.defaultValue.indexOf(S.props.value)!=-1:c.defaultValue==S.props.value})),i.class&&!i.className?(c.class=i.class,Object.defineProperty(c,"className",q1)):(i.className&&!i.class||i.class&&i.className)&&(c.class=c.className=i.className),r.props=c}(n),n.$$typeof=O1,Dl&&Dl(n)};var kl=G.__r;G.__r=function(n){kl&&kl(n),n.__c};var Ul=G.diffed;G.diffed=function(n){Ul&&Ul(n);var r=n.props,i=n.__e;i!=null&&n.type==="textarea"&&"value"in r&&r.value!==i.value&&(i.value=r.value==null?"":r.value)};function H1(n){return!!n.__k&&(Af(null,n),!0)}var $1=xt,z1={StrictMode:$1},ti=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fn=typeof window>"u"||"Deno"in globalThis;function lt(){}function Q1(n,r){return typeof n=="function"?n(r):n}function la(n){return typeof n=="number"&&n>=0&&n!==1/0}function Nf(n,r){return Math.max(n+(r||0)-Date.now(),0)}function jn(n,r){return typeof n=="function"?n(r):n}function bt(n,r){return typeof n=="function"?n(r):n}function Bl(n,r){const{type:i="all",exact:a,fetchStatus:c,predicate:f,queryKey:p,stale:_}=n;if(p){if(a){if(r.queryHash!==Ma(p,r.options))return!1}else if(!Kr(r.queryKey,p))return!1}if(i!=="all"){const v=r.isActive();if(i==="active"&&!v||i==="inactive"&&v)return!1}return!(typeof _=="boolean"&&r.isStale()!==_||c&&c!==r.state.fetchStatus||f&&!f(r))}function Wl(n,r){const{exact:i,status:a,predicate:c,mutationKey:f}=n;if(f){if(!r.options.mutationKey)return!1;if(i){if(Gr(r.options.mutationKey)!==Gr(f))return!1}else if(!Kr(r.options.mutationKey,f))return!1}return!(a&&r.state.status!==a||c&&!c(r))}function Ma(n,r){return((r==null?void 0:r.queryKeyHashFn)||Gr)(n)}function Gr(n){return JSON.stringify(n,(r,i)=>ha(i)?Object.keys(i).sort().reduce((a,c)=>(a[c]=i[c],a),{}):i)}function Kr(n,r){return n===r?!0:typeof n!=typeof r?!1:n&&r&&typeof n=="object"&&typeof r=="object"?Object.keys(r).every(i=>Kr(n[i],r[i])):!1}function Ff(n,r){if(n===r)return n;const i=ql(n)&&ql(r);if(i||ha(n)&&ha(r)){const a=i?n:Object.keys(n),c=a.length,f=i?r:Object.keys(r),p=f.length,_=i?[]:{};let v=0;for(let S=0;S<p;S++){const R=i?S:f[S];(!i&&a.includes(R)||i)&&n[R]===void 0&&r[R]===void 0?(_[R]=void 0,v++):(_[R]=Ff(n[R],r[R]),_[R]===n[R]&&n[R]!==void 0&&v++)}return c===p&&v===c?n:_}return r}function fa(n,r){if(!r||Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}function ql(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ha(n){if(!Hl(n))return!1;const r=n.constructor;if(r===void 0)return!0;const i=r.prototype;return!(!Hl(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Hl(n){return Object.prototype.toString.call(n)==="[object Object]"}function G1(n){return new Promise(r=>{setTimeout(r,n)})}function da(n,r,i){return typeof i.structuralSharing=="function"?i.structuralSharing(n,r):i.structuralSharing!==!1?Ff(n,r):r}function K1(n){return n}function Y1(n,r,i=0){const a=[...n,r];return i&&a.length>i?a.slice(1):a}function Z1(n,r,i=0){const a=[r,...n];return i&&a.length>i?a.slice(0,-1):a}var Da=Symbol();function Mf(n,r){return!n.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!n.queryFn||n.queryFn===Da?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Sn,nn,tr,of,X1=(of=class extends ti{constructor(){super();z(this,Sn);z(this,nn);z(this,tr);D(this,tr,r=>{if(!Fn&&window.addEventListener){const i=()=>r();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){b(this,nn)||this.setEventListener(b(this,tr))}onUnsubscribe(){var r;this.hasListeners()||((r=b(this,nn))==null||r.call(this),D(this,nn,void 0))}setEventListener(r){var i;D(this,tr,r),(i=b(this,nn))==null||i.call(this),D(this,nn,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){b(this,Sn)!==r&&(D(this,Sn,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(i=>{i(r)})}isFocused(){var r;return typeof b(this,Sn)=="boolean"?b(this,Sn):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Sn=new WeakMap,nn=new WeakMap,tr=new WeakMap,of),ka=new X1,nr,rn,rr,af,J1=(af=class extends ti{constructor(){super();z(this,nr,!0);z(this,rn);z(this,rr);D(this,rr,r=>{if(!Fn&&window.addEventListener){const i=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}}})}onSubscribe(){b(this,rn)||this.setEventListener(b(this,rr))}onUnsubscribe(){var r;this.hasListeners()||((r=b(this,rn))==null||r.call(this),D(this,rn,void 0))}setEventListener(r){var i;D(this,rr,r),(i=b(this,rn))==null||i.call(this),D(this,rn,r(this.setOnline.bind(this)))}setOnline(r){b(this,nr)!==r&&(D(this,nr,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return b(this,nr)}},nr=new WeakMap,rn=new WeakMap,rr=new WeakMap,af),fs=new J1;function pa(){let n,r;const i=new Promise((c,f)=>{n=c,r=f});i.status="pending",i.catch(()=>{});function a(c){Object.assign(i,c),delete i.resolve,delete i.reject}return i.resolve=c=>{a({status:"fulfilled",value:c}),n(c)},i.reject=c=>{a({status:"rejected",reason:c}),r(c)},i}function V1(n){return Math.min(1e3*2**n,3e4)}function Df(n){return(n??"online")==="online"?fs.isOnline():!0}var kf=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Qo(n){return n instanceof kf}function Uf(n){let r=!1,i=0,a=!1,c;const f=pa(),p=L=>{var N;a||(O(new kf(L)),(N=n.abort)==null||N.call(n))},_=()=>{r=!0},v=()=>{r=!1},S=()=>ka.isFocused()&&(n.networkMode==="always"||fs.isOnline())&&n.canRun(),R=()=>Df(n.networkMode)&&n.canRun(),y=L=>{var N;a||(a=!0,(N=n.onSuccess)==null||N.call(n,L),c==null||c(),f.resolve(L))},O=L=>{var N;a||(a=!0,(N=n.onError)==null||N.call(n,L),c==null||c(),f.reject(L))},I=()=>new Promise(L=>{var N;c=U=>{(a||S())&&L(U)},(N=n.onPause)==null||N.call(n)}).then(()=>{var L;c=void 0,a||(L=n.onContinue)==null||L.call(n)}),k=()=>{if(a)return;let L;const N=i===0?n.initialPromise:void 0;try{L=N??n.fn()}catch(U){L=Promise.reject(U)}Promise.resolve(L).then(y).catch(U=>{var he;if(a)return;const $=n.retry??(Fn?0:3),Z=n.retryDelay??V1,Y=typeof Z=="function"?Z(i,U):Z,se=$===!0||typeof $=="number"&&i<$||typeof $=="function"&&$(i,U);if(r||!se){O(U);return}i++,(he=n.onFail)==null||he.call(n,i,U),G1(Y).then(()=>S()?void 0:I()).then(()=>{r?O(U):k()})})};return{promise:f,cancel:p,continue:()=>(c==null||c(),f),cancelRetry:_,continueRetry:v,canStart:R,start:()=>(R()?k():I().then(k),f)}}var j1=n=>setTimeout(n,0);function ey(){let n=[],r=0,i=_=>{_()},a=_=>{_()},c=j1;const f=_=>{r?n.push(_):c(()=>{i(_)})},p=()=>{const _=n;n=[],_.length&&c(()=>{a(()=>{_.forEach(v=>{i(v)})})})};return{batch:_=>{let v;r++;try{v=_()}finally{r--,r||p()}return v},batchCalls:_=>(...v)=>{f(()=>{_(...v)})},schedule:f,setNotifyFunction:_=>{i=_},setBatchNotifyFunction:_=>{a=_},setScheduler:_=>{c=_}}}var Le=ey(),Cn,uf,Bf=(uf=class{constructor(){z(this,Cn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),la(this.gcTime)&&D(this,Cn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Fn?1/0:5*60*1e3))}clearGcTimeout(){b(this,Cn)&&(clearTimeout(b(this,Cn)),D(this,Cn,void 0))}},Cn=new WeakMap,uf),ir,sr,ct,Pn,Me,Yr,Tn,mt,$t,cf,ty=(cf=class extends Bf{constructor(r){super();z(this,mt);z(this,ir);z(this,sr);z(this,ct);z(this,Pn);z(this,Me);z(this,Yr);z(this,Tn);D(this,Tn,!1),D(this,Yr,r.defaultOptions),this.setOptions(r.options),this.observers=[],D(this,Pn,r.client),D(this,ct,b(this,Pn).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,D(this,ir,ny(this.options)),this.state=r.state??b(this,ir),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=b(this,Me))==null?void 0:r.promise}setOptions(r){this.options={...b(this,Yr),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&b(this,ct).remove(this)}setData(r,i){const a=da(this.state.data,r,this.options);return re(this,mt,$t).call(this,{data:a,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),a}setState(r,i){re(this,mt,$t).call(this,{type:"setState",state:r,setStateOptions:i})}cancel(r){var a,c;const i=(a=b(this,Me))==null?void 0:a.promise;return(c=b(this,Me))==null||c.cancel(r),i?i.then(lt).catch(lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(b(this,ir))}isActive(){return this.observers.some(r=>bt(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Da||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!Nf(this.state.dataUpdatedAt,r)}onFocus(){var i;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(i=b(this,Me))==null||i.continue()}onOnline(){var i;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(i=b(this,Me))==null||i.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),b(this,ct).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(i=>i!==r),this.observers.length||(b(this,Me)&&(b(this,Tn)?b(this,Me).cancel({revert:!0}):b(this,Me).cancelRetry()),this.scheduleGc()),b(this,ct).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||re(this,mt,$t).call(this,{type:"invalidate"})}fetch(r,i){var v,S,R;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(b(this,Me))return b(this,Me).continueRetry(),b(this,Me).promise}if(r&&this.setOptions(r),!this.options.queryFn){const y=this.observers.find(O=>O.options.queryFn);y&&this.setOptions(y.options)}const a=new AbortController,c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(D(this,Tn,!0),a.signal)})},f=()=>{const y=Mf(this.options,i),O={client:b(this,Pn),queryKey:this.queryKey,meta:this.meta};return c(O),D(this,Tn,!1),this.options.persister?this.options.persister(y,O,this):y(O)},p={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:b(this,Pn),state:this.state,fetchFn:f};c(p),(v=this.options.behavior)==null||v.onFetch(p,this),D(this,sr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((S=p.fetchOptions)==null?void 0:S.meta))&&re(this,mt,$t).call(this,{type:"fetch",meta:(R=p.fetchOptions)==null?void 0:R.meta});const _=y=>{var O,I,k,L;Qo(y)&&y.silent||re(this,mt,$t).call(this,{type:"error",error:y}),Qo(y)||((I=(O=b(this,ct).config).onError)==null||I.call(O,y,this),(L=(k=b(this,ct).config).onSettled)==null||L.call(k,this.state.data,y,this)),this.scheduleGc()};return D(this,Me,Uf({initialPromise:i==null?void 0:i.initialPromise,fn:p.fetchFn,abort:a.abort.bind(a),onSuccess:y=>{var O,I,k,L;if(y===void 0){_(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(N){_(N);return}(I=(O=b(this,ct).config).onSuccess)==null||I.call(O,y,this),(L=(k=b(this,ct).config).onSettled)==null||L.call(k,y,this.state.error,this),this.scheduleGc()},onError:_,onFail:(y,O)=>{re(this,mt,$t).call(this,{type:"failed",failureCount:y,error:O})},onPause:()=>{re(this,mt,$t).call(this,{type:"pause"})},onContinue:()=>{re(this,mt,$t).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0})),b(this,Me).start()}},ir=new WeakMap,sr=new WeakMap,ct=new WeakMap,Pn=new WeakMap,Me=new WeakMap,Yr=new WeakMap,Tn=new WeakMap,mt=new WeakSet,$t=function(r){const i=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Wf(a.data,this.options),fetchMeta:r.meta??null};case"success":return{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=r.error;return Qo(c)&&c.revert&&b(this,sr)?{...b(this,sr),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=i(this.state),Le.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),b(this,ct).notify({query:this,type:"updated",action:r})})},cf);function Wf(n,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Df(r.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function ny(n){const r=typeof n.initialData=="function"?n.initialData():n.initialData,i=r!==void 0,a=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:i?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var Rt,lf,ry=(lf=class extends ti{constructor(r={}){super();z(this,Rt);this.config=r,D(this,Rt,new Map)}build(r,i,a){const c=i.queryKey,f=i.queryHash??Ma(c,i);let p=this.get(f);return p||(p=new ty({client:r,queryKey:c,queryHash:f,options:r.defaultQueryOptions(i),state:a,defaultOptions:r.getQueryDefaults(c)}),this.add(p)),p}add(r){b(this,Rt).has(r.queryHash)||(b(this,Rt).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const i=b(this,Rt).get(r.queryHash);i&&(r.destroy(),i===r&&b(this,Rt).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Le.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return b(this,Rt).get(r)}getAll(){return[...b(this,Rt).values()]}find(r){const i={exact:!0,...r};return this.getAll().find(a=>Bl(i,a))}findAll(r={}){const i=this.getAll();return Object.keys(r).length>0?i.filter(a=>Bl(r,a)):i}notify(r){Le.batch(()=>{this.listeners.forEach(i=>{i(r)})})}onFocus(){Le.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Le.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Rt=new WeakMap,lf),It,Be,An,Et,tn,ff,iy=(ff=class extends Bf{constructor(r){super();z(this,Et);z(this,It);z(this,Be);z(this,An);this.mutationId=r.mutationId,D(this,Be,r.mutationCache),D(this,It,[]),this.state=r.state||sy(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){b(this,It).includes(r)||(b(this,It).push(r),this.clearGcTimeout(),b(this,Be).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){D(this,It,b(this,It).filter(i=>i!==r)),this.scheduleGc(),b(this,Be).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){b(this,It).length||(this.state.status==="pending"?this.scheduleGc():b(this,Be).remove(this))}continue(){var r;return((r=b(this,An))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var c,f,p,_,v,S,R,y,O,I,k,L,N,U,$,Z,Y,se,he,Te;D(this,An,Uf({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(J,xe)=>{re(this,Et,tn).call(this,{type:"failed",failureCount:J,error:xe})},onPause:()=>{re(this,Et,tn).call(this,{type:"pause"})},onContinue:()=>{re(this,Et,tn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>b(this,Be).canRun(this)}));const i=this.state.status==="pending",a=!b(this,An).canStart();try{if(!i){re(this,Et,tn).call(this,{type:"pending",variables:r,isPaused:a}),await((f=(c=b(this,Be).config).onMutate)==null?void 0:f.call(c,r,this));const xe=await((_=(p=this.options).onMutate)==null?void 0:_.call(p,r));xe!==this.state.context&&re(this,Et,tn).call(this,{type:"pending",context:xe,variables:r,isPaused:a})}const J=await b(this,An).start();return await((S=(v=b(this,Be).config).onSuccess)==null?void 0:S.call(v,J,r,this.state.context,this)),await((y=(R=this.options).onSuccess)==null?void 0:y.call(R,J,r,this.state.context)),await((I=(O=b(this,Be).config).onSettled)==null?void 0:I.call(O,J,null,this.state.variables,this.state.context,this)),await((L=(k=this.options).onSettled)==null?void 0:L.call(k,J,null,r,this.state.context)),re(this,Et,tn).call(this,{type:"success",data:J}),J}catch(J){try{throw await((U=(N=b(this,Be).config).onError)==null?void 0:U.call(N,J,r,this.state.context,this)),await((Z=($=this.options).onError)==null?void 0:Z.call($,J,r,this.state.context)),await((se=(Y=b(this,Be).config).onSettled)==null?void 0:se.call(Y,void 0,J,this.state.variables,this.state.context,this)),await((Te=(he=this.options).onSettled)==null?void 0:Te.call(he,void 0,J,r,this.state.context)),J}finally{re(this,Et,tn).call(this,{type:"error",error:J})}}finally{b(this,Be).runNext(this)}}},It=new WeakMap,Be=new WeakMap,An=new WeakMap,Et=new WeakSet,tn=function(r){const i=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=i(this.state),Le.batch(()=>{b(this,It).forEach(a=>{a.onMutationUpdate(r)}),b(this,Be).notify({mutation:this,type:"updated",action:r})})},ff);function sy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zt,yt,Zr,hf,oy=(hf=class extends ti{constructor(r={}){super();z(this,zt);z(this,yt);z(this,Zr);this.config=r,D(this,zt,new Set),D(this,yt,new Map),D(this,Zr,0)}build(r,i,a){const c=new iy({mutationCache:this,mutationId:++Ji(this,Zr)._,options:r.defaultMutationOptions(i),state:a});return this.add(c),c}add(r){b(this,zt).add(r);const i=es(r);if(typeof i=="string"){const a=b(this,yt).get(i);a?a.push(r):b(this,yt).set(i,[r])}this.notify({type:"added",mutation:r})}remove(r){if(b(this,zt).delete(r)){const i=es(r);if(typeof i=="string"){const a=b(this,yt).get(i);if(a)if(a.length>1){const c=a.indexOf(r);c!==-1&&a.splice(c,1)}else a[0]===r&&b(this,yt).delete(i)}}this.notify({type:"removed",mutation:r})}canRun(r){const i=es(r);if(typeof i=="string"){const a=b(this,yt).get(i),c=a==null?void 0:a.find(f=>f.state.status==="pending");return!c||c===r}else return!0}runNext(r){var a;const i=es(r);if(typeof i=="string"){const c=(a=b(this,yt).get(i))==null?void 0:a.find(f=>f!==r&&f.state.isPaused);return(c==null?void 0:c.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Le.batch(()=>{b(this,zt).forEach(r=>{this.notify({type:"removed",mutation:r})}),b(this,zt).clear(),b(this,yt).clear()})}getAll(){return Array.from(b(this,zt))}find(r){const i={exact:!0,...r};return this.getAll().find(a=>Wl(i,a))}findAll(r={}){return this.getAll().filter(i=>Wl(r,i))}notify(r){Le.batch(()=>{this.listeners.forEach(i=>{i(r)})})}resumePausedMutations(){const r=this.getAll().filter(i=>i.state.isPaused);return Le.batch(()=>Promise.all(r.map(i=>i.continue().catch(lt))))}},zt=new WeakMap,yt=new WeakMap,Zr=new WeakMap,hf);function es(n){var r;return(r=n.options.scope)==null?void 0:r.id}function hs(n){return{onFetch:(r,i)=>{var R,y,O,I,k;const a=r.options,c=(O=(y=(R=r.fetchOptions)==null?void 0:R.meta)==null?void 0:y.fetchMore)==null?void 0:O.direction,f=((I=r.state.data)==null?void 0:I.pages)||[],p=((k=r.state.data)==null?void 0:k.pageParams)||[];let _={pages:[],pageParams:[]},v=0;const S=async()=>{let L=!1;const N=Z=>{Object.defineProperty(Z,"signal",{enumerable:!0,get:()=>(r.signal.aborted?L=!0:r.signal.addEventListener("abort",()=>{L=!0}),r.signal)})},U=Mf(r.options,r.fetchOptions),$=async(Z,Y,se)=>{if(L)return Promise.reject();if(Y==null&&Z.pages.length)return Promise.resolve(Z);const he={client:r.client,queryKey:r.queryKey,pageParam:Y,direction:se?"backward":"forward",meta:r.options.meta};N(he);const Te=await U(he),{maxPages:J}=r.options,xe=se?Z1:Y1;return{pages:xe(Z.pages,Te,J),pageParams:xe(Z.pageParams,Y,J)}};if(c&&f.length){const Z=c==="backward",Y=Z?qf:ga,se={pages:f,pageParams:p},he=Y(a,se);_=await $(se,he,Z)}else{const Z=n??f.length;do{const Y=v===0?p[0]??a.initialPageParam:ga(a,_);if(v>0&&Y==null)break;_=await $(_,Y),v++}while(v<Z)}return _};r.options.persister?r.fetchFn=()=>{var L,N;return(N=(L=r.options).persister)==null?void 0:N.call(L,S,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},i)}:r.fetchFn=S}}}function ga(n,{pages:r,pageParams:i}){const a=r.length-1;return r.length>0?n.getNextPageParam(r[a],r,i[a],i):void 0}function qf(n,{pages:r,pageParams:i}){var a;return r.length>0?(a=n.getPreviousPageParam)==null?void 0:a.call(n,r[0],r,i[0],i):void 0}function ay(n,r){return r?ga(n,r)!=null:!1}function uy(n,r){return!r||!n.getPreviousPageParam?!1:qf(n,r)!=null}var me,sn,on,or,ar,an,ur,cr,df,cy=(df=class{constructor(n={}){z(this,me);z(this,sn);z(this,on);z(this,or);z(this,ar);z(this,an);z(this,ur);z(this,cr);D(this,me,n.queryCache||new ry),D(this,sn,n.mutationCache||new oy),D(this,on,n.defaultOptions||{}),D(this,or,new Map),D(this,ar,new Map),D(this,an,0)}mount(){Ji(this,an)._++,b(this,an)===1&&(D(this,ur,ka.subscribe(async n=>{n&&(await this.resumePausedMutations(),b(this,me).onFocus())})),D(this,cr,fs.subscribe(async n=>{n&&(await this.resumePausedMutations(),b(this,me).onOnline())})))}unmount(){var n,r;Ji(this,an)._--,b(this,an)===0&&((n=b(this,ur))==null||n.call(this),D(this,ur,void 0),(r=b(this,cr))==null||r.call(this),D(this,cr,void 0))}isFetching(n){return b(this,me).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return b(this,sn).findAll({...n,status:"pending"}).length}getQueryData(n){var i;const r=this.defaultQueryOptions({queryKey:n});return(i=b(this,me).get(r.queryHash))==null?void 0:i.state.data}ensureQueryData(n){const r=this.defaultQueryOptions(n),i=b(this,me).build(this,r),a=i.state.data;return a===void 0?this.fetchQuery(n):(n.revalidateIfStale&&i.isStaleByTime(jn(r.staleTime,i))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(n){return b(this,me).findAll(n).map(({queryKey:r,state:i})=>{const a=i.data;return[r,a]})}setQueryData(n,r,i){const a=this.defaultQueryOptions({queryKey:n}),c=b(this,me).get(a.queryHash),f=c==null?void 0:c.state.data,p=Q1(r,f);if(p!==void 0)return b(this,me).build(this,a).setData(p,{...i,manual:!0})}setQueriesData(n,r,i){return Le.batch(()=>b(this,me).findAll(n).map(({queryKey:a})=>[a,this.setQueryData(a,r,i)]))}getQueryState(n){var i;const r=this.defaultQueryOptions({queryKey:n});return(i=b(this,me).get(r.queryHash))==null?void 0:i.state}removeQueries(n){const r=b(this,me);Le.batch(()=>{r.findAll(n).forEach(i=>{r.remove(i)})})}resetQueries(n,r){const i=b(this,me);return Le.batch(()=>(i.findAll(n).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...n},r)))}cancelQueries(n,r={}){const i={revert:!0,...r},a=Le.batch(()=>b(this,me).findAll(n).map(c=>c.cancel(i)));return Promise.all(a).then(lt).catch(lt)}invalidateQueries(n,r={}){return Le.batch(()=>(b(this,me).findAll(n).forEach(i=>{i.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},r)))}refetchQueries(n,r={}){const i={...r,cancelRefetch:r.cancelRefetch??!0},a=Le.batch(()=>b(this,me).findAll(n).filter(c=>!c.isDisabled()).map(c=>{let f=c.fetch(void 0,i);return i.throwOnError||(f=f.catch(lt)),c.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(a).then(lt)}fetchQuery(n){const r=this.defaultQueryOptions(n);r.retry===void 0&&(r.retry=!1);const i=b(this,me).build(this,r);return i.isStaleByTime(jn(r.staleTime,i))?i.fetch(r):Promise.resolve(i.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(lt).catch(lt)}fetchInfiniteQuery(n){return n.behavior=hs(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(lt).catch(lt)}ensureInfiniteQueryData(n){return n.behavior=hs(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return fs.isOnline()?b(this,sn).resumePausedMutations():Promise.resolve()}getQueryCache(){return b(this,me)}getMutationCache(){return b(this,sn)}getDefaultOptions(){return b(this,on)}setDefaultOptions(n){D(this,on,n)}setQueryDefaults(n,r){b(this,or).set(Gr(n),{queryKey:n,defaultOptions:r})}getQueryDefaults(n){const r=[...b(this,or).values()],i={};return r.forEach(a=>{Kr(n,a.queryKey)&&Object.assign(i,a.defaultOptions)}),i}setMutationDefaults(n,r){b(this,ar).set(Gr(n),{mutationKey:n,defaultOptions:r})}getMutationDefaults(n){const r=[...b(this,ar).values()],i={};return r.forEach(a=>{Kr(n,a.mutationKey)&&Object.assign(i,a.defaultOptions)}),i}defaultQueryOptions(n){if(n._defaulted)return n;const r={...b(this,on).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return r.queryHash||(r.queryHash=Ma(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Da&&(r.enabled=!1),r}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...b(this,on).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){b(this,me).clear(),b(this,sn).clear()}},me=new WeakMap,sn=new WeakMap,on=new WeakMap,or=new WeakMap,ar=new WeakMap,an=new WeakMap,ur=new WeakMap,cr=new WeakMap,df),Ge,ie,Xr,We,Rn,lr,un,cn,Jr,fr,hr,In,En,ln,dr,ue,qr,_a,va,ma,ya,ba,wa,xa,$f,pf,Hf=(pf=class extends ti{constructor(r,i){super();z(this,ue);z(this,Ge);z(this,ie);z(this,Xr);z(this,We);z(this,Rn);z(this,lr);z(this,un);z(this,cn);z(this,Jr);z(this,fr);z(this,hr);z(this,In);z(this,En);z(this,ln);z(this,dr,new Set);this.options=i,D(this,Ge,r),D(this,cn,null),D(this,un,pa()),this.options.experimental_prefetchInRender||b(this,un).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(i)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(b(this,ie).addObserver(this),$l(b(this,ie),this.options)?re(this,ue,qr).call(this):this.updateResult(),re(this,ue,ya).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sa(b(this,ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sa(b(this,ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,re(this,ue,ba).call(this),re(this,ue,wa).call(this),b(this,ie).removeObserver(this)}setOptions(r){const i=this.options,a=b(this,ie);if(this.options=b(this,Ge).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bt(this.options.enabled,b(this,ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");re(this,ue,xa).call(this),b(this,ie).setOptions(this.options),i._defaulted&&!fa(this.options,i)&&b(this,Ge).getQueryCache().notify({type:"observerOptionsUpdated",query:b(this,ie),observer:this});const c=this.hasListeners();c&&zl(b(this,ie),a,this.options,i)&&re(this,ue,qr).call(this),this.updateResult(),c&&(b(this,ie)!==a||bt(this.options.enabled,b(this,ie))!==bt(i.enabled,b(this,ie))||jn(this.options.staleTime,b(this,ie))!==jn(i.staleTime,b(this,ie)))&&re(this,ue,_a).call(this);const f=re(this,ue,va).call(this);c&&(b(this,ie)!==a||bt(this.options.enabled,b(this,ie))!==bt(i.enabled,b(this,ie))||f!==b(this,ln))&&re(this,ue,ma).call(this,f)}getOptimisticResult(r){const i=b(this,Ge).getQueryCache().build(b(this,Ge),r),a=this.createResult(i,r);return fy(this,a)&&(D(this,We,a),D(this,lr,this.options),D(this,Rn,b(this,ie).state)),a}getCurrentResult(){return b(this,We)}trackResult(r,i){const a={};return Object.keys(r).forEach(c=>{Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(c),i==null||i(c),r[c])})}),a}trackProp(r){b(this,dr).add(r)}getCurrentQuery(){return b(this,ie)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const i=b(this,Ge).defaultQueryOptions(r),a=b(this,Ge).getQueryCache().build(b(this,Ge),i);return a.fetch().then(()=>this.createResult(a,i))}fetch(r){return re(this,ue,qr).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),b(this,We)))}createResult(r,i){var xe;const a=b(this,ie),c=this.options,f=b(this,We),p=b(this,Rn),_=b(this,lr),S=r!==a?r.state:b(this,Xr),{state:R}=r;let y={...R},O=!1,I;if(i._optimisticResults){const Ae=this.hasListeners(),Ie=!Ae&&$l(r,i),qe=Ae&&zl(r,a,i,c);(Ie||qe)&&(y={...y,...Wf(R.data,r.options)}),i._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:k,errorUpdatedAt:L,status:N}=y;I=y.data;let U=!1;if(i.placeholderData!==void 0&&I===void 0&&N==="pending"){let Ae;f!=null&&f.isPlaceholderData&&i.placeholderData===(_==null?void 0:_.placeholderData)?(Ae=f.data,U=!0):Ae=typeof i.placeholderData=="function"?i.placeholderData((xe=b(this,hr))==null?void 0:xe.state.data,b(this,hr)):i.placeholderData,Ae!==void 0&&(N="success",I=da(f==null?void 0:f.data,Ae,i),O=!0)}if(i.select&&I!==void 0&&!U)if(f&&I===(p==null?void 0:p.data)&&i.select===b(this,Jr))I=b(this,fr);else try{D(this,Jr,i.select),I=i.select(I),I=da(f==null?void 0:f.data,I,i),D(this,fr,I),D(this,cn,null)}catch(Ae){D(this,cn,Ae)}b(this,cn)&&(k=b(this,cn),I=b(this,fr),L=Date.now(),N="error");const $=y.fetchStatus==="fetching",Z=N==="pending",Y=N==="error",se=Z&&$,he=I!==void 0,J={status:N,fetchStatus:y.fetchStatus,isPending:Z,isSuccess:N==="success",isError:Y,isInitialLoading:se,isLoading:se,data:I,dataUpdatedAt:y.dataUpdatedAt,error:k,errorUpdatedAt:L,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>S.dataUpdateCount||y.errorUpdateCount>S.errorUpdateCount,isFetching:$,isRefetching:$&&!Z,isLoadingError:Y&&!he,isPaused:y.fetchStatus==="paused",isPlaceholderData:O,isRefetchError:Y&&he,isStale:Ua(r,i),refetch:this.refetch,promise:b(this,un)};if(this.options.experimental_prefetchInRender){const Ae=Mn=>{J.status==="error"?Mn.reject(J.error):J.data!==void 0&&Mn.resolve(J.data)},Ie=()=>{const Mn=D(this,un,J.promise=pa());Ae(Mn)},qe=b(this,un);switch(qe.status){case"pending":r.queryHash===a.queryHash&&Ae(qe);break;case"fulfilled":(J.status==="error"||J.data!==qe.value)&&Ie();break;case"rejected":(J.status!=="error"||J.error!==qe.reason)&&Ie();break}}return J}updateResult(){const r=b(this,We),i=this.createResult(b(this,ie),this.options);if(D(this,Rn,b(this,ie).state),D(this,lr,this.options),b(this,Rn).data!==void 0&&D(this,hr,b(this,ie)),fa(i,r))return;D(this,We,i);const a=()=>{if(!r)return!0;const{notifyOnChangeProps:c}=this.options,f=typeof c=="function"?c():c;if(f==="all"||!f&&!b(this,dr).size)return!0;const p=new Set(f??b(this,dr));return this.options.throwOnError&&p.add("error"),Object.keys(b(this,We)).some(_=>{const v=_;return b(this,We)[v]!==r[v]&&p.has(v)})};re(this,ue,$f).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&re(this,ue,ya).call(this)}},Ge=new WeakMap,ie=new WeakMap,Xr=new WeakMap,We=new WeakMap,Rn=new WeakMap,lr=new WeakMap,un=new WeakMap,cn=new WeakMap,Jr=new WeakMap,fr=new WeakMap,hr=new WeakMap,In=new WeakMap,En=new WeakMap,ln=new WeakMap,dr=new WeakMap,ue=new WeakSet,qr=function(r){re(this,ue,xa).call(this);let i=b(this,ie).fetch(this.options,r);return r!=null&&r.throwOnError||(i=i.catch(lt)),i},_a=function(){re(this,ue,ba).call(this);const r=jn(this.options.staleTime,b(this,ie));if(Fn||b(this,We).isStale||!la(r))return;const a=Nf(b(this,We).dataUpdatedAt,r)+1;D(this,In,setTimeout(()=>{b(this,We).isStale||this.updateResult()},a))},va=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(b(this,ie)):this.options.refetchInterval)??!1},ma=function(r){re(this,ue,wa).call(this),D(this,ln,r),!(Fn||bt(this.options.enabled,b(this,ie))===!1||!la(b(this,ln))||b(this,ln)===0)&&D(this,En,setInterval(()=>{(this.options.refetchIntervalInBackground||ka.isFocused())&&re(this,ue,qr).call(this)},b(this,ln)))},ya=function(){re(this,ue,_a).call(this),re(this,ue,ma).call(this,re(this,ue,va).call(this))},ba=function(){b(this,In)&&(clearTimeout(b(this,In)),D(this,In,void 0))},wa=function(){b(this,En)&&(clearInterval(b(this,En)),D(this,En,void 0))},xa=function(){const r=b(this,Ge).getQueryCache().build(b(this,Ge),this.options);if(r===b(this,ie))return;const i=b(this,ie);D(this,ie,r),D(this,Xr,r.state),this.hasListeners()&&(i==null||i.removeObserver(this),r.addObserver(this))},$f=function(r){Le.batch(()=>{r.listeners&&this.listeners.forEach(i=>{i(b(this,We))}),b(this,Ge).getQueryCache().notify({query:b(this,ie),type:"observerResultsUpdated"})})},pf);function ly(n,r){return bt(r.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&r.retryOnMount===!1)}function $l(n,r){return ly(n,r)||n.state.data!==void 0&&Sa(n,r,r.refetchOnMount)}function Sa(n,r,i){if(bt(r.enabled,n)!==!1){const a=typeof i=="function"?i(n):i;return a==="always"||a!==!1&&Ua(n,r)}return!1}function zl(n,r,i,a){return(n!==r||bt(a.enabled,n)===!1)&&(!i.suspense||n.state.status!=="error")&&Ua(n,i)}function Ua(n,r){return bt(r.enabled,n)!==!1&&n.isStaleByTime(jn(r.staleTime,n))}function fy(n,r){return!fa(n.getCurrentResult(),r)}var hy=class extends Hf{constructor(n,r){super(n,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:hs()})}getOptimisticResult(n){return n.behavior=hs(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,r){var k,L;const{state:i}=n,a=super.createResult(n,r),{isFetching:c,isRefetching:f,isError:p,isRefetchError:_}=a,v=(L=(k=i.fetchMeta)==null?void 0:k.fetchMore)==null?void 0:L.direction,S=p&&v==="forward",R=c&&v==="forward",y=p&&v==="backward",O=c&&v==="backward";return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:ay(r,i.data),hasPreviousPage:uy(r,i.data),isFetchNextPageError:S,isFetchingNextPage:R,isFetchPreviousPageError:y,isFetchingPreviousPage:O,isRefetchError:_&&!S&&!y,isRefetching:f&&!R&&!O}}},dy=0;function l(n,r,i,a,c,f){r||(r={});var p,_,v=r;if("ref"in v)for(_ in v={},r)_=="ref"?p=r[_]:v[_]=r[_];var S={type:n,props:v,key:i,ref:p,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--dy,__i:-1,__u:0,__source:c,__self:f};if(typeof n=="function"&&(p=n.defaultProps))for(_ in p)v[_]===void 0&&(v[_]=p[_]);return G.vnode&&G.vnode(S),S}var zf=jr(void 0),py=n=>{const r=ps(zf);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},gy=({client:n,children:r})=>(Lt(()=>(n.mount(),()=>{n.unmount()}),[n]),l(zf.Provider,{value:n,children:r})),Qf=jr(!1),_y=()=>ps(Qf);Qf.Provider;function vy(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var my=jr(vy()),yy=()=>ps(my);function by(n,r){return typeof n=="function"?n(...r):!!n}function Ql(){}var wy=(n,r)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(r.isReset()||(n.retryOnMount=!1))},xy=n=>{Lt(()=>{n.clearReset()},[n])},Sy=({result:n,errorResetBoundary:r,throwOnError:i,query:a,suspense:c})=>n.isError&&!r.isReset()&&!n.isFetching&&a&&(c&&n.data===void 0||by(i,[n.error,a])),Cy=n=>{const r=n.staleTime;n.suspense&&(n.staleTime=typeof r=="function"?(...i)=>Math.max(r(...i),1e3):Math.max(r??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},Py=(n,r)=>n.isLoading&&n.isFetching&&!r,Ty=(n,r)=>(n==null?void 0:n.suspense)&&r.isPending,Gl=(n,r,i)=>r.fetchOptimistic(n).catch(()=>{i.clearReset()});function Gf(n,r,i){var y,O,I,k,L;const a=py(),c=_y(),f=yy(),p=a.defaultQueryOptions(n);(O=(y=a.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||O.call(y,p),p._optimisticResults=c?"isRestoring":"optimistic",Cy(p),wy(p,f),xy(f);const _=!a.getQueryCache().get(p.queryHash),[v]=ft(()=>new r(a,p)),S=v.getOptimisticResult(p),R=!c&&n.subscribed!==!1;if(R1(et(N=>{const U=R?v.subscribe(Le.batchCalls(N)):Ql;return v.updateResult(),U},[v,R]),()=>v.getCurrentResult()),Lt(()=>{v.setOptions(p)},[p,v]),Ty(p,S))throw Gl(p,v,f);if(Sy({result:S,errorResetBoundary:f,throwOnError:p.throwOnError,query:a.getQueryCache().get(p.queryHash),suspense:p.suspense}))throw S.error;if((k=(I=a.getDefaultOptions().queries)==null?void 0:I._experimental_afterQuery)==null||k.call(I,p,S),p.experimental_prefetchInRender&&!Fn&&Py(S,c)){const N=_?Gl(p,v,f):(L=a.getQueryCache().get(p.queryHash))==null?void 0:L.promise;N==null||N.catch(Ql).finally(()=>{v.updateResult()})}return p.notifyOnChangeProps?S:v.trackResult(S)}function gs(n,r){return Gf(n,Hf)}function Ay(n,r){return Gf(n,hy)}const fn=(n,r=document.body)=>r.querySelector(n),ni=(n,r=document.body)=>Array.from(r.querySelectorAll(n)),Ry=async(n,{parent:r=document.body,maxWait:i=2e3}={})=>{const a=performance.now();for(;performance.now()-a<i;){await Ey(1);const c=fn(n,r);if(c)return c}throw new Error(`Could not find ${n}`)},os=(n,r=document.body)=>ni(n,r).map(i=>i.remove()),_s=n=>{try{return n()}catch(r){console.error("Tried to perform action, failed"),console.error(r)}};function Iy(n){const r=document.createElement("style");return r.innerHTML=n,document.head.appendChild(r),r}const Ey=n=>new Promise(r=>setTimeout(r,n)),er=(n,r=document.location.href)=>Oy(r).get(n),Oy=n=>{if(n.startsWith("?"))return new URLSearchParams(n.slice(1));if(n.startsWith("http")){const i=new URL(n);return new URLSearchParams(i.search)}const r=new URL("https://example.com"+n.split("?").slice(1).join(""));return new URLSearchParams(r.search)};function Ly(n){return Object.entries(n)}function Ny(n,r){const i=new Set;return n.filter(a=>{const c=r(a);return i.has(c)?!1:(i.add(c),!0)})}const Fy={bg:"#303a30",bgAlt:"#293129",bgDeep:"#303030",bgHighlight:"#505a50",bgOverlay:"#242424e6",text:"#c0c0c0",textSoft:"#878787",textActive:"#b0e0b0",linkSoft:"#93b393",linkArtist:"#f0a0a0",linkCharacter:"#f0f0a0",linkCopyright:"#f0a0f0",linkMetadata:"#90d9ed"},xn={bg:"var(--r-bg)",textActive:"var(--r-link)",link:"var(--r-link-soft)",linkArtist:"var(--r-link-artist)",linkCopyright:"var(--r-link-copyright)",linkMetadata:"var(--r-link-metadata)"},Ba=n=>({general:xn.textActive,artist:xn.linkArtist,character:xn.linkArtist,copyright:xn.linkCopyright,metadata:xn.linkMetadata})[n],My=n=>`
        --r-bg: ${n.bg};
        --r-bg-alt: ${n.bgAlt};
        --r-bg-deep: ${n.bgDeep};
        --r-bg-highlight: ${n.bgHighlight};
        --r-bg-overlay: ${n.bgOverlay};
        --r-text: ${n.text};
        --r-text-soft: ${n.textSoft};
        --r-text-active: ${n.textActive};
        --r-link: ${n.textActive};
        --r-link-soft: ${n.linkSoft};
        --r-link-artist: ${n.linkArtist};
        --r-link-character: ${n.linkCharacter};
        --r-link-copyright: ${n.linkCopyright};
        --r-link-metadata: ${n.linkMetadata};
    `,Dy=()=>{os("link[type='text/css']",document.head)},ky=My(Fy);Iy(` body { ${ky} }`);const Uy=({children:n})=>n;var Go;function Pe(n,r){return G.__a&&G.__a(r),n}(Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0)!=null&&Go.__PREACT_DEVTOOLS__&&Go.__PREACT_DEVTOOLS__.attachPreact("10.26.5",G,{Fragment:xt,Component:wt});const Kf=jr(null),By=({children:n})=>{const[r,i]=Pe(ft(Yf()),"tags"),a=et(y=>{i(O=>{const I=y(O);return Kl(I),I})},[]);Lt(()=>Kl(r),[r]);const c=Pe(On(()=>r.map(y=>({name:y,type:"artist"})),[r]),"subscriptions"),f=Pe(On(()=>Zf(r),[r]),"subscriptionsTag"),p=Pe(On(Wy,[]),"subscriptionsUrl"),_=et(y=>r.includes(y),[r]),v=et(y=>{a(O=>[y,...O])},[a]),S=et(y=>{a(O=>O.filter(I=>I!==y))},[a]),R={subscriptions:c,subscriptionsTag:f,subscriptionsUrl:p,checkSubscribed:_,addSubscription:v,removeSubscription:S};return l(Kf.Provider,{value:R,children:n})};function vs(){const n=ps(Kf);if(!n)throw new Error("Didn't inherit from SubscriptionsProvider");return n}function Yf(){const n=window.localStorage.getItem("tag-subscriptions")??"[]";let r=JSON.parse(n);return r=r.map(i=>decodeURIComponent(i)),r}function Kl(n){const r=JSON.stringify(n);window.localStorage.setItem("tag-subscriptions",r)}const Zf=n=>" ( "+n.join(" ~ ")+" ) ",Wy=()=>"/index.php?page=post&s=list&subscriptions=yes",Xf=({children:n})=>{const r=new cy;return l(z1.StrictMode,{children:l(gy,{client:r,children:l(Uy,{children:l(By,{children:n})})})})};function Jf(n){return{render:function(r){k1(r,n)},unmount:function(){H1(n)}}}var Ko;function qy(n){return Ko==null?void 0:Ko.get(n)}var Yo;function Hy(n){return Yo==null?void 0:Yo.get(n)}var Zo;function $y(n,r){var i;return(i=Zo==null?void 0:Zo.get(n))==null?void 0:i.get(r)}function Vf(n){var i,a;const r=typeof n;return r==="string"?`"${n}"`:r==="number"||r==="bigint"||r==="boolean"?`${n}`:r==="object"||r==="function"?(n&&((a=(i=Object.getPrototypeOf(n))==null?void 0:i.constructor)==null?void 0:a.name))??"null":r}function vr(n,r,i,a,c){const f=i.value,p=n.expects??null,_=Vf(f),v={kind:n.kind,type:n.type,input:f,expected:p,received:_,message:`Invalid ${r}: ${p?`Expected ${p} but r`:"R"}eceived ${_}`,requirement:n.requirement,path:c==null?void 0:c.path,issues:c==null?void 0:c.issues,lang:a.lang,abortEarly:a.abortEarly,abortPipeEarly:a.abortPipeEarly},S=n.kind==="schema",R=n.message??$y(n.reference,v.lang)??(S?Hy(v.lang):null)??a.message??qy(v.lang);R&&(v.message=typeof R=="function"?R(v):R),S&&(i.typed=!1),i.issues?i.issues.push(v):i.issues=[v]}function zy(n,r){const i=[...new Set(n)];return i.length>1?`(${i.join(` ${r} `)})`:i[0]??"never"}function Qy(n,r,i){return typeof n.default=="function"?n.default(r,i):n.default}function jf(n,r){return{kind:"schema",type:"array",reference:jf,expects:"Array",async:!1,item:n,message:r,_run(i,a){var f;const c=i.value;if(Array.isArray(c)){i.typed=!0,i.value=[];for(let p=0;p<c.length;p++){const _=c[p],v=this.item._run({typed:!1,value:_},a);if(v.issues){const S={type:"array",origin:"value",input:c,key:p,value:_};for(const R of v.issues)R.path?R.path.unshift(S):R.path=[S],(f=i.issues)==null||f.push(R);if(i.issues||(i.issues=v.issues),a.abortEarly){i.typed=!1;break}}v.typed||(i.typed=!1),i.value.push(v.value)}}else vr(this,"type",i,a);return i}}}function eh(n){return{kind:"schema",type:"boolean",reference:eh,expects:"boolean",async:!1,message:n,_run(r,i){return typeof r.value=="boolean"?r.typed=!0:vr(this,"type",r,i),r}}}function th(n,r){const i=Object.entries(n).filter(([a])=>isNaN(+a)).map(([,a])=>a);return{kind:"schema",type:"enum",reference:th,expects:zy(i.map(Vf),"|"),async:!1,enum:n,options:i,message:r,_run(a,c){return this.options.includes(a.value)?a.typed=!0:vr(this,"type",a,c),a}}}function nh(n){return{kind:"schema",type:"number",reference:nh,expects:"number",async:!1,message:n,_run(r,i){return typeof r.value=="number"&&!isNaN(r.value)?r.typed=!0:vr(this,"type",r,i),r}}}function rh(n,r){return{kind:"schema",type:"object",reference:rh,expects:"Object",async:!1,entries:n,message:r,_run(i,a){var f;const c=i.value;if(c&&typeof c=="object"){i.typed=!0,i.value={};for(const p in this.entries){const _=c[p],v=this.entries[p]._run({typed:!1,value:_},a);if(v.issues){const S={type:"object",origin:"value",input:c,key:p,value:_};for(const R of v.issues)R.path?R.path.unshift(S):R.path=[S],(f=i.issues)==null||f.push(R);if(i.issues||(i.issues=v.issues),a.abortEarly){i.typed=!1;break}}v.typed||(i.typed=!1),(v.value!==void 0||p in c)&&(i.value[p]=v.value)}}else vr(this,"type",i,a);return i}}}function Hr(n,...r){const i={kind:"schema",type:"optional",reference:Hr,expects:`(${n.expects} | undefined)`,async:!1,wrapped:n,_run(a,c){return a.value===void 0&&("default"in this&&(a.value=Qy(this,a,c)),a.value===void 0)?(a.typed=!0,a):this.wrapped._run(a,c)}};return 0 in r&&(i.default=r[0]),i}function ih(n){return{kind:"schema",type:"string",reference:ih,expects:"string",async:!1,message:n,_run(r,i){return typeof r.value=="string"?r.typed=!0:vr(this,"type",r,i),r}}}const Ot={newest:"newest",score:"score",random:"random",hot:"hot"};rh({tags:Hr(jf(ih())),sort:Hr(th(Ot)),minScore:Hr(nh()),subscriptionsOnly:Hr(eh())});const as={sort:Ot.newest,tags:[],subscriptionsOnly:!1},sh={encodeInParam(n,r){!r||r===as.sort||r in Ot&&n.set("sort",r)},decodeFromParam(n){const r=n.get("sort");if(r&&(r==="newest"||r==="score"||r==="random"||r==="hot"))return r}},oh={encodeInParam(n,r){!r||r.length===0||n.set("searchTags",r.join(" "))},decodeFromParam(n){const r=n.get("searchTags");if(!r)return;let i=r.split(" ");if(i=i.filter(a=>!!a.trim()),i.length!==0)return i}},ah={encodeInParam(n,r){r&&n.set("subscriptions","yes")},decodeFromParam(n){if(n.get("subscriptions"))return!0}};function Gy(n){const r=new URLSearchParams;return sh.encodeInParam(r,n.sort),oh.encodeInParam(r,n.tags),ah.encodeInParam(r,n.subscriptionsOnly),r}function Ky(n){const r=sh.decodeFromParam(n)??as.sort,i=oh.decodeFromParam(n)??as.tags,a=ah.decodeFromParam(n)??as.subscriptionsOnly;return{sort:r,tags:i,subscriptionsOnly:a,minScore:0}}function uh(n){const{sort:r,minScore:i,tags:a}=n;let c=[];return i&&c.push(`score:>=${i}`),a&&c.push(...a),r===Ot.score&&c.push("sort:score"),r===Ot.random&&c.push("sort:random:1"),r===Ot.hot&&c.push("score:>=200"),n.subscriptionsOnly&&c.push(Zf(Yf())),c.join(" ")}function ch(){const n=new URL(document.location.href);return n.searchParams.delete("tags"),history.replaceState(null,"",n.toString()),Ky(n.searchParams)}function Wa(n,{withNativeTags:r=!0}){const i=Gy(n);return r&&i.set("tags",uh(n)),i}function lh(n){return`index.php?page=post&s=list&${Wa({tags:[n]},{withNativeTags:!0}).toString()}`}const Yy=Date.now(),Zy=n=>new Intl.DateTimeFormat("en-GB",{dateStyle:"full"}).format(n),Xy=n=>{const i=(Yy-n.getTime())/1e3,a=i/60,c=a/60,f=c/24,p=f/30,_=f/365;return _>=1?`${_.toFixed()} years`:p>=1?`${p.toFixed()} months`:f>=1?`${f.toFixed()} days`:c>=1?`${c.toFixed()} hours`:a>=1?`${a.toFixed()} minutes`:i>=1?`${i.toFixed()} seconds`:"now"},ms=n=>new Intl.NumberFormat("en",{notation:"compact"}).format(n),fh=n=>Jy(n).replaceAll(/_/g," "),Jy=n=>n.replace(/&#[0-9]+;/,r=>String.fromCharCode(parseInt(r.slice(2).slice(0,-1))));var ts=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xo={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Yl;function Vy(){return Yl||(Yl=1,function(n){(function(){var r={}.hasOwnProperty;function i(){for(var f="",p=0;p<arguments.length;p++){var _=arguments[p];_&&(f=c(f,a(_)))}return f}function a(f){if(typeof f=="string"||typeof f=="number")return f;if(typeof f!="object")return"";if(Array.isArray(f))return i.apply(null,f);if(f.toString!==Object.prototype.toString&&!f.toString.toString().includes("[native code]"))return f.toString();var p="";for(var _ in f)r.call(f,_)&&f[_]&&(p=c(p,_));return p}function c(f,p){return p?f?f+" "+p:f+p:f}n.exports?(i.default=i,n.exports=i):window.classNames=i})()}(Xo)),Xo.exports}var jy=Vy();const Ke=hh(jy),eb=({tags:n,onClick:r})=>n===void 0||n.length===0?null:l("div",{className:Ke("absolute -z-20 top-8 left-0","w-full rounded-b-2 p-4 bg-bg-alt","flex flex-col gap-1"),children:n.map(i=>l(tb,{onClick:()=>r(i.name),tag:i},i.name))}),tb=({onClick:n,tag:{name:r,type:i,count:a}})=>l("button",{className:"text-left border-none bg-transparent p-1 cursor-pointer focus:border-none focus:underline",style:{color:Ba(i)},onMouseDown:n,children:[r,a&&" / "+ms(a)]}),Ca=(n,r)=>r.some(i=>n instanceof i);let Zl,Xl;function nb(){return Zl||(Zl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rb(){return Xl||(Xl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pa=new WeakMap,Jo=new WeakMap,ys=new WeakMap;function ib(n){const r=new Promise((i,a)=>{const c=()=>{n.removeEventListener("success",f),n.removeEventListener("error",p)},f=()=>{i(Ln(n.result)),c()},p=()=>{a(n.error),c()};n.addEventListener("success",f),n.addEventListener("error",p)});return ys.set(r,n),r}function sb(n){if(Pa.has(n))return;const r=new Promise((i,a)=>{const c=()=>{n.removeEventListener("complete",f),n.removeEventListener("error",p),n.removeEventListener("abort",p)},f=()=>{i(),c()},p=()=>{a(n.error||new DOMException("AbortError","AbortError")),c()};n.addEventListener("complete",f),n.addEventListener("error",p),n.addEventListener("abort",p)});Pa.set(n,r)}let Ta={get(n,r,i){if(n instanceof IDBTransaction){if(r==="done")return Pa.get(n);if(r==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ln(n[r])},set(n,r,i){return n[r]=i,!0},has(n,r){return n instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in n}};function dh(n){Ta=n(Ta)}function ob(n){return rb().includes(n)?function(...r){return n.apply(Aa(this),r),Ln(this.request)}:function(...r){return Ln(n.apply(Aa(this),r))}}function ab(n){return typeof n=="function"?ob(n):(n instanceof IDBTransaction&&sb(n),Ca(n,nb())?new Proxy(n,Ta):n)}function Ln(n){if(n instanceof IDBRequest)return ib(n);if(Jo.has(n))return Jo.get(n);const r=ab(n);return r!==n&&(Jo.set(n,r),ys.set(r,n)),r}const Aa=n=>ys.get(n);function ub(n,r,{blocked:i,upgrade:a,blocking:c,terminated:f}={}){const p=indexedDB.open(n,r),_=Ln(p);return a&&p.addEventListener("upgradeneeded",v=>{a(Ln(p.result),v.oldVersion,v.newVersion,Ln(p.transaction),v)}),i&&p.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{f&&v.addEventListener("close",()=>f()),c&&v.addEventListener("versionchange",S=>c(S.oldVersion,S.newVersion,S))}).catch(()=>{}),_}const cb=["get","getKey","getAll","getAllKeys","count"],lb=["put","add","delete","clear"],Vo=new Map;function Jl(n,r){if(!(n instanceof IDBDatabase&&!(r in n)&&typeof r=="string"))return;if(Vo.get(r))return Vo.get(r);const i=r.replace(/FromIndex$/,""),a=r!==i,c=lb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(c||cb.includes(i)))return;const f=async function(p,..._){const v=this.transaction(p,c?"readwrite":"readonly");let S=v.store;return a&&(S=S.index(_.shift())),(await Promise.all([S[i](..._),c&&v.done]))[0]};return Vo.set(r,f),f}dh(n=>({...n,get:(r,i,a)=>Jl(r,i)||n.get(r,i,a),has:(r,i)=>!!Jl(r,i)||n.has(r,i)}));const fb=["continue","continuePrimaryKey","advance"],Vl={},Ra=new WeakMap,ph=new WeakMap,hb={get(n,r){if(!fb.includes(r))return n[r];let i=Vl[r];return i||(i=Vl[r]=function(...a){Ra.set(this,ph.get(this)[r](...a))}),i}};async function*db(...n){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...n)),!r)return;r=r;const i=new Proxy(r,hb);for(ph.set(i,r),ys.set(i,Aa(r));r;)yield i,r=await(Ra.get(i)||r.continue()),Ra.delete(i)}function jl(n,r){return r===Symbol.asyncIterator&&Ca(n,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&Ca(n,[IDBIndex,IDBObjectStore])}dh(n=>({...n,get(r,i,a){return jl(r,i)?db:n.get(r,i,a)},has(r,i){return jl(r,i)||n.has(r,i)}}));function pb(n){const r=i=>n.filter(({type:a})=>a===i);return{general:r("general"),artist:r("artist"),copyright:r("copyright"),character:r("character"),metadata:r("metadata")}}let jo;async function gh(){return jo||(jo=await ub("tagDatabase",1,{upgrade(n){n.createObjectStore("tags",{keyPath:"name"})}})),jo}async function gb(n){const i=(await gh()).transaction("tags","readonly"),a=await Promise.all(n.map(async c=>({name:c,data:await i.store.get(c)})));return await i.done,a.map(({name:c,data:f})=>f||{name:c,type:"general"})}async function _h(n){if(n.length===0)return;const i=(await gh()).transaction("tags","readwrite");await Promise.all(n.map(async a=>{await i.store.delete(a.name),await i.store.add(a)})),await i.done}var ea,ef;function _b(){return ef||(ef=1,ea=function(){function n(r,i,a,c,f){return r<i||a<i?r>a?a+1:r+1:c===f?i:i+1}return function(r,i){if(r===i)return 0;if(r.length>i.length){var a=r;r=i,i=a}for(var c=r.length,f=i.length;c>0&&r.charCodeAt(c-1)===i.charCodeAt(f-1);)c--,f--;for(var p=0;p<c&&r.charCodeAt(p)===i.charCodeAt(p);)p++;if(c-=p,f-=p,c===0||f<3)return f;var _=0,v,S,R,y,O,I,k,L,N,U,$,Z,Y=[];for(v=0;v<c;v++)Y.push(v+1),Y.push(r.charCodeAt(p+v));for(var se=Y.length-1;_<f-3;)for(N=i.charCodeAt(p+(S=_)),U=i.charCodeAt(p+(R=_+1)),$=i.charCodeAt(p+(y=_+2)),Z=i.charCodeAt(p+(O=_+3)),I=_+=4,v=0;v<se;v+=2)k=Y[v],L=Y[v+1],S=n(k,S,R,N,L),R=n(S,R,y,U,L),y=n(R,y,O,$,L),I=n(y,O,I,Z,L),Y[v]=I,O=y,y=R,R=S,S=k;for(;_<f;)for(N=i.charCodeAt(p+(S=_)),I=++_,v=0;v<se;v+=2)k=Y[v],Y[v]=I=n(k,S,I,N,Y[v+1]),S=k;return I}}()),ea}var vb=_b();const mb=hh(vb);var $r={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var yb=$r.exports,tf;function bb(){return tf||(tf=1,function(n,r){(function(){var i,a="4.17.21",c=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",_="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",S=500,R="__lodash_placeholder__",y=1,O=2,I=4,k=1,L=2,N=1,U=2,$=4,Z=8,Y=16,se=32,he=64,Te=128,J=256,xe=512,Ae=30,Ie="...",qe=800,Mn=16,qa=1,Ah=2,Rh=3,ri=1/0,Dn=9007199254740991,Ih=17976931348623157e292,ii=NaN,Ct=4294967295,Eh=Ct-1,Oh=Ct>>>1,Lh=[["ary",Te],["bind",N],["bindKey",U],["curry",Z],["curryRight",Y],["flip",xe],["partial",se],["partialRight",he],["rearg",J]],kn="[object Arguments]",si="[object Array]",Nh="[object AsyncFunction]",mr="[object Boolean]",yr="[object Date]",Fh="[object DOMException]",oi="[object Error]",ai="[object Function]",Ha="[object GeneratorFunction]",ht="[object Map]",br="[object Number]",Mh="[object Null]",Nt="[object Object]",$a="[object Promise]",Dh="[object Proxy]",wr="[object RegExp]",dt="[object Set]",xr="[object String]",ui="[object Symbol]",kh="[object Undefined]",Sr="[object WeakMap]",Uh="[object WeakSet]",Cr="[object ArrayBuffer]",Un="[object DataView]",bs="[object Float32Array]",ws="[object Float64Array]",xs="[object Int8Array]",Ss="[object Int16Array]",Cs="[object Int32Array]",Ps="[object Uint8Array]",Ts="[object Uint8ClampedArray]",As="[object Uint16Array]",Rs="[object Uint32Array]",Bh=/\b__p \+= '';/g,Wh=/\b(__p \+=) '' \+/g,qh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,za=/&(?:amp|lt|gt|quot|#39);/g,Qa=/[&<>"']/g,Hh=RegExp(za.source),$h=RegExp(Qa.source),zh=/<%-([\s\S]+?)%>/g,Qh=/<%([\s\S]+?)%>/g,Ga=/<%=([\s\S]+?)%>/g,Gh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kh=/^\w*$/,Yh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Is=/[\\^$.*+?()[\]{}|]/g,Zh=RegExp(Is.source),Es=/^\s+/,Xh=/\s/,Jh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vh=/\{\n\/\* \[wrapped with (.+)\] \*/,jh=/,? & /,ed=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,td=/[()=,{}\[\]\/\s]/,nd=/\\(\\)?/g,rd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ka=/\w*$/,id=/^[-+]0x[0-9a-f]+$/i,sd=/^0b[01]+$/i,od=/^\[object .+?Constructor\]$/,ad=/^0o[0-7]+$/i,ud=/^(?:0|[1-9]\d*)$/,cd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ci=/($^)/,ld=/['\n\r\u2028\u2029\\]/g,li="\\ud800-\\udfff",fd="\\u0300-\\u036f",hd="\\ufe20-\\ufe2f",dd="\\u20d0-\\u20ff",Ya=fd+hd+dd,Za="\\u2700-\\u27bf",Xa="a-z\\xdf-\\xf6\\xf8-\\xff",pd="\\xac\\xb1\\xd7\\xf7",gd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_d="\\u2000-\\u206f",vd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ja="A-Z\\xc0-\\xd6\\xd8-\\xde",Va="\\ufe0e\\ufe0f",ja=pd+gd+_d+vd,Os="['’]",md="["+li+"]",eu="["+ja+"]",fi="["+Ya+"]",tu="\\d+",yd="["+Za+"]",nu="["+Xa+"]",ru="[^"+li+ja+tu+Za+Xa+Ja+"]",Ls="\\ud83c[\\udffb-\\udfff]",bd="(?:"+fi+"|"+Ls+")",iu="[^"+li+"]",Ns="(?:\\ud83c[\\udde6-\\uddff]){2}",Fs="[\\ud800-\\udbff][\\udc00-\\udfff]",Bn="["+Ja+"]",su="\\u200d",ou="(?:"+nu+"|"+ru+")",wd="(?:"+Bn+"|"+ru+")",au="(?:"+Os+"(?:d|ll|m|re|s|t|ve))?",uu="(?:"+Os+"(?:D|LL|M|RE|S|T|VE))?",cu=bd+"?",lu="["+Va+"]?",xd="(?:"+su+"(?:"+[iu,Ns,Fs].join("|")+")"+lu+cu+")*",Sd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fu=lu+cu+xd,Pd="(?:"+[yd,Ns,Fs].join("|")+")"+fu,Td="(?:"+[iu+fi+"?",fi,Ns,Fs,md].join("|")+")",Ad=RegExp(Os,"g"),Rd=RegExp(fi,"g"),Ms=RegExp(Ls+"(?="+Ls+")|"+Td+fu,"g"),Id=RegExp([Bn+"?"+nu+"+"+au+"(?="+[eu,Bn,"$"].join("|")+")",wd+"+"+uu+"(?="+[eu,Bn+ou,"$"].join("|")+")",Bn+"?"+ou+"+"+au,Bn+"+"+uu,Cd,Sd,tu,Pd].join("|"),"g"),Ed=RegExp("["+su+li+Ya+Va+"]"),Od=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ld=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nd=-1,de={};de[bs]=de[ws]=de[xs]=de[Ss]=de[Cs]=de[Ps]=de[Ts]=de[As]=de[Rs]=!0,de[kn]=de[si]=de[Cr]=de[mr]=de[Un]=de[yr]=de[oi]=de[ai]=de[ht]=de[br]=de[Nt]=de[wr]=de[dt]=de[xr]=de[Sr]=!1;var fe={};fe[kn]=fe[si]=fe[Cr]=fe[Un]=fe[mr]=fe[yr]=fe[bs]=fe[ws]=fe[xs]=fe[Ss]=fe[Cs]=fe[ht]=fe[br]=fe[Nt]=fe[wr]=fe[dt]=fe[xr]=fe[ui]=fe[Ps]=fe[Ts]=fe[As]=fe[Rs]=!0,fe[oi]=fe[ai]=fe[Sr]=!1;var Fd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Md={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},kd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ud=parseFloat,Bd=parseInt,hu=typeof ts=="object"&&ts&&ts.Object===Object&&ts,Wd=typeof self=="object"&&self&&self.Object===Object&&self,Ee=hu||Wd||Function("return this")(),Ds=r&&!r.nodeType&&r,hn=Ds&&!0&&n&&!n.nodeType&&n,du=hn&&hn.exports===Ds,ks=du&&hu.process,tt=function(){try{var w=hn&&hn.require&&hn.require("util").types;return w||ks&&ks.binding&&ks.binding("util")}catch{}}(),pu=tt&&tt.isArrayBuffer,gu=tt&&tt.isDate,_u=tt&&tt.isMap,vu=tt&&tt.isRegExp,mu=tt&&tt.isSet,yu=tt&&tt.isTypedArray;function Ye(w,P,C){switch(C.length){case 0:return w.call(P);case 1:return w.call(P,C[0]);case 2:return w.call(P,C[0],C[1]);case 3:return w.call(P,C[0],C[1],C[2])}return w.apply(P,C)}function qd(w,P,C,M){for(var Q=-1,oe=w==null?0:w.length;++Q<oe;){var Se=w[Q];P(M,Se,C(Se),w)}return M}function nt(w,P){for(var C=-1,M=w==null?0:w.length;++C<M&&P(w[C],C,w)!==!1;);return w}function Hd(w,P){for(var C=w==null?0:w.length;C--&&P(w[C],C,w)!==!1;);return w}function bu(w,P){for(var C=-1,M=w==null?0:w.length;++C<M;)if(!P(w[C],C,w))return!1;return!0}function Gt(w,P){for(var C=-1,M=w==null?0:w.length,Q=0,oe=[];++C<M;){var Se=w[C];P(Se,C,w)&&(oe[Q++]=Se)}return oe}function hi(w,P){var C=w==null?0:w.length;return!!C&&Wn(w,P,0)>-1}function Us(w,P,C){for(var M=-1,Q=w==null?0:w.length;++M<Q;)if(C(P,w[M]))return!0;return!1}function pe(w,P){for(var C=-1,M=w==null?0:w.length,Q=Array(M);++C<M;)Q[C]=P(w[C],C,w);return Q}function Kt(w,P){for(var C=-1,M=P.length,Q=w.length;++C<M;)w[Q+C]=P[C];return w}function Bs(w,P,C,M){var Q=-1,oe=w==null?0:w.length;for(M&&oe&&(C=w[++Q]);++Q<oe;)C=P(C,w[Q],Q,w);return C}function $d(w,P,C,M){var Q=w==null?0:w.length;for(M&&Q&&(C=w[--Q]);Q--;)C=P(C,w[Q],Q,w);return C}function Ws(w,P){for(var C=-1,M=w==null?0:w.length;++C<M;)if(P(w[C],C,w))return!0;return!1}var zd=qs("length");function Qd(w){return w.split("")}function Gd(w){return w.match(ed)||[]}function wu(w,P,C){var M;return C(w,function(Q,oe,Se){if(P(Q,oe,Se))return M=oe,!1}),M}function di(w,P,C,M){for(var Q=w.length,oe=C+(M?1:-1);M?oe--:++oe<Q;)if(P(w[oe],oe,w))return oe;return-1}function Wn(w,P,C){return P===P?ip(w,P,C):di(w,xu,C)}function Kd(w,P,C,M){for(var Q=C-1,oe=w.length;++Q<oe;)if(M(w[Q],P))return Q;return-1}function xu(w){return w!==w}function Su(w,P){var C=w==null?0:w.length;return C?$s(w,P)/C:ii}function qs(w){return function(P){return P==null?i:P[w]}}function Hs(w){return function(P){return w==null?i:w[P]}}function Cu(w,P,C,M,Q){return Q(w,function(oe,Se,le){C=M?(M=!1,oe):P(C,oe,Se,le)}),C}function Yd(w,P){var C=w.length;for(w.sort(P);C--;)w[C]=w[C].value;return w}function $s(w,P){for(var C,M=-1,Q=w.length;++M<Q;){var oe=P(w[M]);oe!==i&&(C=C===i?oe:C+oe)}return C}function zs(w,P){for(var C=-1,M=Array(w);++C<w;)M[C]=P(C);return M}function Zd(w,P){return pe(P,function(C){return[C,w[C]]})}function Pu(w){return w&&w.slice(0,Iu(w)+1).replace(Es,"")}function Ze(w){return function(P){return w(P)}}function Qs(w,P){return pe(P,function(C){return w[C]})}function Pr(w,P){return w.has(P)}function Tu(w,P){for(var C=-1,M=w.length;++C<M&&Wn(P,w[C],0)>-1;);return C}function Au(w,P){for(var C=w.length;C--&&Wn(P,w[C],0)>-1;);return C}function Xd(w,P){for(var C=w.length,M=0;C--;)w[C]===P&&++M;return M}var Jd=Hs(Fd),Vd=Hs(Md);function jd(w){return"\\"+kd[w]}function ep(w,P){return w==null?i:w[P]}function qn(w){return Ed.test(w)}function tp(w){return Od.test(w)}function np(w){for(var P,C=[];!(P=w.next()).done;)C.push(P.value);return C}function Gs(w){var P=-1,C=Array(w.size);return w.forEach(function(M,Q){C[++P]=[Q,M]}),C}function Ru(w,P){return function(C){return w(P(C))}}function Yt(w,P){for(var C=-1,M=w.length,Q=0,oe=[];++C<M;){var Se=w[C];(Se===P||Se===R)&&(w[C]=R,oe[Q++]=C)}return oe}function pi(w){var P=-1,C=Array(w.size);return w.forEach(function(M){C[++P]=M}),C}function rp(w){var P=-1,C=Array(w.size);return w.forEach(function(M){C[++P]=[M,M]}),C}function ip(w,P,C){for(var M=C-1,Q=w.length;++M<Q;)if(w[M]===P)return M;return-1}function sp(w,P,C){for(var M=C+1;M--;)if(w[M]===P)return M;return M}function Hn(w){return qn(w)?ap(w):zd(w)}function pt(w){return qn(w)?up(w):Qd(w)}function Iu(w){for(var P=w.length;P--&&Xh.test(w.charAt(P)););return P}var op=Hs(Dd);function ap(w){for(var P=Ms.lastIndex=0;Ms.test(w);)++P;return P}function up(w){return w.match(Ms)||[]}function cp(w){return w.match(Id)||[]}var lp=function w(P){P=P==null?Ee:$n.defaults(Ee.Object(),P,$n.pick(Ee,Ld));var C=P.Array,M=P.Date,Q=P.Error,oe=P.Function,Se=P.Math,le=P.Object,Ks=P.RegExp,fp=P.String,rt=P.TypeError,gi=C.prototype,hp=oe.prototype,zn=le.prototype,_i=P["__core-js_shared__"],vi=hp.toString,ce=zn.hasOwnProperty,dp=0,Eu=function(){var e=/[^.]+$/.exec(_i&&_i.keys&&_i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mi=zn.toString,pp=vi.call(le),gp=Ee._,_p=Ks("^"+vi.call(ce).replace(Is,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yi=du?P.Buffer:i,Zt=P.Symbol,bi=P.Uint8Array,Ou=yi?yi.allocUnsafe:i,wi=Ru(le.getPrototypeOf,le),Lu=le.create,Nu=zn.propertyIsEnumerable,xi=gi.splice,Fu=Zt?Zt.isConcatSpreadable:i,Tr=Zt?Zt.iterator:i,dn=Zt?Zt.toStringTag:i,Si=function(){try{var e=mn(le,"defineProperty");return e({},"",{}),e}catch{}}(),vp=P.clearTimeout!==Ee.clearTimeout&&P.clearTimeout,mp=M&&M.now!==Ee.Date.now&&M.now,yp=P.setTimeout!==Ee.setTimeout&&P.setTimeout,Ci=Se.ceil,Pi=Se.floor,Ys=le.getOwnPropertySymbols,bp=yi?yi.isBuffer:i,Mu=P.isFinite,wp=gi.join,xp=Ru(le.keys,le),Ce=Se.max,Ne=Se.min,Sp=M.now,Cp=P.parseInt,Du=Se.random,Pp=gi.reverse,Zs=mn(P,"DataView"),Ar=mn(P,"Map"),Xs=mn(P,"Promise"),Qn=mn(P,"Set"),Rr=mn(P,"WeakMap"),Ir=mn(le,"create"),Ti=Rr&&new Rr,Gn={},Tp=yn(Zs),Ap=yn(Ar),Rp=yn(Xs),Ip=yn(Qn),Ep=yn(Rr),Ai=Zt?Zt.prototype:i,Er=Ai?Ai.valueOf:i,ku=Ai?Ai.toString:i;function h(e){if(ve(e)&&!K(e)&&!(e instanceof te)){if(e instanceof it)return e;if(ce.call(e,"__wrapped__"))return Uc(e)}return new it(e)}var Kn=function(){function e(){}return function(t){if(!_e(t))return{};if(Lu)return Lu(t);e.prototype=t;var s=new e;return e.prototype=i,s}}();function Ri(){}function it(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}h.templateSettings={escape:zh,evaluate:Qh,interpolate:Ga,variable:"",imports:{_:h}},h.prototype=Ri.prototype,h.prototype.constructor=h,it.prototype=Kn(Ri.prototype),it.prototype.constructor=it;function te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ct,this.__views__=[]}function Op(){var e=new te(this.__wrapped__);return e.__actions__=He(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=He(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=He(this.__views__),e}function Lp(){if(this.__filtered__){var e=new te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Np(){var e=this.__wrapped__.value(),t=this.__dir__,s=K(e),o=t<0,u=s?e.length:0,d=Qg(0,u,this.__views__),g=d.start,m=d.end,x=m-g,T=o?m:g-1,A=this.__iteratees__,E=A.length,F=0,B=Ne(x,this.__takeCount__);if(!s||!o&&u==x&&B==x)return ac(e,this.__actions__);var q=[];e:for(;x--&&F<B;){T+=t;for(var V=-1,H=e[T];++V<E;){var ee=A[V],ne=ee.iteratee,Ve=ee.type,Ue=ne(H);if(Ve==Ah)H=Ue;else if(!Ue){if(Ve==qa)continue e;break e}}q[F++]=H}return q}te.prototype=Kn(Ri.prototype),te.prototype.constructor=te;function pn(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var o=e[t];this.set(o[0],o[1])}}function Fp(){this.__data__=Ir?Ir(null):{},this.size=0}function Mp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Dp(e){var t=this.__data__;if(Ir){var s=t[e];return s===v?i:s}return ce.call(t,e)?t[e]:i}function kp(e){var t=this.__data__;return Ir?t[e]!==i:ce.call(t,e)}function Up(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Ir&&t===i?v:t,this}pn.prototype.clear=Fp,pn.prototype.delete=Mp,pn.prototype.get=Dp,pn.prototype.has=kp,pn.prototype.set=Up;function Ft(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var o=e[t];this.set(o[0],o[1])}}function Bp(){this.__data__=[],this.size=0}function Wp(e){var t=this.__data__,s=Ii(t,e);if(s<0)return!1;var o=t.length-1;return s==o?t.pop():xi.call(t,s,1),--this.size,!0}function qp(e){var t=this.__data__,s=Ii(t,e);return s<0?i:t[s][1]}function Hp(e){return Ii(this.__data__,e)>-1}function $p(e,t){var s=this.__data__,o=Ii(s,e);return o<0?(++this.size,s.push([e,t])):s[o][1]=t,this}Ft.prototype.clear=Bp,Ft.prototype.delete=Wp,Ft.prototype.get=qp,Ft.prototype.has=Hp,Ft.prototype.set=$p;function Mt(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var o=e[t];this.set(o[0],o[1])}}function zp(){this.size=0,this.__data__={hash:new pn,map:new(Ar||Ft),string:new pn}}function Qp(e){var t=qi(this,e).delete(e);return this.size-=t?1:0,t}function Gp(e){return qi(this,e).get(e)}function Kp(e){return qi(this,e).has(e)}function Yp(e,t){var s=qi(this,e),o=s.size;return s.set(e,t),this.size+=s.size==o?0:1,this}Mt.prototype.clear=zp,Mt.prototype.delete=Qp,Mt.prototype.get=Gp,Mt.prototype.has=Kp,Mt.prototype.set=Yp;function gn(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new Mt;++t<s;)this.add(e[t])}function Zp(e){return this.__data__.set(e,v),this}function Xp(e){return this.__data__.has(e)}gn.prototype.add=gn.prototype.push=Zp,gn.prototype.has=Xp;function gt(e){var t=this.__data__=new Ft(e);this.size=t.size}function Jp(){this.__data__=new Ft,this.size=0}function Vp(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function jp(e){return this.__data__.get(e)}function eg(e){return this.__data__.has(e)}function tg(e,t){var s=this.__data__;if(s instanceof Ft){var o=s.__data__;if(!Ar||o.length<c-1)return o.push([e,t]),this.size=++s.size,this;s=this.__data__=new Mt(o)}return s.set(e,t),this.size=s.size,this}gt.prototype.clear=Jp,gt.prototype.delete=Vp,gt.prototype.get=jp,gt.prototype.has=eg,gt.prototype.set=tg;function Uu(e,t){var s=K(e),o=!s&&bn(e),u=!s&&!o&&en(e),d=!s&&!o&&!u&&Jn(e),g=s||o||u||d,m=g?zs(e.length,fp):[],x=m.length;for(var T in e)(t||ce.call(e,T))&&!(g&&(T=="length"||u&&(T=="offset"||T=="parent")||d&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||Bt(T,x)))&&m.push(T);return m}function Bu(e){var t=e.length;return t?e[ao(0,t-1)]:i}function ng(e,t){return Hi(He(e),_n(t,0,e.length))}function rg(e){return Hi(He(e))}function Js(e,t,s){(s!==i&&!_t(e[t],s)||s===i&&!(t in e))&&Dt(e,t,s)}function Or(e,t,s){var o=e[t];(!(ce.call(e,t)&&_t(o,s))||s===i&&!(t in e))&&Dt(e,t,s)}function Ii(e,t){for(var s=e.length;s--;)if(_t(e[s][0],t))return s;return-1}function ig(e,t,s,o){return Xt(e,function(u,d,g){t(o,u,s(u),g)}),o}function Wu(e,t){return e&&Tt(t,Re(t),e)}function sg(e,t){return e&&Tt(t,ze(t),e)}function Dt(e,t,s){t=="__proto__"&&Si?Si(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Vs(e,t){for(var s=-1,o=t.length,u=C(o),d=e==null;++s<o;)u[s]=d?i:No(e,t[s]);return u}function _n(e,t,s){return e===e&&(s!==i&&(e=e<=s?e:s),t!==i&&(e=e>=t?e:t)),e}function st(e,t,s,o,u,d){var g,m=t&y,x=t&O,T=t&I;if(s&&(g=u?s(e,o,u,d):s(e)),g!==i)return g;if(!_e(e))return e;var A=K(e);if(A){if(g=Kg(e),!m)return He(e,g)}else{var E=Fe(e),F=E==ai||E==Ha;if(en(e))return lc(e,m);if(E==Nt||E==kn||F&&!u){if(g=x||F?{}:Ic(e),!m)return x?Dg(e,sg(g,e)):Mg(e,Wu(g,e))}else{if(!fe[E])return u?e:{};g=Yg(e,E,m)}}d||(d=new gt);var B=d.get(e);if(B)return B;d.set(e,g),il(e)?e.forEach(function(H){g.add(st(H,t,s,H,e,d))}):nl(e)&&e.forEach(function(H,ee){g.set(ee,st(H,t,s,ee,e,d))});var q=T?x?yo:mo:x?ze:Re,V=A?i:q(e);return nt(V||e,function(H,ee){V&&(ee=H,H=e[ee]),Or(g,ee,st(H,t,s,ee,e,d))}),g}function og(e){var t=Re(e);return function(s){return qu(s,e,t)}}function qu(e,t,s){var o=s.length;if(e==null)return!o;for(e=le(e);o--;){var u=s[o],d=t[u],g=e[u];if(g===i&&!(u in e)||!d(g))return!1}return!0}function Hu(e,t,s){if(typeof e!="function")throw new rt(p);return Ur(function(){e.apply(i,s)},t)}function Lr(e,t,s,o){var u=-1,d=hi,g=!0,m=e.length,x=[],T=t.length;if(!m)return x;s&&(t=pe(t,Ze(s))),o?(d=Us,g=!1):t.length>=c&&(d=Pr,g=!1,t=new gn(t));e:for(;++u<m;){var A=e[u],E=s==null?A:s(A);if(A=o||A!==0?A:0,g&&E===E){for(var F=T;F--;)if(t[F]===E)continue e;x.push(A)}else d(t,E,o)||x.push(A)}return x}var Xt=gc(Pt),$u=gc(eo,!0);function ag(e,t){var s=!0;return Xt(e,function(o,u,d){return s=!!t(o,u,d),s}),s}function Ei(e,t,s){for(var o=-1,u=e.length;++o<u;){var d=e[o],g=t(d);if(g!=null&&(m===i?g===g&&!Je(g):s(g,m)))var m=g,x=d}return x}function ug(e,t,s,o){var u=e.length;for(s=X(s),s<0&&(s=-s>u?0:u+s),o=o===i||o>u?u:X(o),o<0&&(o+=u),o=s>o?0:ol(o);s<o;)e[s++]=t;return e}function zu(e,t){var s=[];return Xt(e,function(o,u,d){t(o,u,d)&&s.push(o)}),s}function Oe(e,t,s,o,u){var d=-1,g=e.length;for(s||(s=Xg),u||(u=[]);++d<g;){var m=e[d];t>0&&s(m)?t>1?Oe(m,t-1,s,o,u):Kt(u,m):o||(u[u.length]=m)}return u}var js=_c(),Qu=_c(!0);function Pt(e,t){return e&&js(e,t,Re)}function eo(e,t){return e&&Qu(e,t,Re)}function Oi(e,t){return Gt(t,function(s){return Wt(e[s])})}function vn(e,t){t=Vt(t,e);for(var s=0,o=t.length;e!=null&&s<o;)e=e[At(t[s++])];return s&&s==o?e:i}function Gu(e,t,s){var o=t(e);return K(e)?o:Kt(o,s(e))}function De(e){return e==null?e===i?kh:Mh:dn&&dn in le(e)?zg(e):r_(e)}function to(e,t){return e>t}function cg(e,t){return e!=null&&ce.call(e,t)}function lg(e,t){return e!=null&&t in le(e)}function fg(e,t,s){return e>=Ne(t,s)&&e<Ce(t,s)}function no(e,t,s){for(var o=s?Us:hi,u=e[0].length,d=e.length,g=d,m=C(d),x=1/0,T=[];g--;){var A=e[g];g&&t&&(A=pe(A,Ze(t))),x=Ne(A.length,x),m[g]=!s&&(t||u>=120&&A.length>=120)?new gn(g&&A):i}A=e[0];var E=-1,F=m[0];e:for(;++E<u&&T.length<x;){var B=A[E],q=t?t(B):B;if(B=s||B!==0?B:0,!(F?Pr(F,q):o(T,q,s))){for(g=d;--g;){var V=m[g];if(!(V?Pr(V,q):o(e[g],q,s)))continue e}F&&F.push(q),T.push(B)}}return T}function hg(e,t,s,o){return Pt(e,function(u,d,g){t(o,s(u),d,g)}),o}function Nr(e,t,s){t=Vt(t,e),e=Nc(e,t);var o=e==null?e:e[At(at(t))];return o==null?i:Ye(o,e,s)}function Ku(e){return ve(e)&&De(e)==kn}function dg(e){return ve(e)&&De(e)==Cr}function pg(e){return ve(e)&&De(e)==yr}function Fr(e,t,s,o,u){return e===t?!0:e==null||t==null||!ve(e)&&!ve(t)?e!==e&&t!==t:gg(e,t,s,o,Fr,u)}function gg(e,t,s,o,u,d){var g=K(e),m=K(t),x=g?si:Fe(e),T=m?si:Fe(t);x=x==kn?Nt:x,T=T==kn?Nt:T;var A=x==Nt,E=T==Nt,F=x==T;if(F&&en(e)){if(!en(t))return!1;g=!0,A=!1}if(F&&!A)return d||(d=new gt),g||Jn(e)?Tc(e,t,s,o,u,d):Hg(e,t,x,s,o,u,d);if(!(s&k)){var B=A&&ce.call(e,"__wrapped__"),q=E&&ce.call(t,"__wrapped__");if(B||q){var V=B?e.value():e,H=q?t.value():t;return d||(d=new gt),u(V,H,s,o,d)}}return F?(d||(d=new gt),$g(e,t,s,o,u,d)):!1}function _g(e){return ve(e)&&Fe(e)==ht}function ro(e,t,s,o){var u=s.length,d=u,g=!o;if(e==null)return!d;for(e=le(e);u--;){var m=s[u];if(g&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++u<d;){m=s[u];var x=m[0],T=e[x],A=m[1];if(g&&m[2]){if(T===i&&!(x in e))return!1}else{var E=new gt;if(o)var F=o(T,A,x,e,t,E);if(!(F===i?Fr(A,T,k|L,o,E):F))return!1}}return!0}function Yu(e){if(!_e(e)||Vg(e))return!1;var t=Wt(e)?_p:od;return t.test(yn(e))}function vg(e){return ve(e)&&De(e)==wr}function mg(e){return ve(e)&&Fe(e)==dt}function yg(e){return ve(e)&&Yi(e.length)&&!!de[De(e)]}function Zu(e){return typeof e=="function"?e:e==null?Qe:typeof e=="object"?K(e)?Vu(e[0],e[1]):Ju(e):vl(e)}function io(e){if(!kr(e))return xp(e);var t=[];for(var s in le(e))ce.call(e,s)&&s!="constructor"&&t.push(s);return t}function bg(e){if(!_e(e))return n_(e);var t=kr(e),s=[];for(var o in e)o=="constructor"&&(t||!ce.call(e,o))||s.push(o);return s}function so(e,t){return e<t}function Xu(e,t){var s=-1,o=$e(e)?C(e.length):[];return Xt(e,function(u,d,g){o[++s]=t(u,d,g)}),o}function Ju(e){var t=wo(e);return t.length==1&&t[0][2]?Oc(t[0][0],t[0][1]):function(s){return s===e||ro(s,e,t)}}function Vu(e,t){return So(e)&&Ec(t)?Oc(At(e),t):function(s){var o=No(s,e);return o===i&&o===t?Fo(s,e):Fr(t,o,k|L)}}function Li(e,t,s,o,u){e!==t&&js(t,function(d,g){if(u||(u=new gt),_e(d))wg(e,t,g,s,Li,o,u);else{var m=o?o(Po(e,g),d,g+"",e,t,u):i;m===i&&(m=d),Js(e,g,m)}},ze)}function wg(e,t,s,o,u,d,g){var m=Po(e,s),x=Po(t,s),T=g.get(x);if(T){Js(e,s,T);return}var A=d?d(m,x,s+"",e,t,g):i,E=A===i;if(E){var F=K(x),B=!F&&en(x),q=!F&&!B&&Jn(x);A=x,F||B||q?K(m)?A=m:ye(m)?A=He(m):B?(E=!1,A=lc(x,!0)):q?(E=!1,A=fc(x,!0)):A=[]:Br(x)||bn(x)?(A=m,bn(m)?A=al(m):(!_e(m)||Wt(m))&&(A=Ic(x))):E=!1}E&&(g.set(x,A),u(A,x,o,d,g),g.delete(x)),Js(e,s,A)}function ju(e,t){var s=e.length;if(s)return t+=t<0?s:0,Bt(t,s)?e[t]:i}function ec(e,t,s){t.length?t=pe(t,function(d){return K(d)?function(g){return vn(g,d.length===1?d[0]:d)}:d}):t=[Qe];var o=-1;t=pe(t,Ze(W()));var u=Xu(e,function(d,g,m){var x=pe(t,function(T){return T(d)});return{criteria:x,index:++o,value:d}});return Yd(u,function(d,g){return Fg(d,g,s)})}function xg(e,t){return tc(e,t,function(s,o){return Fo(e,o)})}function tc(e,t,s){for(var o=-1,u=t.length,d={};++o<u;){var g=t[o],m=vn(e,g);s(m,g)&&Mr(d,Vt(g,e),m)}return d}function Sg(e){return function(t){return vn(t,e)}}function oo(e,t,s,o){var u=o?Kd:Wn,d=-1,g=t.length,m=e;for(e===t&&(t=He(t)),s&&(m=pe(e,Ze(s)));++d<g;)for(var x=0,T=t[d],A=s?s(T):T;(x=u(m,A,x,o))>-1;)m!==e&&xi.call(m,x,1),xi.call(e,x,1);return e}function nc(e,t){for(var s=e?t.length:0,o=s-1;s--;){var u=t[s];if(s==o||u!==d){var d=u;Bt(u)?xi.call(e,u,1):lo(e,u)}}return e}function ao(e,t){return e+Pi(Du()*(t-e+1))}function Cg(e,t,s,o){for(var u=-1,d=Ce(Ci((t-e)/(s||1)),0),g=C(d);d--;)g[o?d:++u]=e,e+=s;return g}function uo(e,t){var s="";if(!e||t<1||t>Dn)return s;do t%2&&(s+=e),t=Pi(t/2),t&&(e+=e);while(t);return s}function j(e,t){return To(Lc(e,t,Qe),e+"")}function Pg(e){return Bu(Vn(e))}function Tg(e,t){var s=Vn(e);return Hi(s,_n(t,0,s.length))}function Mr(e,t,s,o){if(!_e(e))return e;t=Vt(t,e);for(var u=-1,d=t.length,g=d-1,m=e;m!=null&&++u<d;){var x=At(t[u]),T=s;if(x==="__proto__"||x==="constructor"||x==="prototype")return e;if(u!=g){var A=m[x];T=o?o(A,x,m):i,T===i&&(T=_e(A)?A:Bt(t[u+1])?[]:{})}Or(m,x,T),m=m[x]}return e}var rc=Ti?function(e,t){return Ti.set(e,t),e}:Qe,Ag=Si?function(e,t){return Si(e,"toString",{configurable:!0,enumerable:!1,value:Do(t),writable:!0})}:Qe;function Rg(e){return Hi(Vn(e))}function ot(e,t,s){var o=-1,u=e.length;t<0&&(t=-t>u?0:u+t),s=s>u?u:s,s<0&&(s+=u),u=t>s?0:s-t>>>0,t>>>=0;for(var d=C(u);++o<u;)d[o]=e[o+t];return d}function Ig(e,t){var s;return Xt(e,function(o,u,d){return s=t(o,u,d),!s}),!!s}function Ni(e,t,s){var o=0,u=e==null?o:e.length;if(typeof t=="number"&&t===t&&u<=Oh){for(;o<u;){var d=o+u>>>1,g=e[d];g!==null&&!Je(g)&&(s?g<=t:g<t)?o=d+1:u=d}return u}return co(e,t,Qe,s)}function co(e,t,s,o){var u=0,d=e==null?0:e.length;if(d===0)return 0;t=s(t);for(var g=t!==t,m=t===null,x=Je(t),T=t===i;u<d;){var A=Pi((u+d)/2),E=s(e[A]),F=E!==i,B=E===null,q=E===E,V=Je(E);if(g)var H=o||q;else T?H=q&&(o||F):m?H=q&&F&&(o||!B):x?H=q&&F&&!B&&(o||!V):B||V?H=!1:H=o?E<=t:E<t;H?u=A+1:d=A}return Ne(d,Eh)}function ic(e,t){for(var s=-1,o=e.length,u=0,d=[];++s<o;){var g=e[s],m=t?t(g):g;if(!s||!_t(m,x)){var x=m;d[u++]=g===0?0:g}}return d}function sc(e){return typeof e=="number"?e:Je(e)?ii:+e}function Xe(e){if(typeof e=="string")return e;if(K(e))return pe(e,Xe)+"";if(Je(e))return ku?ku.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Jt(e,t,s){var o=-1,u=hi,d=e.length,g=!0,m=[],x=m;if(s)g=!1,u=Us;else if(d>=c){var T=t?null:Wg(e);if(T)return pi(T);g=!1,u=Pr,x=new gn}else x=t?[]:m;e:for(;++o<d;){var A=e[o],E=t?t(A):A;if(A=s||A!==0?A:0,g&&E===E){for(var F=x.length;F--;)if(x[F]===E)continue e;t&&x.push(E),m.push(A)}else u(x,E,s)||(x!==m&&x.push(E),m.push(A))}return m}function lo(e,t){return t=Vt(t,e),e=Nc(e,t),e==null||delete e[At(at(t))]}function oc(e,t,s,o){return Mr(e,t,s(vn(e,t)),o)}function Fi(e,t,s,o){for(var u=e.length,d=o?u:-1;(o?d--:++d<u)&&t(e[d],d,e););return s?ot(e,o?0:d,o?d+1:u):ot(e,o?d+1:0,o?u:d)}function ac(e,t){var s=e;return s instanceof te&&(s=s.value()),Bs(t,function(o,u){return u.func.apply(u.thisArg,Kt([o],u.args))},s)}function fo(e,t,s){var o=e.length;if(o<2)return o?Jt(e[0]):[];for(var u=-1,d=C(o);++u<o;)for(var g=e[u],m=-1;++m<o;)m!=u&&(d[u]=Lr(d[u]||g,e[m],t,s));return Jt(Oe(d,1),t,s)}function uc(e,t,s){for(var o=-1,u=e.length,d=t.length,g={};++o<u;){var m=o<d?t[o]:i;s(g,e[o],m)}return g}function ho(e){return ye(e)?e:[]}function po(e){return typeof e=="function"?e:Qe}function Vt(e,t){return K(e)?e:So(e,t)?[e]:kc(ae(e))}var Eg=j;function jt(e,t,s){var o=e.length;return s=s===i?o:s,!t&&s>=o?e:ot(e,t,s)}var cc=vp||function(e){return Ee.clearTimeout(e)};function lc(e,t){if(t)return e.slice();var s=e.length,o=Ou?Ou(s):new e.constructor(s);return e.copy(o),o}function go(e){var t=new e.constructor(e.byteLength);return new bi(t).set(new bi(e)),t}function Og(e,t){var s=t?go(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function Lg(e){var t=new e.constructor(e.source,Ka.exec(e));return t.lastIndex=e.lastIndex,t}function Ng(e){return Er?le(Er.call(e)):{}}function fc(e,t){var s=t?go(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function hc(e,t){if(e!==t){var s=e!==i,o=e===null,u=e===e,d=Je(e),g=t!==i,m=t===null,x=t===t,T=Je(t);if(!m&&!T&&!d&&e>t||d&&g&&x&&!m&&!T||o&&g&&x||!s&&x||!u)return 1;if(!o&&!d&&!T&&e<t||T&&s&&u&&!o&&!d||m&&s&&u||!g&&u||!x)return-1}return 0}function Fg(e,t,s){for(var o=-1,u=e.criteria,d=t.criteria,g=u.length,m=s.length;++o<g;){var x=hc(u[o],d[o]);if(x){if(o>=m)return x;var T=s[o];return x*(T=="desc"?-1:1)}}return e.index-t.index}function dc(e,t,s,o){for(var u=-1,d=e.length,g=s.length,m=-1,x=t.length,T=Ce(d-g,0),A=C(x+T),E=!o;++m<x;)A[m]=t[m];for(;++u<g;)(E||u<d)&&(A[s[u]]=e[u]);for(;T--;)A[m++]=e[u++];return A}function pc(e,t,s,o){for(var u=-1,d=e.length,g=-1,m=s.length,x=-1,T=t.length,A=Ce(d-m,0),E=C(A+T),F=!o;++u<A;)E[u]=e[u];for(var B=u;++x<T;)E[B+x]=t[x];for(;++g<m;)(F||u<d)&&(E[B+s[g]]=e[u++]);return E}function He(e,t){var s=-1,o=e.length;for(t||(t=C(o));++s<o;)t[s]=e[s];return t}function Tt(e,t,s,o){var u=!s;s||(s={});for(var d=-1,g=t.length;++d<g;){var m=t[d],x=o?o(s[m],e[m],m,s,e):i;x===i&&(x=e[m]),u?Dt(s,m,x):Or(s,m,x)}return s}function Mg(e,t){return Tt(e,xo(e),t)}function Dg(e,t){return Tt(e,Ac(e),t)}function Mi(e,t){return function(s,o){var u=K(s)?qd:ig,d=t?t():{};return u(s,e,W(o,2),d)}}function Yn(e){return j(function(t,s){var o=-1,u=s.length,d=u>1?s[u-1]:i,g=u>2?s[2]:i;for(d=e.length>3&&typeof d=="function"?(u--,d):i,g&&ke(s[0],s[1],g)&&(d=u<3?i:d,u=1),t=le(t);++o<u;){var m=s[o];m&&e(t,m,o,d)}return t})}function gc(e,t){return function(s,o){if(s==null)return s;if(!$e(s))return e(s,o);for(var u=s.length,d=t?u:-1,g=le(s);(t?d--:++d<u)&&o(g[d],d,g)!==!1;);return s}}function _c(e){return function(t,s,o){for(var u=-1,d=le(t),g=o(t),m=g.length;m--;){var x=g[e?m:++u];if(s(d[x],x,d)===!1)break}return t}}function kg(e,t,s){var o=t&N,u=Dr(e);function d(){var g=this&&this!==Ee&&this instanceof d?u:e;return g.apply(o?s:this,arguments)}return d}function vc(e){return function(t){t=ae(t);var s=qn(t)?pt(t):i,o=s?s[0]:t.charAt(0),u=s?jt(s,1).join(""):t.slice(1);return o[e]()+u}}function Zn(e){return function(t){return Bs(gl(pl(t).replace(Ad,"")),e,"")}}function Dr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=Kn(e.prototype),o=e.apply(s,t);return _e(o)?o:s}}function Ug(e,t,s){var o=Dr(e);function u(){for(var d=arguments.length,g=C(d),m=d,x=Xn(u);m--;)g[m]=arguments[m];var T=d<3&&g[0]!==x&&g[d-1]!==x?[]:Yt(g,x);if(d-=T.length,d<s)return xc(e,t,Di,u.placeholder,i,g,T,i,i,s-d);var A=this&&this!==Ee&&this instanceof u?o:e;return Ye(A,this,g)}return u}function mc(e){return function(t,s,o){var u=le(t);if(!$e(t)){var d=W(s,3);t=Re(t),s=function(m){return d(u[m],m,u)}}var g=e(t,s,o);return g>-1?u[d?t[g]:g]:i}}function yc(e){return Ut(function(t){var s=t.length,o=s,u=it.prototype.thru;for(e&&t.reverse();o--;){var d=t[o];if(typeof d!="function")throw new rt(p);if(u&&!g&&Wi(d)=="wrapper")var g=new it([],!0)}for(o=g?o:s;++o<s;){d=t[o];var m=Wi(d),x=m=="wrapper"?bo(d):i;x&&Co(x[0])&&x[1]==(Te|Z|se|J)&&!x[4].length&&x[9]==1?g=g[Wi(x[0])].apply(g,x[3]):g=d.length==1&&Co(d)?g[m]():g.thru(d)}return function(){var T=arguments,A=T[0];if(g&&T.length==1&&K(A))return g.plant(A).value();for(var E=0,F=s?t[E].apply(this,T):A;++E<s;)F=t[E].call(this,F);return F}})}function Di(e,t,s,o,u,d,g,m,x,T){var A=t&Te,E=t&N,F=t&U,B=t&(Z|Y),q=t&xe,V=F?i:Dr(e);function H(){for(var ee=arguments.length,ne=C(ee),Ve=ee;Ve--;)ne[Ve]=arguments[Ve];if(B)var Ue=Xn(H),je=Xd(ne,Ue);if(o&&(ne=dc(ne,o,u,B)),d&&(ne=pc(ne,d,g,B)),ee-=je,B&&ee<T){var be=Yt(ne,Ue);return xc(e,t,Di,H.placeholder,s,ne,be,m,x,T-ee)}var vt=E?s:this,Ht=F?vt[e]:e;return ee=ne.length,m?ne=i_(ne,m):q&&ee>1&&ne.reverse(),A&&x<ee&&(ne.length=x),this&&this!==Ee&&this instanceof H&&(Ht=V||Dr(Ht)),Ht.apply(vt,ne)}return H}function bc(e,t){return function(s,o){return hg(s,e,t(o),{})}}function ki(e,t){return function(s,o){var u;if(s===i&&o===i)return t;if(s!==i&&(u=s),o!==i){if(u===i)return o;typeof s=="string"||typeof o=="string"?(s=Xe(s),o=Xe(o)):(s=sc(s),o=sc(o)),u=e(s,o)}return u}}function _o(e){return Ut(function(t){return t=pe(t,Ze(W())),j(function(s){var o=this;return e(t,function(u){return Ye(u,o,s)})})})}function Ui(e,t){t=t===i?" ":Xe(t);var s=t.length;if(s<2)return s?uo(t,e):t;var o=uo(t,Ci(e/Hn(t)));return qn(t)?jt(pt(o),0,e).join(""):o.slice(0,e)}function Bg(e,t,s,o){var u=t&N,d=Dr(e);function g(){for(var m=-1,x=arguments.length,T=-1,A=o.length,E=C(A+x),F=this&&this!==Ee&&this instanceof g?d:e;++T<A;)E[T]=o[T];for(;x--;)E[T++]=arguments[++m];return Ye(F,u?s:this,E)}return g}function wc(e){return function(t,s,o){return o&&typeof o!="number"&&ke(t,s,o)&&(s=o=i),t=qt(t),s===i?(s=t,t=0):s=qt(s),o=o===i?t<s?1:-1:qt(o),Cg(t,s,o,e)}}function Bi(e){return function(t,s){return typeof t=="string"&&typeof s=="string"||(t=ut(t),s=ut(s)),e(t,s)}}function xc(e,t,s,o,u,d,g,m,x,T){var A=t&Z,E=A?g:i,F=A?i:g,B=A?d:i,q=A?i:d;t|=A?se:he,t&=~(A?he:se),t&$||(t&=-4);var V=[e,t,u,B,E,q,F,m,x,T],H=s.apply(i,V);return Co(e)&&Fc(H,V),H.placeholder=o,Mc(H,e,t)}function vo(e){var t=Se[e];return function(s,o){if(s=ut(s),o=o==null?0:Ne(X(o),292),o&&Mu(s)){var u=(ae(s)+"e").split("e"),d=t(u[0]+"e"+(+u[1]+o));return u=(ae(d)+"e").split("e"),+(u[0]+"e"+(+u[1]-o))}return t(s)}}var Wg=Qn&&1/pi(new Qn([,-0]))[1]==ri?function(e){return new Qn(e)}:Bo;function Sc(e){return function(t){var s=Fe(t);return s==ht?Gs(t):s==dt?rp(t):Zd(t,e(t))}}function kt(e,t,s,o,u,d,g,m){var x=t&U;if(!x&&typeof e!="function")throw new rt(p);var T=o?o.length:0;if(T||(t&=-97,o=u=i),g=g===i?g:Ce(X(g),0),m=m===i?m:X(m),T-=u?u.length:0,t&he){var A=o,E=u;o=u=i}var F=x?i:bo(e),B=[e,t,s,o,u,A,E,d,g,m];if(F&&t_(B,F),e=B[0],t=B[1],s=B[2],o=B[3],u=B[4],m=B[9]=B[9]===i?x?0:e.length:Ce(B[9]-T,0),!m&&t&(Z|Y)&&(t&=-25),!t||t==N)var q=kg(e,t,s);else t==Z||t==Y?q=Ug(e,t,m):(t==se||t==(N|se))&&!u.length?q=Bg(e,t,s,o):q=Di.apply(i,B);var V=F?rc:Fc;return Mc(V(q,B),e,t)}function Cc(e,t,s,o){return e===i||_t(e,zn[s])&&!ce.call(o,s)?t:e}function Pc(e,t,s,o,u,d){return _e(e)&&_e(t)&&(d.set(t,e),Li(e,t,i,Pc,d),d.delete(t)),e}function qg(e){return Br(e)?i:e}function Tc(e,t,s,o,u,d){var g=s&k,m=e.length,x=t.length;if(m!=x&&!(g&&x>m))return!1;var T=d.get(e),A=d.get(t);if(T&&A)return T==t&&A==e;var E=-1,F=!0,B=s&L?new gn:i;for(d.set(e,t),d.set(t,e);++E<m;){var q=e[E],V=t[E];if(o)var H=g?o(V,q,E,t,e,d):o(q,V,E,e,t,d);if(H!==i){if(H)continue;F=!1;break}if(B){if(!Ws(t,function(ee,ne){if(!Pr(B,ne)&&(q===ee||u(q,ee,s,o,d)))return B.push(ne)})){F=!1;break}}else if(!(q===V||u(q,V,s,o,d))){F=!1;break}}return d.delete(e),d.delete(t),F}function Hg(e,t,s,o,u,d,g){switch(s){case Un:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Cr:return!(e.byteLength!=t.byteLength||!d(new bi(e),new bi(t)));case mr:case yr:case br:return _t(+e,+t);case oi:return e.name==t.name&&e.message==t.message;case wr:case xr:return e==t+"";case ht:var m=Gs;case dt:var x=o&k;if(m||(m=pi),e.size!=t.size&&!x)return!1;var T=g.get(e);if(T)return T==t;o|=L,g.set(e,t);var A=Tc(m(e),m(t),o,u,d,g);return g.delete(e),A;case ui:if(Er)return Er.call(e)==Er.call(t)}return!1}function $g(e,t,s,o,u,d){var g=s&k,m=mo(e),x=m.length,T=mo(t),A=T.length;if(x!=A&&!g)return!1;for(var E=x;E--;){var F=m[E];if(!(g?F in t:ce.call(t,F)))return!1}var B=d.get(e),q=d.get(t);if(B&&q)return B==t&&q==e;var V=!0;d.set(e,t),d.set(t,e);for(var H=g;++E<x;){F=m[E];var ee=e[F],ne=t[F];if(o)var Ve=g?o(ne,ee,F,t,e,d):o(ee,ne,F,e,t,d);if(!(Ve===i?ee===ne||u(ee,ne,s,o,d):Ve)){V=!1;break}H||(H=F=="constructor")}if(V&&!H){var Ue=e.constructor,je=t.constructor;Ue!=je&&"constructor"in e&&"constructor"in t&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof je=="function"&&je instanceof je)&&(V=!1)}return d.delete(e),d.delete(t),V}function Ut(e){return To(Lc(e,i,qc),e+"")}function mo(e){return Gu(e,Re,xo)}function yo(e){return Gu(e,ze,Ac)}var bo=Ti?function(e){return Ti.get(e)}:Bo;function Wi(e){for(var t=e.name+"",s=Gn[t],o=ce.call(Gn,t)?s.length:0;o--;){var u=s[o],d=u.func;if(d==null||d==e)return u.name}return t}function Xn(e){var t=ce.call(h,"placeholder")?h:e;return t.placeholder}function W(){var e=h.iteratee||ko;return e=e===ko?Zu:e,arguments.length?e(arguments[0],arguments[1]):e}function qi(e,t){var s=e.__data__;return Jg(t)?s[typeof t=="string"?"string":"hash"]:s.map}function wo(e){for(var t=Re(e),s=t.length;s--;){var o=t[s],u=e[o];t[s]=[o,u,Ec(u)]}return t}function mn(e,t){var s=ep(e,t);return Yu(s)?s:i}function zg(e){var t=ce.call(e,dn),s=e[dn];try{e[dn]=i;var o=!0}catch{}var u=mi.call(e);return o&&(t?e[dn]=s:delete e[dn]),u}var xo=Ys?function(e){return e==null?[]:(e=le(e),Gt(Ys(e),function(t){return Nu.call(e,t)}))}:Wo,Ac=Ys?function(e){for(var t=[];e;)Kt(t,xo(e)),e=wi(e);return t}:Wo,Fe=De;(Zs&&Fe(new Zs(new ArrayBuffer(1)))!=Un||Ar&&Fe(new Ar)!=ht||Xs&&Fe(Xs.resolve())!=$a||Qn&&Fe(new Qn)!=dt||Rr&&Fe(new Rr)!=Sr)&&(Fe=function(e){var t=De(e),s=t==Nt?e.constructor:i,o=s?yn(s):"";if(o)switch(o){case Tp:return Un;case Ap:return ht;case Rp:return $a;case Ip:return dt;case Ep:return Sr}return t});function Qg(e,t,s){for(var o=-1,u=s.length;++o<u;){var d=s[o],g=d.size;switch(d.type){case"drop":e+=g;break;case"dropRight":t-=g;break;case"take":t=Ne(t,e+g);break;case"takeRight":e=Ce(e,t-g);break}}return{start:e,end:t}}function Gg(e){var t=e.match(Vh);return t?t[1].split(jh):[]}function Rc(e,t,s){t=Vt(t,e);for(var o=-1,u=t.length,d=!1;++o<u;){var g=At(t[o]);if(!(d=e!=null&&s(e,g)))break;e=e[g]}return d||++o!=u?d:(u=e==null?0:e.length,!!u&&Yi(u)&&Bt(g,u)&&(K(e)||bn(e)))}function Kg(e){var t=e.length,s=new e.constructor(t);return t&&typeof e[0]=="string"&&ce.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function Ic(e){return typeof e.constructor=="function"&&!kr(e)?Kn(wi(e)):{}}function Yg(e,t,s){var o=e.constructor;switch(t){case Cr:return go(e);case mr:case yr:return new o(+e);case Un:return Og(e,s);case bs:case ws:case xs:case Ss:case Cs:case Ps:case Ts:case As:case Rs:return fc(e,s);case ht:return new o;case br:case xr:return new o(e);case wr:return Lg(e);case dt:return new o;case ui:return Ng(e)}}function Zg(e,t){var s=t.length;if(!s)return e;var o=s-1;return t[o]=(s>1?"& ":"")+t[o],t=t.join(s>2?", ":" "),e.replace(Jh,`{
/* [wrapped with `+t+`] */
`)}function Xg(e){return K(e)||bn(e)||!!(Fu&&e&&e[Fu])}function Bt(e,t){var s=typeof e;return t=t??Dn,!!t&&(s=="number"||s!="symbol"&&ud.test(e))&&e>-1&&e%1==0&&e<t}function ke(e,t,s){if(!_e(s))return!1;var o=typeof t;return(o=="number"?$e(s)&&Bt(t,s.length):o=="string"&&t in s)?_t(s[t],e):!1}function So(e,t){if(K(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||Je(e)?!0:Kh.test(e)||!Gh.test(e)||t!=null&&e in le(t)}function Jg(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Co(e){var t=Wi(e),s=h[t];if(typeof s!="function"||!(t in te.prototype))return!1;if(e===s)return!0;var o=bo(s);return!!o&&e===o[0]}function Vg(e){return!!Eu&&Eu in e}var jg=_i?Wt:qo;function kr(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||zn;return e===s}function Ec(e){return e===e&&!_e(e)}function Oc(e,t){return function(s){return s==null?!1:s[e]===t&&(t!==i||e in le(s))}}function e_(e){var t=Gi(e,function(o){return s.size===S&&s.clear(),o}),s=t.cache;return t}function t_(e,t){var s=e[1],o=t[1],u=s|o,d=u<(N|U|Te),g=o==Te&&s==Z||o==Te&&s==J&&e[7].length<=t[8]||o==(Te|J)&&t[7].length<=t[8]&&s==Z;if(!(d||g))return e;o&N&&(e[2]=t[2],u|=s&N?0:$);var m=t[3];if(m){var x=e[3];e[3]=x?dc(x,m,t[4]):m,e[4]=x?Yt(e[3],R):t[4]}return m=t[5],m&&(x=e[5],e[5]=x?pc(x,m,t[6]):m,e[6]=x?Yt(e[5],R):t[6]),m=t[7],m&&(e[7]=m),o&Te&&(e[8]=e[8]==null?t[8]:Ne(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}function n_(e){var t=[];if(e!=null)for(var s in le(e))t.push(s);return t}function r_(e){return mi.call(e)}function Lc(e,t,s){return t=Ce(t===i?e.length-1:t,0),function(){for(var o=arguments,u=-1,d=Ce(o.length-t,0),g=C(d);++u<d;)g[u]=o[t+u];u=-1;for(var m=C(t+1);++u<t;)m[u]=o[u];return m[t]=s(g),Ye(e,this,m)}}function Nc(e,t){return t.length<2?e:vn(e,ot(t,0,-1))}function i_(e,t){for(var s=e.length,o=Ne(t.length,s),u=He(e);o--;){var d=t[o];e[o]=Bt(d,s)?u[d]:i}return e}function Po(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Fc=Dc(rc),Ur=yp||function(e,t){return Ee.setTimeout(e,t)},To=Dc(Ag);function Mc(e,t,s){var o=t+"";return To(e,Zg(o,s_(Gg(o),s)))}function Dc(e){var t=0,s=0;return function(){var o=Sp(),u=Mn-(o-s);if(s=o,u>0){if(++t>=qe)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Hi(e,t){var s=-1,o=e.length,u=o-1;for(t=t===i?o:t;++s<t;){var d=ao(s,u),g=e[d];e[d]=e[s],e[s]=g}return e.length=t,e}var kc=e_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yh,function(s,o,u,d){t.push(u?d.replace(nd,"$1"):o||s)}),t});function At(e){if(typeof e=="string"||Je(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function yn(e){if(e!=null){try{return vi.call(e)}catch{}try{return e+""}catch{}}return""}function s_(e,t){return nt(Lh,function(s){var o="_."+s[0];t&s[1]&&!hi(e,o)&&e.push(o)}),e.sort()}function Uc(e){if(e instanceof te)return e.clone();var t=new it(e.__wrapped__,e.__chain__);return t.__actions__=He(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function o_(e,t,s){(s?ke(e,t,s):t===i)?t=1:t=Ce(X(t),0);var o=e==null?0:e.length;if(!o||t<1)return[];for(var u=0,d=0,g=C(Ci(o/t));u<o;)g[d++]=ot(e,u,u+=t);return g}function a_(e){for(var t=-1,s=e==null?0:e.length,o=0,u=[];++t<s;){var d=e[t];d&&(u[o++]=d)}return u}function u_(){var e=arguments.length;if(!e)return[];for(var t=C(e-1),s=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Kt(K(s)?He(s):[s],Oe(t,1))}var c_=j(function(e,t){return ye(e)?Lr(e,Oe(t,1,ye,!0)):[]}),l_=j(function(e,t){var s=at(t);return ye(s)&&(s=i),ye(e)?Lr(e,Oe(t,1,ye,!0),W(s,2)):[]}),f_=j(function(e,t){var s=at(t);return ye(s)&&(s=i),ye(e)?Lr(e,Oe(t,1,ye,!0),i,s):[]});function h_(e,t,s){var o=e==null?0:e.length;return o?(t=s||t===i?1:X(t),ot(e,t<0?0:t,o)):[]}function d_(e,t,s){var o=e==null?0:e.length;return o?(t=s||t===i?1:X(t),t=o-t,ot(e,0,t<0?0:t)):[]}function p_(e,t){return e&&e.length?Fi(e,W(t,3),!0,!0):[]}function g_(e,t){return e&&e.length?Fi(e,W(t,3),!0):[]}function __(e,t,s,o){var u=e==null?0:e.length;return u?(s&&typeof s!="number"&&ke(e,t,s)&&(s=0,o=u),ug(e,t,s,o)):[]}function Bc(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var u=s==null?0:X(s);return u<0&&(u=Ce(o+u,0)),di(e,W(t,3),u)}function Wc(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var u=o-1;return s!==i&&(u=X(s),u=s<0?Ce(o+u,0):Ne(u,o-1)),di(e,W(t,3),u,!0)}function qc(e){var t=e==null?0:e.length;return t?Oe(e,1):[]}function v_(e){var t=e==null?0:e.length;return t?Oe(e,ri):[]}function m_(e,t){var s=e==null?0:e.length;return s?(t=t===i?1:X(t),Oe(e,t)):[]}function y_(e){for(var t=-1,s=e==null?0:e.length,o={};++t<s;){var u=e[t];o[u[0]]=u[1]}return o}function Hc(e){return e&&e.length?e[0]:i}function b_(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var u=s==null?0:X(s);return u<0&&(u=Ce(o+u,0)),Wn(e,t,u)}function w_(e){var t=e==null?0:e.length;return t?ot(e,0,-1):[]}var x_=j(function(e){var t=pe(e,ho);return t.length&&t[0]===e[0]?no(t):[]}),S_=j(function(e){var t=at(e),s=pe(e,ho);return t===at(s)?t=i:s.pop(),s.length&&s[0]===e[0]?no(s,W(t,2)):[]}),C_=j(function(e){var t=at(e),s=pe(e,ho);return t=typeof t=="function"?t:i,t&&s.pop(),s.length&&s[0]===e[0]?no(s,i,t):[]});function P_(e,t){return e==null?"":wp.call(e,t)}function at(e){var t=e==null?0:e.length;return t?e[t-1]:i}function T_(e,t,s){var o=e==null?0:e.length;if(!o)return-1;var u=o;return s!==i&&(u=X(s),u=u<0?Ce(o+u,0):Ne(u,o-1)),t===t?sp(e,t,u):di(e,xu,u,!0)}function A_(e,t){return e&&e.length?ju(e,X(t)):i}var R_=j($c);function $c(e,t){return e&&e.length&&t&&t.length?oo(e,t):e}function I_(e,t,s){return e&&e.length&&t&&t.length?oo(e,t,W(s,2)):e}function E_(e,t,s){return e&&e.length&&t&&t.length?oo(e,t,i,s):e}var O_=Ut(function(e,t){var s=e==null?0:e.length,o=Vs(e,t);return nc(e,pe(t,function(u){return Bt(u,s)?+u:u}).sort(hc)),o});function L_(e,t){var s=[];if(!(e&&e.length))return s;var o=-1,u=[],d=e.length;for(t=W(t,3);++o<d;){var g=e[o];t(g,o,e)&&(s.push(g),u.push(o))}return nc(e,u),s}function Ao(e){return e==null?e:Pp.call(e)}function N_(e,t,s){var o=e==null?0:e.length;return o?(s&&typeof s!="number"&&ke(e,t,s)?(t=0,s=o):(t=t==null?0:X(t),s=s===i?o:X(s)),ot(e,t,s)):[]}function F_(e,t){return Ni(e,t)}function M_(e,t,s){return co(e,t,W(s,2))}function D_(e,t){var s=e==null?0:e.length;if(s){var o=Ni(e,t);if(o<s&&_t(e[o],t))return o}return-1}function k_(e,t){return Ni(e,t,!0)}function U_(e,t,s){return co(e,t,W(s,2),!0)}function B_(e,t){var s=e==null?0:e.length;if(s){var o=Ni(e,t,!0)-1;if(_t(e[o],t))return o}return-1}function W_(e){return e&&e.length?ic(e):[]}function q_(e,t){return e&&e.length?ic(e,W(t,2)):[]}function H_(e){var t=e==null?0:e.length;return t?ot(e,1,t):[]}function $_(e,t,s){return e&&e.length?(t=s||t===i?1:X(t),ot(e,0,t<0?0:t)):[]}function z_(e,t,s){var o=e==null?0:e.length;return o?(t=s||t===i?1:X(t),t=o-t,ot(e,t<0?0:t,o)):[]}function Q_(e,t){return e&&e.length?Fi(e,W(t,3),!1,!0):[]}function G_(e,t){return e&&e.length?Fi(e,W(t,3)):[]}var K_=j(function(e){return Jt(Oe(e,1,ye,!0))}),Y_=j(function(e){var t=at(e);return ye(t)&&(t=i),Jt(Oe(e,1,ye,!0),W(t,2))}),Z_=j(function(e){var t=at(e);return t=typeof t=="function"?t:i,Jt(Oe(e,1,ye,!0),i,t)});function X_(e){return e&&e.length?Jt(e):[]}function J_(e,t){return e&&e.length?Jt(e,W(t,2)):[]}function V_(e,t){return t=typeof t=="function"?t:i,e&&e.length?Jt(e,i,t):[]}function Ro(e){if(!(e&&e.length))return[];var t=0;return e=Gt(e,function(s){if(ye(s))return t=Ce(s.length,t),!0}),zs(t,function(s){return pe(e,qs(s))})}function zc(e,t){if(!(e&&e.length))return[];var s=Ro(e);return t==null?s:pe(s,function(o){return Ye(t,i,o)})}var j_=j(function(e,t){return ye(e)?Lr(e,t):[]}),ev=j(function(e){return fo(Gt(e,ye))}),tv=j(function(e){var t=at(e);return ye(t)&&(t=i),fo(Gt(e,ye),W(t,2))}),nv=j(function(e){var t=at(e);return t=typeof t=="function"?t:i,fo(Gt(e,ye),i,t)}),rv=j(Ro);function iv(e,t){return uc(e||[],t||[],Or)}function sv(e,t){return uc(e||[],t||[],Mr)}var ov=j(function(e){var t=e.length,s=t>1?e[t-1]:i;return s=typeof s=="function"?(e.pop(),s):i,zc(e,s)});function Qc(e){var t=h(e);return t.__chain__=!0,t}function av(e,t){return t(e),e}function $i(e,t){return t(e)}var uv=Ut(function(e){var t=e.length,s=t?e[0]:0,o=this.__wrapped__,u=function(d){return Vs(d,e)};return t>1||this.__actions__.length||!(o instanceof te)||!Bt(s)?this.thru(u):(o=o.slice(s,+s+(t?1:0)),o.__actions__.push({func:$i,args:[u],thisArg:i}),new it(o,this.__chain__).thru(function(d){return t&&!d.length&&d.push(i),d}))});function cv(){return Qc(this)}function lv(){return new it(this.value(),this.__chain__)}function fv(){this.__values__===i&&(this.__values__=sl(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function hv(){return this}function dv(e){for(var t,s=this;s instanceof Ri;){var o=Uc(s);o.__index__=0,o.__values__=i,t?u.__wrapped__=o:t=o;var u=o;s=s.__wrapped__}return u.__wrapped__=e,t}function pv(){var e=this.__wrapped__;if(e instanceof te){var t=e;return this.__actions__.length&&(t=new te(this)),t=t.reverse(),t.__actions__.push({func:$i,args:[Ao],thisArg:i}),new it(t,this.__chain__)}return this.thru(Ao)}function gv(){return ac(this.__wrapped__,this.__actions__)}var _v=Mi(function(e,t,s){ce.call(e,s)?++e[s]:Dt(e,s,1)});function vv(e,t,s){var o=K(e)?bu:ag;return s&&ke(e,t,s)&&(t=i),o(e,W(t,3))}function mv(e,t){var s=K(e)?Gt:zu;return s(e,W(t,3))}var yv=mc(Bc),bv=mc(Wc);function wv(e,t){return Oe(zi(e,t),1)}function xv(e,t){return Oe(zi(e,t),ri)}function Sv(e,t,s){return s=s===i?1:X(s),Oe(zi(e,t),s)}function Gc(e,t){var s=K(e)?nt:Xt;return s(e,W(t,3))}function Kc(e,t){var s=K(e)?Hd:$u;return s(e,W(t,3))}var Cv=Mi(function(e,t,s){ce.call(e,s)?e[s].push(t):Dt(e,s,[t])});function Pv(e,t,s,o){e=$e(e)?e:Vn(e),s=s&&!o?X(s):0;var u=e.length;return s<0&&(s=Ce(u+s,0)),Zi(e)?s<=u&&e.indexOf(t,s)>-1:!!u&&Wn(e,t,s)>-1}var Tv=j(function(e,t,s){var o=-1,u=typeof t=="function",d=$e(e)?C(e.length):[];return Xt(e,function(g){d[++o]=u?Ye(t,g,s):Nr(g,t,s)}),d}),Av=Mi(function(e,t,s){Dt(e,s,t)});function zi(e,t){var s=K(e)?pe:Xu;return s(e,W(t,3))}function Rv(e,t,s,o){return e==null?[]:(K(t)||(t=t==null?[]:[t]),s=o?i:s,K(s)||(s=s==null?[]:[s]),ec(e,t,s))}var Iv=Mi(function(e,t,s){e[s?0:1].push(t)},function(){return[[],[]]});function Ev(e,t,s){var o=K(e)?Bs:Cu,u=arguments.length<3;return o(e,W(t,4),s,u,Xt)}function Ov(e,t,s){var o=K(e)?$d:Cu,u=arguments.length<3;return o(e,W(t,4),s,u,$u)}function Lv(e,t){var s=K(e)?Gt:zu;return s(e,Ki(W(t,3)))}function Nv(e){var t=K(e)?Bu:Pg;return t(e)}function Fv(e,t,s){(s?ke(e,t,s):t===i)?t=1:t=X(t);var o=K(e)?ng:Tg;return o(e,t)}function Mv(e){var t=K(e)?rg:Rg;return t(e)}function Dv(e){if(e==null)return 0;if($e(e))return Zi(e)?Hn(e):e.length;var t=Fe(e);return t==ht||t==dt?e.size:io(e).length}function kv(e,t,s){var o=K(e)?Ws:Ig;return s&&ke(e,t,s)&&(t=i),o(e,W(t,3))}var Uv=j(function(e,t){if(e==null)return[];var s=t.length;return s>1&&ke(e,t[0],t[1])?t=[]:s>2&&ke(t[0],t[1],t[2])&&(t=[t[0]]),ec(e,Oe(t,1),[])}),Qi=mp||function(){return Ee.Date.now()};function Bv(e,t){if(typeof t!="function")throw new rt(p);return e=X(e),function(){if(--e<1)return t.apply(this,arguments)}}function Yc(e,t,s){return t=s?i:t,t=e&&t==null?e.length:t,kt(e,Te,i,i,i,i,t)}function Zc(e,t){var s;if(typeof t!="function")throw new rt(p);return e=X(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=i),s}}var Io=j(function(e,t,s){var o=N;if(s.length){var u=Yt(s,Xn(Io));o|=se}return kt(e,o,t,s,u)}),Xc=j(function(e,t,s){var o=N|U;if(s.length){var u=Yt(s,Xn(Xc));o|=se}return kt(t,o,e,s,u)});function Jc(e,t,s){t=s?i:t;var o=kt(e,Z,i,i,i,i,i,t);return o.placeholder=Jc.placeholder,o}function Vc(e,t,s){t=s?i:t;var o=kt(e,Y,i,i,i,i,i,t);return o.placeholder=Vc.placeholder,o}function jc(e,t,s){var o,u,d,g,m,x,T=0,A=!1,E=!1,F=!0;if(typeof e!="function")throw new rt(p);t=ut(t)||0,_e(s)&&(A=!!s.leading,E="maxWait"in s,d=E?Ce(ut(s.maxWait)||0,t):d,F="trailing"in s?!!s.trailing:F);function B(be){var vt=o,Ht=u;return o=u=i,T=be,g=e.apply(Ht,vt),g}function q(be){return T=be,m=Ur(ee,t),A?B(be):g}function V(be){var vt=be-x,Ht=be-T,ml=t-vt;return E?Ne(ml,d-Ht):ml}function H(be){var vt=be-x,Ht=be-T;return x===i||vt>=t||vt<0||E&&Ht>=d}function ee(){var be=Qi();if(H(be))return ne(be);m=Ur(ee,V(be))}function ne(be){return m=i,F&&o?B(be):(o=u=i,g)}function Ve(){m!==i&&cc(m),T=0,o=x=u=m=i}function Ue(){return m===i?g:ne(Qi())}function je(){var be=Qi(),vt=H(be);if(o=arguments,u=this,x=be,vt){if(m===i)return q(x);if(E)return cc(m),m=Ur(ee,t),B(x)}return m===i&&(m=Ur(ee,t)),g}return je.cancel=Ve,je.flush=Ue,je}var Wv=j(function(e,t){return Hu(e,1,t)}),qv=j(function(e,t,s){return Hu(e,ut(t)||0,s)});function Hv(e){return kt(e,xe)}function Gi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new rt(p);var s=function(){var o=arguments,u=t?t.apply(this,o):o[0],d=s.cache;if(d.has(u))return d.get(u);var g=e.apply(this,o);return s.cache=d.set(u,g)||d,g};return s.cache=new(Gi.Cache||Mt),s}Gi.Cache=Mt;function Ki(e){if(typeof e!="function")throw new rt(p);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function $v(e){return Zc(2,e)}var zv=Eg(function(e,t){t=t.length==1&&K(t[0])?pe(t[0],Ze(W())):pe(Oe(t,1),Ze(W()));var s=t.length;return j(function(o){for(var u=-1,d=Ne(o.length,s);++u<d;)o[u]=t[u].call(this,o[u]);return Ye(e,this,o)})}),Eo=j(function(e,t){var s=Yt(t,Xn(Eo));return kt(e,se,i,t,s)}),el=j(function(e,t){var s=Yt(t,Xn(el));return kt(e,he,i,t,s)}),Qv=Ut(function(e,t){return kt(e,J,i,i,i,t)});function Gv(e,t){if(typeof e!="function")throw new rt(p);return t=t===i?t:X(t),j(e,t)}function Kv(e,t){if(typeof e!="function")throw new rt(p);return t=t==null?0:Ce(X(t),0),j(function(s){var o=s[t],u=jt(s,0,t);return o&&Kt(u,o),Ye(e,this,u)})}function Yv(e,t,s){var o=!0,u=!0;if(typeof e!="function")throw new rt(p);return _e(s)&&(o="leading"in s?!!s.leading:o,u="trailing"in s?!!s.trailing:u),jc(e,t,{leading:o,maxWait:t,trailing:u})}function Zv(e){return Yc(e,1)}function Xv(e,t){return Eo(po(t),e)}function Jv(){if(!arguments.length)return[];var e=arguments[0];return K(e)?e:[e]}function Vv(e){return st(e,I)}function jv(e,t){return t=typeof t=="function"?t:i,st(e,I,t)}function em(e){return st(e,y|I)}function tm(e,t){return t=typeof t=="function"?t:i,st(e,y|I,t)}function nm(e,t){return t==null||qu(e,t,Re(t))}function _t(e,t){return e===t||e!==e&&t!==t}var rm=Bi(to),im=Bi(function(e,t){return e>=t}),bn=Ku(function(){return arguments}())?Ku:function(e){return ve(e)&&ce.call(e,"callee")&&!Nu.call(e,"callee")},K=C.isArray,sm=pu?Ze(pu):dg;function $e(e){return e!=null&&Yi(e.length)&&!Wt(e)}function ye(e){return ve(e)&&$e(e)}function om(e){return e===!0||e===!1||ve(e)&&De(e)==mr}var en=bp||qo,am=gu?Ze(gu):pg;function um(e){return ve(e)&&e.nodeType===1&&!Br(e)}function cm(e){if(e==null)return!0;if($e(e)&&(K(e)||typeof e=="string"||typeof e.splice=="function"||en(e)||Jn(e)||bn(e)))return!e.length;var t=Fe(e);if(t==ht||t==dt)return!e.size;if(kr(e))return!io(e).length;for(var s in e)if(ce.call(e,s))return!1;return!0}function lm(e,t){return Fr(e,t)}function fm(e,t,s){s=typeof s=="function"?s:i;var o=s?s(e,t):i;return o===i?Fr(e,t,i,s):!!o}function Oo(e){if(!ve(e))return!1;var t=De(e);return t==oi||t==Fh||typeof e.message=="string"&&typeof e.name=="string"&&!Br(e)}function hm(e){return typeof e=="number"&&Mu(e)}function Wt(e){if(!_e(e))return!1;var t=De(e);return t==ai||t==Ha||t==Nh||t==Dh}function tl(e){return typeof e=="number"&&e==X(e)}function Yi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dn}function _e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ve(e){return e!=null&&typeof e=="object"}var nl=_u?Ze(_u):_g;function dm(e,t){return e===t||ro(e,t,wo(t))}function pm(e,t,s){return s=typeof s=="function"?s:i,ro(e,t,wo(t),s)}function gm(e){return rl(e)&&e!=+e}function _m(e){if(jg(e))throw new Q(f);return Yu(e)}function vm(e){return e===null}function mm(e){return e==null}function rl(e){return typeof e=="number"||ve(e)&&De(e)==br}function Br(e){if(!ve(e)||De(e)!=Nt)return!1;var t=wi(e);if(t===null)return!0;var s=ce.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&vi.call(s)==pp}var Lo=vu?Ze(vu):vg;function ym(e){return tl(e)&&e>=-9007199254740991&&e<=Dn}var il=mu?Ze(mu):mg;function Zi(e){return typeof e=="string"||!K(e)&&ve(e)&&De(e)==xr}function Je(e){return typeof e=="symbol"||ve(e)&&De(e)==ui}var Jn=yu?Ze(yu):yg;function bm(e){return e===i}function wm(e){return ve(e)&&Fe(e)==Sr}function xm(e){return ve(e)&&De(e)==Uh}var Sm=Bi(so),Cm=Bi(function(e,t){return e<=t});function sl(e){if(!e)return[];if($e(e))return Zi(e)?pt(e):He(e);if(Tr&&e[Tr])return np(e[Tr]());var t=Fe(e),s=t==ht?Gs:t==dt?pi:Vn;return s(e)}function qt(e){if(!e)return e===0?e:0;if(e=ut(e),e===ri||e===-1/0){var t=e<0?-1:1;return t*Ih}return e===e?e:0}function X(e){var t=qt(e),s=t%1;return t===t?s?t-s:t:0}function ol(e){return e?_n(X(e),0,Ct):0}function ut(e){if(typeof e=="number")return e;if(Je(e))return ii;if(_e(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_e(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Pu(e);var s=sd.test(e);return s||ad.test(e)?Bd(e.slice(2),s?2:8):id.test(e)?ii:+e}function al(e){return Tt(e,ze(e))}function Pm(e){return e?_n(X(e),-9007199254740991,Dn):e===0?e:0}function ae(e){return e==null?"":Xe(e)}var Tm=Yn(function(e,t){if(kr(t)||$e(t)){Tt(t,Re(t),e);return}for(var s in t)ce.call(t,s)&&Or(e,s,t[s])}),ul=Yn(function(e,t){Tt(t,ze(t),e)}),Xi=Yn(function(e,t,s,o){Tt(t,ze(t),e,o)}),Am=Yn(function(e,t,s,o){Tt(t,Re(t),e,o)}),Rm=Ut(Vs);function Im(e,t){var s=Kn(e);return t==null?s:Wu(s,t)}var Em=j(function(e,t){e=le(e);var s=-1,o=t.length,u=o>2?t[2]:i;for(u&&ke(t[0],t[1],u)&&(o=1);++s<o;)for(var d=t[s],g=ze(d),m=-1,x=g.length;++m<x;){var T=g[m],A=e[T];(A===i||_t(A,zn[T])&&!ce.call(e,T))&&(e[T]=d[T])}return e}),Om=j(function(e){return e.push(i,Pc),Ye(cl,i,e)});function Lm(e,t){return wu(e,W(t,3),Pt)}function Nm(e,t){return wu(e,W(t,3),eo)}function Fm(e,t){return e==null?e:js(e,W(t,3),ze)}function Mm(e,t){return e==null?e:Qu(e,W(t,3),ze)}function Dm(e,t){return e&&Pt(e,W(t,3))}function km(e,t){return e&&eo(e,W(t,3))}function Um(e){return e==null?[]:Oi(e,Re(e))}function Bm(e){return e==null?[]:Oi(e,ze(e))}function No(e,t,s){var o=e==null?i:vn(e,t);return o===i?s:o}function Wm(e,t){return e!=null&&Rc(e,t,cg)}function Fo(e,t){return e!=null&&Rc(e,t,lg)}var qm=bc(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=mi.call(t)),e[t]=s},Do(Qe)),Hm=bc(function(e,t,s){t!=null&&typeof t.toString!="function"&&(t=mi.call(t)),ce.call(e,t)?e[t].push(s):e[t]=[s]},W),$m=j(Nr);function Re(e){return $e(e)?Uu(e):io(e)}function ze(e){return $e(e)?Uu(e,!0):bg(e)}function zm(e,t){var s={};return t=W(t,3),Pt(e,function(o,u,d){Dt(s,t(o,u,d),o)}),s}function Qm(e,t){var s={};return t=W(t,3),Pt(e,function(o,u,d){Dt(s,u,t(o,u,d))}),s}var Gm=Yn(function(e,t,s){Li(e,t,s)}),cl=Yn(function(e,t,s,o){Li(e,t,s,o)}),Km=Ut(function(e,t){var s={};if(e==null)return s;var o=!1;t=pe(t,function(d){return d=Vt(d,e),o||(o=d.length>1),d}),Tt(e,yo(e),s),o&&(s=st(s,y|O|I,qg));for(var u=t.length;u--;)lo(s,t[u]);return s});function Ym(e,t){return ll(e,Ki(W(t)))}var Zm=Ut(function(e,t){return e==null?{}:xg(e,t)});function ll(e,t){if(e==null)return{};var s=pe(yo(e),function(o){return[o]});return t=W(t),tc(e,s,function(o,u){return t(o,u[0])})}function Xm(e,t,s){t=Vt(t,e);var o=-1,u=t.length;for(u||(u=1,e=i);++o<u;){var d=e==null?i:e[At(t[o])];d===i&&(o=u,d=s),e=Wt(d)?d.call(e):d}return e}function Jm(e,t,s){return e==null?e:Mr(e,t,s)}function Vm(e,t,s,o){return o=typeof o=="function"?o:i,e==null?e:Mr(e,t,s,o)}var fl=Sc(Re),hl=Sc(ze);function jm(e,t,s){var o=K(e),u=o||en(e)||Jn(e);if(t=W(t,4),s==null){var d=e&&e.constructor;u?s=o?new d:[]:_e(e)?s=Wt(d)?Kn(wi(e)):{}:s={}}return(u?nt:Pt)(e,function(g,m,x){return t(s,g,m,x)}),s}function e0(e,t){return e==null?!0:lo(e,t)}function t0(e,t,s){return e==null?e:oc(e,t,po(s))}function n0(e,t,s,o){return o=typeof o=="function"?o:i,e==null?e:oc(e,t,po(s),o)}function Vn(e){return e==null?[]:Qs(e,Re(e))}function r0(e){return e==null?[]:Qs(e,ze(e))}function i0(e,t,s){return s===i&&(s=t,t=i),s!==i&&(s=ut(s),s=s===s?s:0),t!==i&&(t=ut(t),t=t===t?t:0),_n(ut(e),t,s)}function s0(e,t,s){return t=qt(t),s===i?(s=t,t=0):s=qt(s),e=ut(e),fg(e,t,s)}function o0(e,t,s){if(s&&typeof s!="boolean"&&ke(e,t,s)&&(t=s=i),s===i&&(typeof t=="boolean"?(s=t,t=i):typeof e=="boolean"&&(s=e,e=i)),e===i&&t===i?(e=0,t=1):(e=qt(e),t===i?(t=e,e=0):t=qt(t)),e>t){var o=e;e=t,t=o}if(s||e%1||t%1){var u=Du();return Ne(e+u*(t-e+Ud("1e-"+((u+"").length-1))),t)}return ao(e,t)}var a0=Zn(function(e,t,s){return t=t.toLowerCase(),e+(s?dl(t):t)});function dl(e){return Mo(ae(e).toLowerCase())}function pl(e){return e=ae(e),e&&e.replace(cd,Jd).replace(Rd,"")}function u0(e,t,s){e=ae(e),t=Xe(t);var o=e.length;s=s===i?o:_n(X(s),0,o);var u=s;return s-=t.length,s>=0&&e.slice(s,u)==t}function c0(e){return e=ae(e),e&&$h.test(e)?e.replace(Qa,Vd):e}function l0(e){return e=ae(e),e&&Zh.test(e)?e.replace(Is,"\\$&"):e}var f0=Zn(function(e,t,s){return e+(s?"-":"")+t.toLowerCase()}),h0=Zn(function(e,t,s){return e+(s?" ":"")+t.toLowerCase()}),d0=vc("toLowerCase");function p0(e,t,s){e=ae(e),t=X(t);var o=t?Hn(e):0;if(!t||o>=t)return e;var u=(t-o)/2;return Ui(Pi(u),s)+e+Ui(Ci(u),s)}function g0(e,t,s){e=ae(e),t=X(t);var o=t?Hn(e):0;return t&&o<t?e+Ui(t-o,s):e}function _0(e,t,s){e=ae(e),t=X(t);var o=t?Hn(e):0;return t&&o<t?Ui(t-o,s)+e:e}function v0(e,t,s){return s||t==null?t=0:t&&(t=+t),Cp(ae(e).replace(Es,""),t||0)}function m0(e,t,s){return(s?ke(e,t,s):t===i)?t=1:t=X(t),uo(ae(e),t)}function y0(){var e=arguments,t=ae(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var b0=Zn(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()});function w0(e,t,s){return s&&typeof s!="number"&&ke(e,t,s)&&(t=s=i),s=s===i?Ct:s>>>0,s?(e=ae(e),e&&(typeof t=="string"||t!=null&&!Lo(t))&&(t=Xe(t),!t&&qn(e))?jt(pt(e),0,s):e.split(t,s)):[]}var x0=Zn(function(e,t,s){return e+(s?" ":"")+Mo(t)});function S0(e,t,s){return e=ae(e),s=s==null?0:_n(X(s),0,e.length),t=Xe(t),e.slice(s,s+t.length)==t}function C0(e,t,s){var o=h.templateSettings;s&&ke(e,t,s)&&(t=i),e=ae(e),t=Xi({},t,o,Cc);var u=Xi({},t.imports,o.imports,Cc),d=Re(u),g=Qs(u,d),m,x,T=0,A=t.interpolate||ci,E="__p += '",F=Ks((t.escape||ci).source+"|"+A.source+"|"+(A===Ga?rd:ci).source+"|"+(t.evaluate||ci).source+"|$","g"),B="//# sourceURL="+(ce.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Nd+"]")+`
`;e.replace(F,function(H,ee,ne,Ve,Ue,je){return ne||(ne=Ve),E+=e.slice(T,je).replace(ld,jd),ee&&(m=!0,E+=`' +
__e(`+ee+`) +
'`),Ue&&(x=!0,E+=`';
`+Ue+`;
__p += '`),ne&&(E+=`' +
((__t = (`+ne+`)) == null ? '' : __t) +
'`),T=je+H.length,H}),E+=`';
`;var q=ce.call(t,"variable")&&t.variable;if(!q)E=`with (obj) {
`+E+`
}
`;else if(td.test(q))throw new Q(_);E=(x?E.replace(Bh,""):E).replace(Wh,"$1").replace(qh,"$1;"),E="function("+(q||"obj")+`) {
`+(q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+E+`return __p
}`;var V=_l(function(){return oe(d,B+"return "+E).apply(i,g)});if(V.source=E,Oo(V))throw V;return V}function P0(e){return ae(e).toLowerCase()}function T0(e){return ae(e).toUpperCase()}function A0(e,t,s){if(e=ae(e),e&&(s||t===i))return Pu(e);if(!e||!(t=Xe(t)))return e;var o=pt(e),u=pt(t),d=Tu(o,u),g=Au(o,u)+1;return jt(o,d,g).join("")}function R0(e,t,s){if(e=ae(e),e&&(s||t===i))return e.slice(0,Iu(e)+1);if(!e||!(t=Xe(t)))return e;var o=pt(e),u=Au(o,pt(t))+1;return jt(o,0,u).join("")}function I0(e,t,s){if(e=ae(e),e&&(s||t===i))return e.replace(Es,"");if(!e||!(t=Xe(t)))return e;var o=pt(e),u=Tu(o,pt(t));return jt(o,u).join("")}function E0(e,t){var s=Ae,o=Ie;if(_e(t)){var u="separator"in t?t.separator:u;s="length"in t?X(t.length):s,o="omission"in t?Xe(t.omission):o}e=ae(e);var d=e.length;if(qn(e)){var g=pt(e);d=g.length}if(s>=d)return e;var m=s-Hn(o);if(m<1)return o;var x=g?jt(g,0,m).join(""):e.slice(0,m);if(u===i)return x+o;if(g&&(m+=x.length-m),Lo(u)){if(e.slice(m).search(u)){var T,A=x;for(u.global||(u=Ks(u.source,ae(Ka.exec(u))+"g")),u.lastIndex=0;T=u.exec(A);)var E=T.index;x=x.slice(0,E===i?m:E)}}else if(e.indexOf(Xe(u),m)!=m){var F=x.lastIndexOf(u);F>-1&&(x=x.slice(0,F))}return x+o}function O0(e){return e=ae(e),e&&Hh.test(e)?e.replace(za,op):e}var L0=Zn(function(e,t,s){return e+(s?" ":"")+t.toUpperCase()}),Mo=vc("toUpperCase");function gl(e,t,s){return e=ae(e),t=s?i:t,t===i?tp(e)?cp(e):Gd(e):e.match(t)||[]}var _l=j(function(e,t){try{return Ye(e,i,t)}catch(s){return Oo(s)?s:new Q(s)}}),N0=Ut(function(e,t){return nt(t,function(s){s=At(s),Dt(e,s,Io(e[s],e))}),e});function F0(e){var t=e==null?0:e.length,s=W();return e=t?pe(e,function(o){if(typeof o[1]!="function")throw new rt(p);return[s(o[0]),o[1]]}):[],j(function(o){for(var u=-1;++u<t;){var d=e[u];if(Ye(d[0],this,o))return Ye(d[1],this,o)}})}function M0(e){return og(st(e,y))}function Do(e){return function(){return e}}function D0(e,t){return e==null||e!==e?t:e}var k0=yc(),U0=yc(!0);function Qe(e){return e}function ko(e){return Zu(typeof e=="function"?e:st(e,y))}function B0(e){return Ju(st(e,y))}function W0(e,t){return Vu(e,st(t,y))}var q0=j(function(e,t){return function(s){return Nr(s,e,t)}}),H0=j(function(e,t){return function(s){return Nr(e,s,t)}});function Uo(e,t,s){var o=Re(t),u=Oi(t,o);s==null&&!(_e(t)&&(u.length||!o.length))&&(s=t,t=e,e=this,u=Oi(t,Re(t)));var d=!(_e(s)&&"chain"in s)||!!s.chain,g=Wt(e);return nt(u,function(m){var x=t[m];e[m]=x,g&&(e.prototype[m]=function(){var T=this.__chain__;if(d||T){var A=e(this.__wrapped__),E=A.__actions__=He(this.__actions__);return E.push({func:x,args:arguments,thisArg:e}),A.__chain__=T,A}return x.apply(e,Kt([this.value()],arguments))})}),e}function $0(){return Ee._===this&&(Ee._=gp),this}function Bo(){}function z0(e){return e=X(e),j(function(t){return ju(t,e)})}var Q0=_o(pe),G0=_o(bu),K0=_o(Ws);function vl(e){return So(e)?qs(At(e)):Sg(e)}function Y0(e){return function(t){return e==null?i:vn(e,t)}}var Z0=wc(),X0=wc(!0);function Wo(){return[]}function qo(){return!1}function J0(){return{}}function V0(){return""}function j0(){return!0}function e1(e,t){if(e=X(e),e<1||e>Dn)return[];var s=Ct,o=Ne(e,Ct);t=W(t),e-=Ct;for(var u=zs(o,t);++s<e;)t(s);return u}function t1(e){return K(e)?pe(e,At):Je(e)?[e]:He(kc(ae(e)))}function n1(e){var t=++dp;return ae(e)+t}var r1=ki(function(e,t){return e+t},0),i1=vo("ceil"),s1=ki(function(e,t){return e/t},1),o1=vo("floor");function a1(e){return e&&e.length?Ei(e,Qe,to):i}function u1(e,t){return e&&e.length?Ei(e,W(t,2),to):i}function c1(e){return Su(e,Qe)}function l1(e,t){return Su(e,W(t,2))}function f1(e){return e&&e.length?Ei(e,Qe,so):i}function h1(e,t){return e&&e.length?Ei(e,W(t,2),so):i}var d1=ki(function(e,t){return e*t},1),p1=vo("round"),g1=ki(function(e,t){return e-t},0);function _1(e){return e&&e.length?$s(e,Qe):0}function v1(e,t){return e&&e.length?$s(e,W(t,2)):0}return h.after=Bv,h.ary=Yc,h.assign=Tm,h.assignIn=ul,h.assignInWith=Xi,h.assignWith=Am,h.at=Rm,h.before=Zc,h.bind=Io,h.bindAll=N0,h.bindKey=Xc,h.castArray=Jv,h.chain=Qc,h.chunk=o_,h.compact=a_,h.concat=u_,h.cond=F0,h.conforms=M0,h.constant=Do,h.countBy=_v,h.create=Im,h.curry=Jc,h.curryRight=Vc,h.debounce=jc,h.defaults=Em,h.defaultsDeep=Om,h.defer=Wv,h.delay=qv,h.difference=c_,h.differenceBy=l_,h.differenceWith=f_,h.drop=h_,h.dropRight=d_,h.dropRightWhile=p_,h.dropWhile=g_,h.fill=__,h.filter=mv,h.flatMap=wv,h.flatMapDeep=xv,h.flatMapDepth=Sv,h.flatten=qc,h.flattenDeep=v_,h.flattenDepth=m_,h.flip=Hv,h.flow=k0,h.flowRight=U0,h.fromPairs=y_,h.functions=Um,h.functionsIn=Bm,h.groupBy=Cv,h.initial=w_,h.intersection=x_,h.intersectionBy=S_,h.intersectionWith=C_,h.invert=qm,h.invertBy=Hm,h.invokeMap=Tv,h.iteratee=ko,h.keyBy=Av,h.keys=Re,h.keysIn=ze,h.map=zi,h.mapKeys=zm,h.mapValues=Qm,h.matches=B0,h.matchesProperty=W0,h.memoize=Gi,h.merge=Gm,h.mergeWith=cl,h.method=q0,h.methodOf=H0,h.mixin=Uo,h.negate=Ki,h.nthArg=z0,h.omit=Km,h.omitBy=Ym,h.once=$v,h.orderBy=Rv,h.over=Q0,h.overArgs=zv,h.overEvery=G0,h.overSome=K0,h.partial=Eo,h.partialRight=el,h.partition=Iv,h.pick=Zm,h.pickBy=ll,h.property=vl,h.propertyOf=Y0,h.pull=R_,h.pullAll=$c,h.pullAllBy=I_,h.pullAllWith=E_,h.pullAt=O_,h.range=Z0,h.rangeRight=X0,h.rearg=Qv,h.reject=Lv,h.remove=L_,h.rest=Gv,h.reverse=Ao,h.sampleSize=Fv,h.set=Jm,h.setWith=Vm,h.shuffle=Mv,h.slice=N_,h.sortBy=Uv,h.sortedUniq=W_,h.sortedUniqBy=q_,h.split=w0,h.spread=Kv,h.tail=H_,h.take=$_,h.takeRight=z_,h.takeRightWhile=Q_,h.takeWhile=G_,h.tap=av,h.throttle=Yv,h.thru=$i,h.toArray=sl,h.toPairs=fl,h.toPairsIn=hl,h.toPath=t1,h.toPlainObject=al,h.transform=jm,h.unary=Zv,h.union=K_,h.unionBy=Y_,h.unionWith=Z_,h.uniq=X_,h.uniqBy=J_,h.uniqWith=V_,h.unset=e0,h.unzip=Ro,h.unzipWith=zc,h.update=t0,h.updateWith=n0,h.values=Vn,h.valuesIn=r0,h.without=j_,h.words=gl,h.wrap=Xv,h.xor=ev,h.xorBy=tv,h.xorWith=nv,h.zip=rv,h.zipObject=iv,h.zipObjectDeep=sv,h.zipWith=ov,h.entries=fl,h.entriesIn=hl,h.extend=ul,h.extendWith=Xi,Uo(h,h),h.add=r1,h.attempt=_l,h.camelCase=a0,h.capitalize=dl,h.ceil=i1,h.clamp=i0,h.clone=Vv,h.cloneDeep=em,h.cloneDeepWith=tm,h.cloneWith=jv,h.conformsTo=nm,h.deburr=pl,h.defaultTo=D0,h.divide=s1,h.endsWith=u0,h.eq=_t,h.escape=c0,h.escapeRegExp=l0,h.every=vv,h.find=yv,h.findIndex=Bc,h.findKey=Lm,h.findLast=bv,h.findLastIndex=Wc,h.findLastKey=Nm,h.floor=o1,h.forEach=Gc,h.forEachRight=Kc,h.forIn=Fm,h.forInRight=Mm,h.forOwn=Dm,h.forOwnRight=km,h.get=No,h.gt=rm,h.gte=im,h.has=Wm,h.hasIn=Fo,h.head=Hc,h.identity=Qe,h.includes=Pv,h.indexOf=b_,h.inRange=s0,h.invoke=$m,h.isArguments=bn,h.isArray=K,h.isArrayBuffer=sm,h.isArrayLike=$e,h.isArrayLikeObject=ye,h.isBoolean=om,h.isBuffer=en,h.isDate=am,h.isElement=um,h.isEmpty=cm,h.isEqual=lm,h.isEqualWith=fm,h.isError=Oo,h.isFinite=hm,h.isFunction=Wt,h.isInteger=tl,h.isLength=Yi,h.isMap=nl,h.isMatch=dm,h.isMatchWith=pm,h.isNaN=gm,h.isNative=_m,h.isNil=mm,h.isNull=vm,h.isNumber=rl,h.isObject=_e,h.isObjectLike=ve,h.isPlainObject=Br,h.isRegExp=Lo,h.isSafeInteger=ym,h.isSet=il,h.isString=Zi,h.isSymbol=Je,h.isTypedArray=Jn,h.isUndefined=bm,h.isWeakMap=wm,h.isWeakSet=xm,h.join=P_,h.kebabCase=f0,h.last=at,h.lastIndexOf=T_,h.lowerCase=h0,h.lowerFirst=d0,h.lt=Sm,h.lte=Cm,h.max=a1,h.maxBy=u1,h.mean=c1,h.meanBy=l1,h.min=f1,h.minBy=h1,h.stubArray=Wo,h.stubFalse=qo,h.stubObject=J0,h.stubString=V0,h.stubTrue=j0,h.multiply=d1,h.nth=A_,h.noConflict=$0,h.noop=Bo,h.now=Qi,h.pad=p0,h.padEnd=g0,h.padStart=_0,h.parseInt=v0,h.random=o0,h.reduce=Ev,h.reduceRight=Ov,h.repeat=m0,h.replace=y0,h.result=Xm,h.round=p1,h.runInContext=w,h.sample=Nv,h.size=Dv,h.snakeCase=b0,h.some=kv,h.sortedIndex=F_,h.sortedIndexBy=M_,h.sortedIndexOf=D_,h.sortedLastIndex=k_,h.sortedLastIndexBy=U_,h.sortedLastIndexOf=B_,h.startCase=x0,h.startsWith=S0,h.subtract=g1,h.sum=_1,h.sumBy=v1,h.template=C0,h.times=e1,h.toFinite=qt,h.toInteger=X,h.toLength=ol,h.toLower=P0,h.toNumber=ut,h.toSafeInteger=Pm,h.toString=ae,h.toUpper=T0,h.trim=A0,h.trimEnd=R0,h.trimStart=I0,h.truncate=E0,h.unescape=O0,h.uniqueId=n1,h.upperCase=L0,h.upperFirst=Mo,h.each=Gc,h.eachRight=Kc,h.first=Hc,Uo(h,function(){var e={};return Pt(h,function(t,s){ce.call(h.prototype,s)||(e[s]=t)}),e}(),{chain:!1}),h.VERSION=a,nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){h[e].placeholder=h}),nt(["drop","take"],function(e,t){te.prototype[e]=function(s){s=s===i?1:Ce(X(s),0);var o=this.__filtered__&&!t?new te(this):this.clone();return o.__filtered__?o.__takeCount__=Ne(s,o.__takeCount__):o.__views__.push({size:Ne(s,Ct),type:e+(o.__dir__<0?"Right":"")}),o},te.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),nt(["filter","map","takeWhile"],function(e,t){var s=t+1,o=s==qa||s==Rh;te.prototype[e]=function(u){var d=this.clone();return d.__iteratees__.push({iteratee:W(u,3),type:s}),d.__filtered__=d.__filtered__||o,d}}),nt(["head","last"],function(e,t){var s="take"+(t?"Right":"");te.prototype[e]=function(){return this[s](1).value()[0]}}),nt(["initial","tail"],function(e,t){var s="drop"+(t?"":"Right");te.prototype[e]=function(){return this.__filtered__?new te(this):this[s](1)}}),te.prototype.compact=function(){return this.filter(Qe)},te.prototype.find=function(e){return this.filter(e).head()},te.prototype.findLast=function(e){return this.reverse().find(e)},te.prototype.invokeMap=j(function(e,t){return typeof e=="function"?new te(this):this.map(function(s){return Nr(s,e,t)})}),te.prototype.reject=function(e){return this.filter(Ki(W(e)))},te.prototype.slice=function(e,t){e=X(e);var s=this;return s.__filtered__&&(e>0||t<0)?new te(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==i&&(t=X(t),s=t<0?s.dropRight(-t):s.take(t-e)),s)},te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},te.prototype.toArray=function(){return this.take(Ct)},Pt(te.prototype,function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),u=h[o?"take"+(t=="last"?"Right":""):t],d=o||/^find/.test(t);u&&(h.prototype[t]=function(){var g=this.__wrapped__,m=o?[1]:arguments,x=g instanceof te,T=m[0],A=x||K(g),E=function(ee){var ne=u.apply(h,Kt([ee],m));return o&&F?ne[0]:ne};A&&s&&typeof T=="function"&&T.length!=1&&(x=A=!1);var F=this.__chain__,B=!!this.__actions__.length,q=d&&!F,V=x&&!B;if(!d&&A){g=V?g:new te(this);var H=e.apply(g,m);return H.__actions__.push({func:$i,args:[E],thisArg:i}),new it(H,F)}return q&&V?e.apply(this,m):(H=this.thru(E),q?o?H.value()[0]:H.value():H)})}),nt(["pop","push","shift","sort","splice","unshift"],function(e){var t=gi[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);h.prototype[e]=function(){var u=arguments;if(o&&!this.__chain__){var d=this.value();return t.apply(K(d)?d:[],u)}return this[s](function(g){return t.apply(K(g)?g:[],u)})}}),Pt(te.prototype,function(e,t){var s=h[t];if(s){var o=s.name+"";ce.call(Gn,o)||(Gn[o]=[]),Gn[o].push({name:t,func:s})}}),Gn[Di(i,U).name]=[{name:"wrapper",func:i}],te.prototype.clone=Op,te.prototype.reverse=Lp,te.prototype.value=Np,h.prototype.at=uv,h.prototype.chain=cv,h.prototype.commit=lv,h.prototype.next=fv,h.prototype.plant=dv,h.prototype.reverse=pv,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=gv,h.prototype.first=h.prototype.head,Tr&&(h.prototype[Tr]=hv),h},$n=lp();hn?((hn.exports=$n)._=$n,Ds._=$n):Ee._=$n}).call(yb)}($r,$r.exports)),$r.exports}var vh=bb();async function wb(n){return(await(await fetch(`https://ac.rule34.xxx/autocomplete.php?q=${n}`)).json()).map(c=>({name:c.value,type:c.type??"general",count:_s(()=>parseInt(/\(([0-9]+)\)/.exec(c.label)[1]))??0}))}async function xb(n){if(!n)return[];if(n.startsWith("meta:"))return[{name:"meta:subscribed",type:"general"}];const r=a=>mb(a,n??"");let i=await wb(n);return i=vh.sortBy(i,a=>r(a.name)),_h(i),i}function Sb(n,r){const i=r===null?"":Cb(n,r),{data:a}=gs({queryFn:()=>xb(i),queryKey:["tag-autocomplete",i??""],placeholderData:K1});return a}const Cb=(n,r)=>{const i=n.split(" ");if(i.length===1)return i[0];let a=-1;for(const c of i)if(a+=c.length,a+=1,a>=r)return c},Pb="Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.",Tb=n=>l(St,{viewBox:"0 0 512 512",path:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z",props:n}),Ab=n=>l(St,{viewBox:"0 0 576 512",path:"M287.9 0c9.2 0 17.6 5.2 21.6 13.5l68.6 141.3 153.2 22.6c9 1.3 16.5 7.6 19.3 16.3s.5 18.1-5.9 24.5L433.6 328.4l26.2 155.6c1.5 9-2.2 18.1-9.7 23.5s-17.3 6-25.3 1.7l-137-73.2L151 509.1c-8.1 4.3-17.9 3.7-25.3-1.7s-11.2-14.5-9.7-23.5l26.2-155.6L31.1 218.2c-6.5-6.4-8.7-15.9-5.9-24.5s10.3-14.9 19.3-16.3l153.2-22.6L266.3 13.5C270.4 5.2 278.7 0 287.9 0zm0 79L235.4 187.2c-3.5 7.1-10.2 12.1-18.1 13.3L99 217.9 184.9 303c5.5 5.5 8.1 13.3 6.8 21L171.4 443.7l105.2-56.2c7.1-3.8 15.6-3.8 22.6 0l105.2 56.2L384.2 324.1c-1.3-7.7 1.2-15.5 6.8-21l85.9-85.1L358.6 200.5c-7.8-1.2-14.6-6.1-18.1-13.3L287.9 79z",props:n}),Rb=n=>l(St,{viewBox:"0 0 576 512",path:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z",props:n}),Ib=n=>l(St,{viewBox:"0 0 448 512",path:"M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z",props:n}),Eb=n=>l(St,{viewBox:"0 0 512 512",path:"M323.8 34.8c-38.2-10.9-78.1 11.2-89 49.4l-5.7 20c-3.7 13-10.4 25-19.5 35l-51.3 56.4c-8.9 9.8-8.2 25 1.6 33.9s25 8.2 33.9-1.6l51.3-56.4c14.1-15.5 24.4-34 30.1-54.1l5.7-20c3.6-12.7 16.9-20.1 29.7-16.5s20.1 16.9 16.5 29.7l-5.7 20c-5.7 19.9-14.7 38.7-26.6 55.5c-5.2 7.3-5.8 16.9-1.7 24.9s12.3 13 21.3 13L448 224c8.8 0 16 7.2 16 16c0 6.8-4.3 12.7-10.4 15c-7.4 2.8-13 9-14.9 16.7s.1 15.8 5.3 21.7c2.5 2.8 4 6.5 4 10.6c0 7.8-5.6 14.3-13 15.7c-8.2 1.6-15.1 7.3-18 15.2s-1.6 16.7 3.6 23.3c2.1 2.7 3.4 6.1 3.4 9.9c0 6.7-4.2 12.6-10.2 14.9c-11.5 4.5-17.7 16.9-14.4 28.8c.4 1.3 .6 2.8 .6 4.3c0 8.8-7.2 16-16 16l-97.5 0c-12.6 0-25-3.7-35.5-10.7l-61.7-41.1c-11-7.4-25.9-4.4-33.3 6.7s-4.4 25.9 6.7 33.3l61.7 41.1c18.4 12.3 40 18.8 62.1 18.8l97.5 0c34.7 0 62.9-27.6 64-62c14.6-11.7 24-29.7 24-50c0-4.5-.5-8.8-1.3-13c15.4-11.7 25.3-30.2 25.3-51c0-6.5-1-12.8-2.8-18.7C504.8 273.7 512 257.7 512 240c0-35.3-28.6-64-64-64l-92.3 0c4.7-10.4 8.7-21.2 11.8-32.2l5.7-20c10.9-38.2-11.2-78.1-49.4-89zM32 192c-17.7 0-32 14.3-32 32L0 448c0 17.7 14.3 32 32 32l64 0c17.7 0 32-14.3 32-32l0-224c0-17.7-14.3-32-32-32l-64 0z",props:n}),Ob=n=>l(St,{viewBox:"0 0 512 512",path:"M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2l144 0c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48l-97.5 0c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3l0-38.3 0-48 0-24.9c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192l64 0c17.7 0 32 14.3 32 32l0 224c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32L0 224c0-17.7 14.3-32 32-32z",props:n}),Lb=n=>l(St,{viewBox:"0 0 512 512",path:"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z",props:n}),Nb=n=>l(St,{viewBox:"0 0 448 512",path:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z",props:n}),Fb=n=>l(St,{viewBox:"0 0 512 512",path:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z",props:n}),Mb=n=>l(St,{viewBox:"0 0 512 512",path:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z",props:n}),Db=n=>l(St,{viewBox:"0 0 448 512",path:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z",props:n}),St=({viewBox:n,path:r,props:i})=>l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:n,"data-license":Pb,...i,children:l("path",{d:r})}),kb={search:Tb,upload:Lb,trash:Ib,"star-regular":Ab,"star-solid":Rb,"thumbsup-regular":Eb,"thumbsup-solid":Ob,"profile-solid":Nb,"info-solid":Fb,"settings-solid":Mb,"bars-solid":Db},_r=({icon:n,fill:r,size:i,...a})=>{const c=kb[n],f={fill:r??xn.link,...i?{width:i,height:i}:{},...a.style??{}};return l(c,{style:f,...a})},Ub=n=>{const[r,i]=Pe(ft(!1),"focused");return Lt(()=>{const a=n.current;if(!a)return;const{abort:c,signal:f}=new AbortController;return a.addEventListener("focus",()=>i(!0),{signal:f}),a.addEventListener("blur",()=>i(!1),{signal:f}),()=>c()},[n]),r},Bb=({initialSearch:n,onSubmit:r})=>{const[i,a]=Pe(ft(""),"search"),[c,f]=Pe(ft(null),"caretPosition"),[p,_]=Pe(ft(n.tags),"tags"),v=Pe(ls(null),"inputRef"),S=Ub(v),R=Sb(i,c),y=R==null?void 0:R.filter(L=>!p.includes(L.name)),O=S&&i.length>0,I=L=>{L.key!=="Backspace"||i!==""||(L.preventDefault(),_(N=>N.slice(0,-1)))},k=et(L=>{if(L.preventDefault(),!(i.length>0))r({tags:p});else{const U=p.includes(i)?p:[...p,i];_(U),a("")}},[r,i,p]);return l("div",{className:"relative h-8 w-full grid grid-cols-[1fr_3rem]",children:[l("div",{className:"pl-2 rounded-l-3 bg-bg-deep border-link-soft border border-r-0 flex items-center",children:[l("div",{className:"flex gap-2 pl-1",children:p.map(L=>l("button",{className:"flex gap-1 text-nowrap color-text-active rounded-1 bg-bg-highlight p-1",onClick:()=>_(N=>N.filter(U=>U!==L)),children:L}))}),l("form",{className:"w-full",onSubmit:k,children:l("input",{type:"text",ref:v,value:i,className:"!border-none w-full bg-transparent",onKeyUp:L=>{f(L.currentTarget.selectionStart)},onKeyDown:I,onChange:L=>{a(L.target.value)}})})]}),O&&l(eb,{onClick:L=>{_(N=>[...N,L]),a("")},tags:y??[]}),l("button",{className:Ke("flex items-center justify-center","bg-link-soft font-bold text-bg","border-solid border-y border-link-soft rounded-r-3"),onClick:()=>r({tags:p}),children:l(_r,{icon:"search",fill:xn.bg,size:"1.5rem"})})]})},ta=({href:n,icon:r,alt:i})=>l("a",{href:n,className:"flex items-center justify-center px-0 py-0 h-full !text-text-active",children:l(_r,{icon:r,size:"1.5rem",alt:i})}),ns=({href:n,current:r,label:i})=>l("a",{href:n,"data-current":r,className:Ke("flex items-center py-2 px-4 h-12 w-full text-lg text-text-active hover:underline",{"bg-bg-highlight":r}),style:{textShadow:"1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000"},children:l("span",{children:i})}),Wb=({type:n,open:r,onClose:i})=>{const{subscriptionsUrl:a}=vs();return l("div",{className:"sticky left-0 top-0 size-0 z-20",children:[l("nav",{className:Ke("sticky top-12 left-0 z-30 isolate","h-[calc(100vh_-_3rem)] w-48 bg-bg","flex flex-col justify-between","translate-x-0 transition-all duration-150 ease-out","aria-hidden:opacity-0 aria-hidden:-translate-x-full"),"aria-hidden":!r,children:[l("div",{className:"flex flex-col",children:[l(ns,{label:"Posts",href:"/index.php?page=post&s=list",current:n==="posts"}),l(ns,{label:"Subscriptions",href:a,current:n==="subscriptions"}),l(ns,{label:"Forum",href:"/index.php?page=forum&s=list",current:n==="forum"})]}),l("div",{className:"flex flex-col",children:l(ns,{label:"Help",href:"/index.php?page=help",current:n==="help"})})]}),l("div",{className:Ke("absolute w-screen h-screen inset-0 z-20","bg-black/30","transition-all duration-300 ease-out opacity-100","aria-hidden:opacity-0 aria-hidden:hidden"),"aria-hidden":!r,onClick:c=>{c.target.tagName==="DIV"&&i()}})]})},nf="block size-[var(--size)] bg-transparent !border-none !color-text-active seelct-none",qb=({icon:n,size:r,...i})=>"href"in i?l("a",{className:nf,href:i.href,style:{"--size":r},children:l(_r,{icon:n,size:r,className:"w-auto h-full"})}):l("button",{className:nf,onClick:()=>i.action(),children:l(_r,{icon:n,size:r,className:"w-auto h-full"})}),mh=({pageType:n})=>{const r=ch(),[i,a]=Pe(ft(!1),"sidebarOpen"),c=et(({tags:f})=>{const p={...r,tags:f},v="/index.php?page=post&s=list&"+Wa(p,{withNativeTags:!1}).toString();window.location.assign(v)},[r]);return l("div",{className:"sticky top-0 z-[100]",children:[l("header",{className:"h-12 sticky top-0 left-0 isolate px-4 z-[100]",children:l("nav",{className:"h-full flex items-center justify-center gap-6 font-bold bg-bg",children:[l("div",{children:l(qb,{icon:"bars-solid",size:"1.5rem",action:()=>a(f=>!f)})}),l(Bb,{initialSearch:r,onSubmit:c}),l(ta,{icon:"settings-solid",alt:"Settings",href:"/index.php?page=account&s=options"}),l(ta,{icon:"upload",alt:"Upload",href:"/index.php?page=post&s=add"}),l(ta,{icon:"profile-solid",alt:"Account",href:"/index.php?page=account&s=home"})]})}),l(Wb,{open:i,type:n,onClose:()=>a(!1)})]})},Hb=jr(null),na={didCatch:!1,error:null};class yh extends wt{constructor(r){super(r),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=na}static getDerivedStateFromError(r){return{didCatch:!0,error:r}}resetErrorBoundary(){const{error:r}=this.state;if(r!==null){for(var i,a,c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];(i=(a=this.props).onReset)===null||i===void 0||i.call(a,{args:f,reason:"imperative-api"}),this.setState(na)}}componentDidCatch(r,i){var a,c;(a=(c=this.props).onError)===null||a===void 0||a.call(c,r,i)}componentDidUpdate(r,i){const{didCatch:a}=this.state,{resetKeys:c}=this.props;if(a&&i.error!==null&&$b(r.resetKeys,c)){var f,p;(f=(p=this.props).onReset)===null||f===void 0||f.call(p,{next:c,prev:r.resetKeys,reason:"keys"}),this.setState(na)}}render(){const{children:r,fallbackRender:i,FallbackComponent:a,fallback:c}=this.props,{didCatch:f,error:p}=this.state;let _=r;if(f){const v={error:p,resetErrorBoundary:this.resetErrorBoundary};if(typeof i=="function")_=i(v);else if(a)_=pr(a,v);else if(c!==void 0)_=c;else throw p}return pr(Hb.Provider,{value:{didCatch:f,error:p,resetErrorBoundary:this.resetErrorBoundary}},_)}}function $b(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==r.length||n.some((i,a)=>!Object.is(i,r[a]))}const bh=n=>{const r=Ke("flex gap-2 justify-center items-center block size-[var(--size)] text-text rounded-2 bg-bg-highlight text-base py-1 px-2 border border-text-soft select-none hover:bg-bg-deep",n.className,n.disabled&&"opacity-70"),i="children"in n?n.children:n.text;if("href"in n){const a=n.disabled?void 0:n.href;return l("a",{className:r,href:a,children:i})}else return l("button",{className:r,disabled:n.disabled,onClick:()=>n.action(),children:i})},wh=({error:n,resetErrorBoundary:r})=>(console.log(n),l("div",{className:"flex flex-col justify-center items-center gap-4",children:[l("h3",{children:"Something went wrong!"}),l("pre",{className:"bg-bg-overlay text-red-400 p-4 text-lg rounded-2",children:n.message}),l("pre",{className:"bg-bg-overlay text-red-400 p-4 text-sm rounded-2 overflow-y-auto h-64 text-wrap w-full",children:n.stack}),l(bh,{action:r,children:"Try Again"})]})),zb=({children:n,currentPage:r})=>l(xt,{children:[l(mh,{pageType:r}),l(yh,{fallbackRender:wh,children:l(ss,{children:n})})]});function xh(n,r=void 0){const[i,a]=Pe(ft(!1),"hovering");return Lt(()=>{if(!n.current)return;const c=n.current;let f;const p=()=>{r?f=setTimeout(()=>a(!0),r):a(!0)},_=()=>{a(!1),f&&clearTimeout(f)};return c.addEventListener("mouseover",p),c.addEventListener("mouseout",_),()=>{c.removeEventListener("mouseover",p),c.removeEventListener("mouseout",_)}},[n,r]),i}async function Ia({search:n,page:r=0,limit:i=64}){return await Sh({limit:i,page:r,params:{tags:n}})}async function Qb(n){const{posts:r}=await Sh({params:{id:n},limit:1});if(r.length===1)return r[0]}async function Sh({limit:n=64,page:r=0,params:i={}}){const a=new URLSearchParams(i);a.set("limit",n.toString()),a.set("pid",r.toString());const f=await(await fetch(`https://api.rule34.xxx/index.php?page=dapi&s=post&q=index&${a.toString()}`)).text(),_=new DOMParser().parseFromString(f,"text/xml").querySelector("posts");if(!_)return{posts:[],remaining:0,total:0};const v=_.attributes.getNamedItem("count"),S=parseInt((v==null?void 0:v.nodeValue)??"0"),R=S-(r+1)*64;return{posts:Array.from(_.children).map(Gb).filter(I=>!!I),total:S,remaining:R}}const ra=(n,r)=>new URL(n).pathname.endsWith(r);function Gb(n){const r=Array.from(n.attributes).map(f=>[f.nodeName,f.nodeValue]),a=Object.fromEntries(r),c=ra(a.file_url,"mp4")||ra(a.file_url,"webm")?"video":ra(a.file_url,"gif")?"animation":"image";if(a.status!=="deleted")return{id:a.id,created_at:new Date(a.created_at),type:c,score:parseInt(a.score),source:a.source,tags:a.tags.split(" ").filter(f=>f!==""),full:{url:ia(a.file_url),height:parseInt(a.height),width:parseInt(a.width)},preview:{url:ia(a.sample_url),width:parseInt(a.sample_width),height:parseInt(a.sample_height)},thumbnail:{url:ia(a.preview_url),width:parseInt(a.preview_width),height:parseInt(a.preview_height)}}}const ia=n=>{let r=new URL(n);return r.host="rule34.xxx",r.toString()},Kb=async n=>{{let{posts:r}=await Ia({search:`${n} sort:score -video width:<2000 height:<2000`,limit:3});if(r.length===3)return r}{let{posts:r}=await Ia({search:`${n} score:>=100`,limit:3});return r}},Yb=({tag:n})=>{const{data:r}=gs({queryFn:et(()=>Kb(n),[n]),queryKey:["tag-preview",n]});if(r)return l("div",{className:Ke("absolute -top-52 h-48 p-4 z-[200]","flex flex-center gap-4","bg-bg-overlay rounded-2 border border-black border-solid"),children:r.map(i=>l("div",{className:"h-full w-32 object-cover rounded-4 overflow-hidden",children:l("img",{className:"size-full object-cover",src:i.thumbnail.url,width:i.thumbnail.width,height:i.thumbnail.height})},i.id))})},Zb=I1(({tag:{name:n,type:r,count:i},preview:a=!0})=>{const{checkSubscribed:c,addSubscription:f,removeSubscription:p}=vs(),_=c(n),v=Pe(ls(null),"linkRef"),S=xh(v,100),R=lh(n),y=fh(n),O=et(()=>{_?p(n):f(n)},[f,_,n,p]);return l("div",{className:"relative",children:[S&&a&&l(Yb,{tag:n}),l("div",{className:Ke("w-fit p-1 bg-bg-highlight","flex items-center gap-1","border-0 border-l-2 border-l-[var(--tag-color)] border-solid rounded-r-full"),style:{"--tag-color":Ba(r)},children:[l("a",{href:R,ref:v,className:"text-[var(--tag-color)] break-all no-underline hover:underline",children:y}),i&&l("span",{className:"tag-count",children:[" / ",ms(i)]}),l("button",{onClick:O,className:"bg-transparent",children:l(_r,{size:"0.75rem",icon:_?"star-solid":"star-regular"})})]})]})}),Xb=({tags:n})=>{const r=pb(n);return l("div",{className:"w-full flex flex-col gap-2",children:[l(Wr,{title:"Creator",tags:r.artist}),l(Wr,{title:"Characters",tags:r.character}),l(Wr,{title:"Copyright",tags:r.copyright}),l(Wr,{title:"General",tags:r.general}),l(Wr,{title:"Meta",tags:r.metadata})]})},Wr=({title:n,tags:r})=>r.length===0?null:l(xt,{children:[l("h3",{children:n}),l("div",{className:"w-full flex flex-row flex-wrap gap-x-4 gap-y-2",children:r.map(i=>l(Zb,{tag:i},i.name))})]});function Jb({comment:n}){return l("div",{className:"flex flex-col w-full h-fit p-2 bg-bg-highlight border border-black border-solid rounded-2",children:[l("div",{style:{display:"flex",gap:"1rem"},children:[l("a",{href:`index.php?page=account&s=profile&uname=${n.uploader.id}`,children:n.uploader.name}),l("span",{children:n.createdAt.toLocaleDateString()})]}),l("div",{children:n.text})]})}function Vb({xml:n,rootNodeName:r}){const i=new DOMParser().parseFromString(n,"text/xml"),a=i.querySelector(r);if(!a)throw new Error("Could not find root node");const f=Array.from(a.children).map(p=>{const _=Array.from(p.attributes).map(v=>[v.nodeName,v.nodeValue]);return Object.fromEntries(_)});return{document:i,nodes:f}}async function jb(n){const r=`https://api.rule34.xxx/index.php?page=dapi&s=comment&q=index&post_id=${n}`,a=await(await fetch(r)).text(),{nodes:c}=Vb({xml:a,rootNodeName:"comments"});return c.map(f=>({id:f.id,createdAt:new Date(f.created_at),text:f.body,uploader:{id:f.creator_id,name:f.creator}}))}const e2=({post_id:n,total:r,comments:i})=>{const[a,c]=Pe(ft(i),"comments"),f=a.length>=r;async function p(){const _=await jb(n);c(_)}return r===0?l("div",{}):l("div",{className:"w-full flex flex-col gap-2",children:[l("h4",{children:[r," Comments"]}),l("div",{className:"flex flex-col items-center gap-2",children:a.map(_=>l(Jb,{comment:_},_.id))}),l("div",{children:!f&&l(bh,{text:"Load More",action:p})})]})},t2=({post:n})=>l(xt,{children:l("div",{className:"flex flex-col gap-0.25 text-base",children:[l("span",{children:[Zy(n.created_at)," ",l("span",{className:"italic",children:["(",Xy(n.created_at)," ago)"]})]}),l("span",{children:[n.score," Score"]}),l("span",{children:[n.full.width,"x",n.full.height]})]})});function n2({post:n}){return l("img",{className:"h-full w-auto bg-contain bg-no-repeat bg-center mx-auto cursor-pointer object-contain",style:{backgroundImage:`url('${n.thumbnail.url}')`},src:n.full.url,width:n.full.width,height:n.full.height,onClick:()=>{location.href=n.full.url}})}const r2=({post:n})=>(console.log(n),l("div",{className:"w-full h-[calc(100vh_-_6rem)]",children:n.type==="video"?l("video",{src:n.full.url,poster:n.thumbnail.url,className:"h-full w-full relative bg-black px-1/10",controls:!0,loop:!0}):l(n2,{post:n})}));function i2(){return l("div",{className:"w-[calc(100%_-_4rem)] bg-link-soft rounded-2xl h-0.5"})}const Ch=({scale:n=1})=>{const r='<style>.spinner_qM83{animation:spinner_8HQG 1.05s infinite}.spinner_oXPr{animation-delay:.1s}.spinner_ZTLf{animation-delay:.2s}@keyframes spinner_8HQG{0%,57.14%{animation-timing-function:cubic-bezier(0.33,.66,.66,1);transform:translate(0)}28.57%{animation-timing-function:cubic-bezier(0.33,0,.66,.33);transform:translateY(-6px)}100%{transform:translate(0)}}</style><circle class="spinner_qM83" cx="4" cy="12" r="3"/><circle class="spinner_qM83 spinner_oXPr" cx="12" cy="12" r="3"/><circle class="spinner_qM83 spinner_ZTLf" cx="20" cy="12" r="3"/>',i=24*n,a=24*n;return l("div",{className:"size-full flex items-center justify-center fill-link-soft",style:{width:i,height:a},children:l("svg",{style:{transform:`scale(${n})`},width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",dangerouslySetInnerHTML:{__html:r}})})},rf=()=>l("div",{className:"size-full pt-[20%] flex items-center justify-center animate-fade-in",children:l(Ch,{scale:2})}),s2=({page:n})=>{const{data:r,isLoading:i,isError:a}=gs({queryKey:["post",n.id],queryFn:()=>Qb(n.id)});if(a)return location.replace("/"),l(rf,{});if(i||r===void 0)return l(rf,{});const c=r;return l("div",{className:"w-full p-4 flex flex-col items-center gap-4",children:[l(r2,{post:c}),l(i2,{}),l(yh,{fallbackRender:wh,children:l("div",{className:"w-full grid gap-8 p-8",style:{gridTemplateColumns:"20rem 3fr",gridTemplateRows:"auto auto"},children:[l(t2,{post:c}),l(Xb,{tags:n.tags}),l("div",{}),l("div",{className:"w-full max-w-160",children:l(e2,{post_id:c.id,total:n.totalComments,comments:n.comments})})]})})]})},o2=()=>l("div",{className:"help",children:[l("h1",{children:"Posts"}),l("p",{children:"A post represents a single file that's been uploaded. Each post can have several tags, comments, and notes. If you have an account, you can also add a post to your favorites."}),l("div",{className:"section",children:[l("h4",{children:"Search"}),l("p",{children:["Searching for posts is straightforward. Simply enter the tags you want to search for, separated by spaces. For example, searching for ",l("code",{children:"original panties"})," will return every post that has both the original tag"," ",l("strong",{children:"AND"})," the panties tag."]}),l("h4",{children:"Safe images only mode"}),l("p",{children:["Sometimes viewing all our images is a bit of a problem. You may not be in a location where it is acceptable to view adult content. We have a temporary, hacked together, way to only view safe images when searching our large image database. Not all images are rated correctly so you should not put too much faith into this.",l("br",{}),l("br",{}),"You are still able to view adult images if you click the links to the posts directly."]})]}),l("div",{className:"section",children:[l("h4",{children:"Tag List"}),l("p",{children:"In both the listing page and the show page you'll notice a list of tag links with characters next to them. Here's an explanation of what they do:"}),l("dl",{children:[l("dt",{children:"+"}),l("dd",{children:"This adds the tag to the current search."}),l("dt",{children:"–"}),l("dd",{children:"This adds the negated tag to the current search."}),l("dt",{children:"950"}),l("dd",{children:"The number next to the tag represents how many posts there are. This isn't always the total number of posts for that tag. It may be slightly out of date as cache isn't always refreshed."}),l("dt",{children:"Color"}),l("dd",{children:"Some tag links may be colored green, purple, or red. Green means the tag represents a character. Purple means the tag represents a copyright (things like anime, manga, games, or novels). Red means the tag represents an artist."})]}),l("p",{children:"When you're not searching for a tag, by default the tag list will show the last few tags added to the database. When you are searching for tags, the tag list will show related tags, alphabetically."})]}),l("h4",{children:"Types"}),l("p",{children:"Tags can be typed. Currently there are only three types: artist, character, and copyright."}),l("div",{className:"section",children:[l("h6",{children:"Artist"}),l("p",{children:["Artist tags identify the tag as the artist. This doesn't mean the artist of the original copyrighted artwork (for example, you wouldn't use the ",l("code",{children:"barasui"})," tag on a picture of Miu drawn by ",l("code",{children:"hanaharu_naruko"}),")."]}),l("p",{children:["When tagging something, you can tell Rule34 that a tag is an artist tag by prefixing it with ",l("code",{children:"artist:"}),". For example, tagging something ",l("code",{children:"artist:mark tree"})," ","will tag a post with ",l("code",{children:"mark"})," and ",l("code",{children:"tree"}),". If the ",l("code",{children:"mark"})," tag doesn't already exist, it'll be created with the tag type set to artist."]}),l("h6",{children:"Character"}),l("p",{children:'Character tags identify the tag as a character. They work exactly like artist tags, only you prefix with "character" (or "char").'}),l("h6",{children:"Copyright"}),l("p",{children:'The copyright type indicates the tag represents an anime, a game, a novel, or some sort of copyrighted setting. Otherwise they work identically to character and artist tags, only you prefix with "copyright" instead (or "copy").'})]}),l("h4",{children:"Artifacts"}),l("p",{children:"Artifacts are the residue of image processing usually left in the JPEG format. It makes the image look weird and blocky around parts of the drawing"}),l("div",{className:"section",children:[l("h6",{children:"Examples"}),l("p",{children:"For your convenience, here are links to some examples. Don't upload images with artifacts."}),l("p",{children:[l("a",{href:"/counter/help/images/1.jpg",children:"1 (No noticeable compression"}),") |"," ",l("a",{href:"/counter/help/images/2.jpg",children:"2 Light Compression"})," ","|"," ",l("a",{href:"/counter/help/images/3.jpg",children:"3 (Heavy Compression)"})," ","|"," ",l("a",{href:"/counter/help/images/4mspaint.jpg",children:"4 (Ms Paint compression)"})]})]})]}),a2=()=>l("div",{className:"help",children:[l("h1",{children:"Ratings"}),l("div",{className:"section",children:[l("p",{children:["All posts on Rule34 have one of three types of ratings: Safe, Questionable, and Explicit. Questionable is the default rating if you do not choose to specify one."," ",l("strong",{children:"Please take note"}),": occasionally explicit images will be marked safe, and vice versa. You should not depend completely on rating filters unless you can tolerate the occasional wrongly rated image. If this happens to you, fix it so that other users don't have that happen to them."]}),l("div",{className:"section",children:[l("h4",{children:"Explicit"}),l("p",{children:"Any image where the vagina or penis are exposed and easily visible. This includes depictions of sex, masturbation, or any sort of penetration."})]}),l("div",{className:"section",children:[l("h4",{children:"Safe"}),l("p",{children:["Safe posts are images that you would not feel guilty looking at openly in public. Pictures of nudes, exposed nipples or pubic hair, cameltoe, or any sort of sexually suggestive pose are ",l("b",{children:"NOT"})," safe and belong in questionable. Swimsuits and lingerie are borderline cases; some are safe, some are questionable."]})]}),l("div",{className:"section",children:[l("h4",{children:"Questionable"}),l("p",{children:"Basically anything that isn't safe or explicit. This is the great middle area, and since it includes unrated posts, you shouldn't really expect anything one way or the other when browsing questionable posts."})]}),l("div",{className:"section",children:[l("h4",{children:"Search"}),l("p",{children:["You can filter search results by querying for"," ",l("code",{children:"rating:safe"}),", ",l("code",{children:"rating:questionable"}),", or ",l("code",{children:"rating:explicit"}),". You can also combine them with other tags and they work as expected."]}),l("p",{children:["If you want to remove a rating from your search results, use"," ",l("code",{children:"-rating:safe"}),", ",l("code",{children:"-rating:questionable"}),", and ",l("code",{children:"-rating:explicit"}),"."]})]})]})]}),u2=()=>l("div",{className:"help",children:[l("h1",{children:"Forum"}),l("p",{children:"All forum posts are sanitized, meaning all HTML is escaped. That being said, there are a few features you can use:"}),l("div",{className:"section",children:[l("h4",{children:"URLs"}),l("p",{children:"Any URL starting with http:// will automatically be converted into a link."})]}),l("div",{className:"section",children:[l("h4",{children:"Post Link Shorthand"}),l("p",{children:"You can link to specific post/view pages using the following shorthand: [post]nnnn[/post], where nnnn is the id number of the post."})]}),l("div",{className:"section",children:[l("h4",{children:"Forum Link Shorthand"}),l("p",{children:"You can link to specific forum using the following shorthand: [forum]nnnn[/forum], where nnnn is the id number of the forum."})]}),l("div",{className:"section",children:[l("h4",{children:"Forum Post Link Shorthand"}),l("p",{children:"You can link to specific forum posts using the following shorthand: [forump]nnnn[/forump], where nnnn is the id number of the forum post."})]})]}),c2=()=>l("div",{className:"help",children:[l("h1",{children:"Pools"}),l("div",{className:"section",children:[l("p",{children:"Pools are groups of posts with a common theme. They are similar to favorites with three important differences: public pools allow anyone to add or remove from them, you can create multiple pools, and posts in a pool can be ordered. This makes pools ideal for subjective tags, or for posts that are part of a series (as is the case in cg sets)."}),l("p",{children:["If you're importing several posts into a pool, this process can become tedious. You can instead click on the Import link at the bottom of the pool's page. This allows you to execute a post search using any"," ",l("a",{href:"index.php?page=help&topic=cheatsheet",children:"tag combination"})," ","you would normally use. Remove any posts that are irrelevant to the pool, then finish the import process."]}),l("p",{children:"Pools can be private, public or personal. A private pool means you are the only person who can add or remove from it. In contrast, public pools can be updated by anyone, even anonymous users depending on current site restrictions, while personal pools are just that, personal. Only you have any access to view or make changes to it. This pool type is meant to be used as a favorite grouping system."}),l("p",{children:"To remove a post from a pool, go to the pool's page and select the Delete Mode checkbox. Then click on the posts you want to delete."})]})]}),l2=()=>l("div",{className:"help",children:[l("h1",{children:"Cheat Sheet"}),l("div",{className:"section",children:[l("h4",{children:"Searching"}),l("dt",{children:"tag1 tag2"}),l("dd",{children:"Search for posts that have tag1 and tag2."}),l("dt",{children:"( tag1 ~ tag2 )"}),l("dd",{children:["Search for posts that have tag1 or tag2. The braces are"," ",l("b",{children:"important"}),' to group the tags between which the "or" counts. The spaces between the braces and tags are also'," ",l("b",{children:"important"})," because some tags end in braces!"]}),l("dt",{children:"night~"}),l("dd",{children:["Fuzzy search for the tag night. This will return results such as night fight bright and so on according to the"," ",l("a",{href:"http://en.wikipedia.org/wiki/Levenshtein_distance",rel:"nofollow",target:"_blank",children:"Levenshtein distance"}),"."]}),l("dt",{children:"-tag1"}),l("dd",{children:"Search for posts that don't have tag1."}),l("dt",{children:"ta*1"}),l("dd",{children:"Search for posts with tags that starts with ta and ends with 1."}),l("dt",{children:"user:bob"}),l("dd",{children:"Search for posts uploaded by the user Bob."}),l("dt",{children:"md5:foo"}),l("dd",{children:"Search for posts with the MD5 hash foo."}),l("dt",{children:"md5:foo*"}),l("dd",{children:"Search for posts whose MD5 starts with the MD5 hash foo."}),l("dt",{children:"rating:questionable"}),l("dd",{children:"Search for posts that are rated questionable."}),l("dt",{children:"-rating:questionable"}),l("dd",{children:"Search for posts that are not rated questionable."}),l("dt",{children:"parent:1234"}),l("dd",{children:"Search for posts that have 1234 as a parent (and include post 1234)."}),l("dt",{children:"rating:questionable rating:safe"}),l("dd",{children:"In general, combining the same metatags (the ones that have colons in them) will not work."}),l("dt",{children:"rating:questionable parent:100"}),l("dd",{children:"You can combine different metatags, however."}),l("dt",{children:"width:>=1000 height:>1000"}),l("dd",{children:"Find images with a width greater than or equal to 1000 and a height greater than 1000."}),l("dt",{children:"score:>=10"}),l("dd",{children:"Find images with a score greater than or equal to 10. This value is updated once daily at 12AM CST."}),l("dt",{children:"sort:updated:desc"}),l("dd",{children:["Sort posts by their most recently updated order.",l("br",{}),l("br",{}),l("i",{children:l("b",{children:"Other sortable types:"})}),l("br",{}),l("div",{children:l("ul",{children:[l("li",{children:"id"}),l("li",{children:"score"}),l("li",{children:"rating"}),l("li",{children:"user"}),l("li",{children:"height"}),l("li",{children:"width"}),l("li",{children:"parent"}),l("li",{children:"source"}),l("li",{children:"updated"})]})}),"Can be sorted by both asc or desc."]})]})]}),f2=()=>l("div",{className:"help",children:[l("h1",{children:"API Basics"}),'You should never receive an error unless the server is overloaded or the search dies. In cases of the searcher breaking, you will receive a response success of "false" and a message stating "search down" or similiar.',l("br",{}),l("br",{}),l("div",{className:"section",children:[l("h2",{children:"Posts"}),l("h4",{children:"List"}),"Url for API access:"," ",l("b",{children:"https://api.rule34.xxx/index.php?page=dapi&s=post&q=index"}),l("br",{}),l("br",{}),l("ul",{children:[l("li",{children:[l("strong",{children:"limit"})," How many posts you want to retrieve. There is a hard limit of 1000 posts per request."]}),l("li",{children:[l("strong",{children:"pid"})," The page number."]}),l("li",{children:[l("strong",{children:"tags"})," The tags to search for. Any tag combination that works on the web site will work here. This includes all the meta-tags. See cheatsheet for more information."]}),l("li",{children:[l("strong",{children:"cid"})," Change ID of the post. This is in Unix time so there are likely others with the same value if updated at the same time."]}),l("li",{children:[l("strong",{children:"id"})," The post id."]}),l("li",{children:[l("strong",{children:"json"})," Set to 1 for JSON formatted response."]})]}),l("h4",{children:"Deleted Images"}),"Url for API access:"," ",l("b",{children:"https://api.rule34.xxx/index.php?page=dapi&s=post&q=index&deleted=show"}),l("br",{}),l("br",{}),l("ul",{children:l("li",{children:[l("strong",{children:"last_id"})," A numerical value. Will return everything above this number."]})})]}),l("div",{className:"section",children:[l("h2",{children:"Comments"}),l("h4",{children:"List"}),"Url for API access:"," ",l("b",{children:"https://api.rule34.xxx/index.php?page=dapi&s=comment&q=index"}),l("br",{}),l("br",{}),l("ul",{children:l("li",{children:[l("strong",{children:"post_id"})," The id number of the comment to retrieve."]})})]}),l("div",{className:"section",children:[l("h2",{children:"Tags"}),l("h4",{children:"List"}),"Url for API access:"," ",l("strong",{children:"https://api.rule34.xxx/index.php?page=dapi&s=tag&q=index"}),l("br",{}),l("br",{}),l("ul",{children:[l("li",{children:[l("strong",{children:"id"})," The tag's id in the database. This is useful to grab a specific tag if you already know this value."]}),l("li",{children:[l("strong",{children:"limit"})," How many tags you want to retrieve. There is a default limit of 100 per request.",l("br",{})]})]})]})]}),h2=()=>l("div",{className:"px-8",children:[l(o2,{}),l(a2,{}),l(u2,{}),l(c2,{}),l(l2,{}),l(f2,{})]}),d2="#tag-sidebar > li:not(:has(h6))";function Ph(){return _s(()=>ni(d2).map(p2).filter(r=>!!r))??[]}const p2=n=>{const r=n.className.replace("tag-type-","").replace(" tag",""),i=fn("a:last-of-type",n),a=new URL(i.href),c=er("tags",a.search);if(!c)return null;const f=fn(".tag-count",n);if(!f)return null;const p=parseInt(f.innerText,10);return{name:c,count:p,type:r}};async function g2(){const n=er("id"),r=Ph(),i=_s(_2)??{comments:[],totalCommentPages:0,totalComments:0},{comments:a,totalCommentPages:c,totalComments:f}=i;return{type:"post",id:n,tags:r,comments:a,totalCommentPages:c,totalComments:f}}function _2(){return{comments:ni("#comment-list>div").map(n=>({id:y2(n),createdAt:x2(n),text:b2(n),uploader:w2(n)})),totalComments:v2(),totalCommentPages:m2()}}const v2=()=>{try{const n=fn("#comment-list").innerText;return parseInt(/\d+ comments/g.exec(n)[0])}catch{return 0}},m2=()=>{const n=ni("#paginator>:not([alt], script)").map(i=>parseInt(i.innerText));return Math.max(...n)},y2=n=>n.id.slice(1),b2=n=>fn(".col2",n).innerText,w2=n=>{const r=fn(".col1 > a:first-child",n);if(!r)throw new Error;const i=r.innerText,a=er("uname",r.href);if(!a)throw new Error;return{id:a,name:i}},x2=n=>{var a;const i=(a=/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/g.exec(n.innerText))==null?void 0:a.pop();if(!i)throw new Error;return new Date(i)};async function S2(){return{type:"forum",posts:ni(".odd,.even").map(i=>_s(()=>C2(i))).filter(i=>!!i)}}const C2=n=>{const r=fn(".forum-topic>a",n),i=r.innerText,a=r.href,f=n.children[1].innerText,p=void 0,v=n.children[3].innerText,S=n.children[4],R=parseInt(S.innerText);return{title:i,link:a,creator:f,lastReplier:v,replyCount:R,lastUpdated:p}};async function P2(){const n=Th();if(n==="forum")return S2();if(n==="post")return await g2();if(n==="help")return{type:"help"};if(n==="options")return{type:"options"};if(n==="posts"||n==="subscriptions"){const a=Ph();return _h(a),{type:n,tags:a}}const r=n==="account"||n==="home"||n==="generic",i=fn("#content");if(i&&r)return{type:"generic",html:i.innerHTML}}const T2="Please enter the CAPTCHA to continue to rule34.xxx",Th=()=>{if(document.body.innerHTML.toLowerCase().includes(T2.toLowerCase()))return"captcha";let r=window.location.pathname;r.endsWith("/")&&(r=r.slice(0,-1));const i=er("page"),a=er("s");return er("subscriptions")?"subscriptions":i=="post"&&a=="list"?"posts":i=="post"&&a=="view"?"post":i=="account"&&a=="options"?"options":i=="account"?"account":i=="forum"?"forum":i=="help"?"help":r===""||r==="index.php"?"posts":"generic"};function A2(n){const{data:r,fetchNextPage:i}=Ay({queryKey:["posts",n.tags,n.sort,n.subscriptionsOnly],initialPageParam:0,queryFn:async({pageParam:_=0})=>{const v=await Ia({search:uh(n),page:_,limit:100});return{pageParam:_+1,data:v}},getNextPageParam:_=>_.pageParam}),a=Pe(On(()=>{const _=(r==null?void 0:r.pages)??[];let v=[];return _.forEach(S=>{v.push(...S.data.posts)}),v=Ny(v,S=>S.id),v},[r==null?void 0:r.pages]),"posts"),{total:c,remaining:f}=Pe(On(()=>{var R,y,O;const _=(O=(y=(R=r==null?void 0:r.pages)==null?void 0:R[0])==null?void 0:y.data)==null?void 0:O.total;if(!r||!_)return{total:null,remaining:null};const v=r.pages.map(I=>I.data.posts.length).reduce((I,k)=>I+k,0),S=_-v;return{total:_,remaining:S}},[r]),"total"),p=et(async()=>{await i({cancelRefetch:!1})},[i]);return Lt(()=>{i({cancelRefetch:!1})},[i]),{posts:a,remaining:f,total:c,nextPage:p}}const R2=({post:n,className:r})=>{const[i,a]=Pe(ft(null),"timeoutId");Lt(()=>{if(i)return()=>clearTimeout(i)},[i]);const c=f=>{f.duration?f.currentTime=f.duration/2:f.currentTime=1,f.playbackRate=.75,f.play();const p=setTimeout(()=>{f.pause(),f.src=""},4e3);a(p)};return l("div",{className:Ke("relative isolate overflow-hidden size-full",r),children:l("video",{className:"size-full object-cover",src:n.full.url,width:n.full.width,height:n.full.height,onLoadedMetadata:f=>c(f.currentTarget),poster:n.thumbnail.url,disablePictureInPicture:!0,playsInline:!0,muted:!0,autoPlay:!0,loop:!0})})},I2=({post:n})=>{const r=et(async()=>n!=null&&n.tags?(await gb(n.tags)).filter(({type:v})=>v==="artist")[0]:void 0,[n==null?void 0:n.tags]),{data:i}=gs({queryFn:r,queryKey:["thumbnail-artist",n==null?void 0:n.id]}),a=Pe(ls(null),"imageRef"),c=Pe(ls(null),"thumbnailRef"),f=xh(c,200);return Lt(()=>{const p=a.current;if(!p)return;const _=([S])=>{S.isIntersecting?p.loading="eager":p.loading="lazy"},v=new IntersectionObserver(_,{});return v.observe(p),()=>v.disconnect()}),l("a",{ref:c,href:n&&`/index.php?page=post&s=view&id=${n.id}`,className:Ke("flex flex-col flex-center","relative isolate overflow-hidden","bg-bg-highlight rounded-3 text-text-active no-underline"),style:{width:"var(--GRID-SIZE)",height:"calc(var(--GRID-SIZE) * 1.5)"},children:[l("div",{className:"size-full overflow-hidden bg-bg-deep group",children:n&&((n==null?void 0:n.type)==="video"&&f?l(R2,{post:n,className:"duration-300 origin-center scale-100 brightness-100 group-hover:brightness-50 group-hover:scale-110"}):l("img",{className:Ke("size-full object-cover","duration-300 origin-center scale-100 brightness-100 group-hover:brightness-50 group-hover:scale-110"),loading:"lazy",ref:a,src:n==null?void 0:n.thumbnail.url,width:n==null?void 0:n.thumbnail.width,height:n==null?void 0:n.thumbnail.height}))}),l("div",{className:Ke("h-8 w-full px-8 shadow-none flex justify-between items-center",{"bg-[#262955]":(n==null?void 0:n.type)==="video","bg-[#2d4e2c]":(n==null?void 0:n.type)==="animation"}),style:{textShadow:"none"},children:[l("span",{className:"text-link-artist",children:(i==null?void 0:i.name)??""}),n&&l("span",{children:["Score ",ms(n.score)]})]})]})},E2=({search:n})=>{const{posts:r,remaining:i,nextPage:a}=A2(n),c=et(f=>{if(!f)return;const p=new IntersectionObserver(async _=>{if(_[0].isIntersecting){if(i===0){p.disconnect();return}a()}});p.observe(f)},[a,i]);return l("div",{children:[l("div",{className:"grid justify-items-center gap-4 gap-x-2",style:{"--GRID-SIZE":"16rem",gridTemplateColumns:"repeat(auto-fit, minmax(var(--GRID-SIZE), 1fr))"},children:r.map(f=>l(I2,{post:f},f.id))}),l("div",{className:"w-full flex justify-center p-8",children:!!i&&l("span",{ref:c,children:l(Ch,{scale:2})})})]})},O2=({value:n,options:r,onSelect:i})=>{const a=et(c=>i(c.currentTarget.value),[i]);return l("select",{value:n,className:"h-fit rounded-1 p-1 text-text w-26",onChange:a,children:Ly(r).map(([c,f])=>l("option",{className:Ke({"text-text":c!==n,"text-text-active":c===n}),value:c,children:f}))})},L2=vh.memoize(({tag:n})=>{console.log(n);const r=fh(n.name),{removeSubscription:i}=vs(),a=lh(n.name);return l("div",{className:Ke("w-full max-w-40 min-h-7 p-1 pr-3","flex items-center justify-between gap-2","border-0 border-l-2 border-solid rounded-r-3","bg-bg-highlight border-l-[var(--tag-color)]"),style:{"--tag-color":Ba(n.type)},children:[l("a",{href:a,className:"text-[var(--tag-color)] break-all no-underline hover:underline",children:r}),n.count&&l("span",{className:"tag-count",children:[" / ",ms(n.count)]}),l("button",{onClick:()=>i(n.name),className:"bg-transparent",children:l(_r,{icon:"trash",size:"0.75rem"})})]})}),N2={[Ot.newest]:"Newest",[Ot.score]:"Top Rated",[Ot.hot]:"Hotest",[Ot.random]:"Random"},sf=()=>{const[n,r]=Pe(ft(()=>ch()),"search"),{subscriptions:i}=vs(),a=i.toSorted((p,_)=>p.name.localeCompare(_.name)),c=Th(),f=p=>{const _={...n,sort:p},S="/index.php?page=post&s=list&"+Wa(_,{withNativeTags:!1}).toString();history.replaceState(null,"",S),r(_)};return l("div",{className:"h-full relative grid grid-rows-[4rem_auto] grid-cols-[1fr_6fr_1fr]",children:[l("div",{className:"sticky top-10 z-10 flex items-center justify-around row-[1] col-[3]",children:l(O2,{options:N2,value:n.sort,onSelect:f})}),l("div",{className:"flex flex-col pl-4 gap-2 col-[1] row-[2]",children:c==="subscriptions"&&a.map(p=>l(L2,{tag:p}))}),l("div",{className:"h-full overflow-y-auto col-[2] row-[2]",children:l(E2,{search:n})})]})},F2=()=>l("div",{className:"px-4 py-2 flex flex-col gap-2",children:[l("h2",{children:"Blacklist"}),l("div",{className:"flex gap-2",children:[l("input",{id:"bl",type:"checkbox",value:"a"}),l("label",{htmlFor:"bl",children:"Gore"})]})]}),M2=({page:n})=>l(Xf,{children:l(zb,{currentPage:n.type,children:l(D2,{page:n})})}),D2=({page:n})=>n.type==="post"?l(s2,{page:n}):n.type==="help"?l(h2,{}):n.type==="posts"?l(sf,{}):n.type==="subscriptions"?l(sf,{}):n.type==="options"?l(F2,{}):n.type==="generic"?l("div",{id:"content",dangerouslySetInnerHTML:{__html:n.html}}):null,k2=["post","help","posts","subscriptions","generic","options"];async function U2(n){!k2.includes(n.type)?await W2(n):B2(n)}async function B2(n){document.body.innerHTML="",Jf(document.body).render(l(M2,{page:n})),Dy()}async function W2(n){const r=await Ry("#header");os("[data-nosnippet]"),os(".horizontalFlexWithMargins"),os("img[src$='r34chibi.png']"),r.id="rr-header",Jf(r).render(l(Xf,{children:l(mh,{pageType:n.type})}))}(async()=>{const n=await P2();!n||n.type==="captcha"||await U2(n)})();
;
(function(){
                    const el = document.createElement("style");
                    el.innerText = "body,div,h1,h2,h3,h4,h5,h6,p,ul,li,dd,dt{margin:0;padding:0}:where(a:link,a:visited,a:hover,a:active){color:var(--c-link);text-decoration:none}a.spoiler{cursor:text}div#static-index{text-align:center;display:flex;flex-direction:column;align-items:center}div#static-index>div#links>a{margin:0 .5em}div#static-more>div{float:left;width:25%}div#static-more>div>ul{margin-top:2em}div#static-more>div>ul>li{list-style-type:none;margin:0}addr{display:block;margin-left:2em;font-weight:700}code{font-family:monospace;font-size:1.2em}dd{margin-bottom:1em}dt{font-weight:700}h1{font-size:2em}h2{font-size:1.8em}h2.wiki-title{margin-bottom:.25em}h3{font-size:1.6em}h4{font-size:1.4em}h5{font-size:1.2em}h6{font-size:1em}img{border:none;vertical-align:middle}label{font-weight:700;white-space:nowrap}ol{margin-left:1em}p{margin-bottom:1em}span.informational{cursor:help}span.spoiler{cursor:text}span.plid{display:none}span.unread-topic,strong.divider{font-weight:700}textarea{display:block;padding:0 .3em;font-family:monospace;font-size:1.2em}textarea.no-block{display:inline}ul{margin-bottom:1em}ul.bare-list li{list-style-type:none}ul.flat-list{margin:0;padding:0}ul.flat-list li{display:inline;list-style-type:none;font-weight:700;padding:0;margin:0 1em 0 0}ul.flat-list li a{font-weight:400}ul.flat-list li a.forum-update{font-style:italic}ul.link-page{font-size:1.2em;font-weight:700}ul.link-page>li{margin:0;padding:0;list-style-type:none}.history-search-row{clear:left;margin:0;bottom:0}.history-search-label{width:10%;float:left}div#artist-index>table td{white-space:nowrap}div.auto_complete{width:350px}div.auto_complete ul{border:1px solid;margin:0;padding:0;width:100%;list-style-type:none}div.auto_complete ul li{margin:0;padding:3px}div.auto_complete ul strong.highlight{margin:0;padding:0}div.blocked{border:2px solid;font-size:1.2em;padding:1em;margin:1em;text-align:center}div#footer{margin-top:1em;text-align:center;font-size:120%;clear:both}div.has-mail{border:2px solid;padding:1em;margin:1em;font-size:1.5em;text-align:center}div.help{margin-top:2em}div.help a.code{font-family:monospace}div.help div.code{border:1px dashed;margin:1em 0;padding:1em 2em;overflow:hidden;font-family:monospace}div.help>div.section{margin-bottom:4em}div.help>div.section>div.section{margin-bottom:2em}div.help h1,div.help h2,div.help h3,div.help h4{margin:0 0 .5em}div#info{font-style:italic}div#mail-show div.message{margin-bottom:4em}div.notice{font-size:1.2em;font-weight:700;margin-bottom:1em;padding-left:20px}div.quote{margin-top:10px;padding:12px;text-align:justify;font-style:italic;font-size:12px;font-family:sans-serif,arial,tahoma;border:1px solid}div#related{margin:0 3em 1em 0}div#related>div.tag-column{float:left;margin:0 2em 2em 0;max-width:12em;height:35em}div#related>div.tag-column>a{margin-right:1em}div.sidebar li{list-style-type:none;margin:0;word-wrap:break-word}a.original-file-changed#highres{font-weight:700}div.status-notice{border:2px solid;padding:1em;margin:1em}div.status-notice p{margin:0}div#tag-list{text-align:center;margin-bottom:2em}div#tag-list>a{padding-right:5px}div.tips{background:#d9e6f7;border-bottom:1px solid #c9def8;padding:5px 5px 5px 20px;font-size:11px}div#forum>table th:first-child{text-align:left}div#forum>table td:first-child{text-align:left}div.response-list>div.post>div.content>div.footer{margin-top:1em}div.mailbuttons{font-size:15px;color:#dadada;text-align:center}div.mailhint{padding:25px;font-weight:700}div.mailheader{margin-bottom:5px}div.mailbody{margin:5px;border-style:solid;border-width:1px;padding:15px}div.mailtitle{font-weight:lighter;font-size:large}div.mailtitle>div{font-weight:bolder;padding-left:25px}#navbar li.current-page a{font-weight:700}.tradio{position:absolute;clip:rect(0,0,0,0)}div#paginator a{border:1px solid}div#paginator span{margin:0 3px;padding:2px 6px}.manual-page-chooser>input[type=text]{width:4em}img.flagged,img.has-children,img.has-parent,img.pending,img.video{border:3px solid}img.preview{margin:auto}div#post-add p#scale{font-style:italic}div#post-popular>h3{text-align:center;margin-bottom:1em}div#note-container{position:absolute}div#note-container>div.note-body{border:1px solid;display:none;max-width:300px;min-width:140px;min-height:10px;position:absolute;padding:5px;cursor:pointer;overflow:auto}div#note-container>div.note-body>p.tn{font-size:.8em}div#note-container>div.note-box{position:absolute;border:1px solid;width:150px;height:150px;cursor:move}div#note-container>div.note-box>div.note-corner{width:7px;height:7px;position:absolute;bottom:0;right:0;cursor:se-resize}div#note-container>div.unsaved{border:1px solid}div#post-view>div#right-col>div#edit{margin-bottom:2em;padding:1em}span.blacklisted-image{display:none}table{margin-bottom:2em}table.form p{font-size:.8em;font-weight:400;margin:0;padding:0}table.highlightable{border-collapse:collapse;border-spacing:0}table.highlightable td{border:1px dotted;margin:0}table.highlightable th{margin:0}table td{padding:1px 4px;vertical-align:top}table th{font-weight:700;text-align:left;vertical-align:top;padding:.2em .5em;white-space:nowrap}.unchanged-tags{font-size:.8em}div.wiki>h2.title{color:#009}div#wiki-show>div#body{line-height:2em;width:50em;text-align:left;float:left}div#wiki-show>div#body ul{line-height:1.2em;margin:0 0 0 1em}div#wiki-show>div#body>ul{margin-bottom:1em}div#wiki-show>div#body>div#byline{font-style:italic}div#wiki-diff>div#body{font-family:monospace;font-size:1.2em;margin-top:1em}div#wiki-diff del{text-decoration:line-through}div#post-comments{max-width:680px;margin-top:10px}div#post-comments div#comment-list>div{margin-bottom:1em}div#post-comments div#comment-list>div>div.col2{margin-top:10px}div#post-comments div#comment-list>div>div.col2>div.header{margin-bottom:1em}div#post-comments div#comment-list>div>div.col2>div.header>div>span.info{margin-right:1em}div#post-comments div#comment-list>div>div.col2>div.header>div.tags>span{margin:0 .5em 0 0}div#comments div#comment-list>div.post{float:left;clear:left;margin-bottom:3em}div#comments div#comment-list>div.post>div.col1{float:left;clear:left}div#comments div#comment-list>div.post>div.col2{float:left;width:50em}div#comments div#comment-list>div.post>div.col2>div.header{margin-bottom:1em}div#comments div#comment-list>div.post>div.col2>div.header>div>span.info{margin-right:1em}div#comments div#comment-list>div.post>div.col2>div.header>div.tags>span{margin:0 .5em 0 0}html{min-height:100%}body{font-size:80%;padding:0;margin:0}div#content{padding:0 20px 30px}div.sidebar{margin-right:1em;overflow:visible;max-width:200px}div.sidebarRight{padding-left:20px}div.verticalFlexWithMargins{display:flex;flex-direction:column;padding-top:5px;padding-bottom:5px}div.verticalFlexWithMargins>*{margin-top:5px;margin-bottom:5px}div.horizontalFlexWithMargins{display:flex;flex-direction:row;padding-left:5px;padding-right:5px}div.horizontalFlexWithMargins>*{margin-left:5px;margin-right:5px}li{margin-right:.5em}div.page,div.help{width:40em}input{padding:0 .3em}div.response-list{display:flex;flex-direction:column}div.response-list>div.post{margin-bottom:2em}div.response-list>div.post>div.author{float:left;width:15em;padding-right:1em;overflow-x:hidden}div.response-list>div.post>div.author>h6{font-size:1.3em}div.response-list>div.post>div.content{float:left;width:30em;padding:0 0 0 10px;margin:0}div.mailmessage{width:750px}div.mailbuttons :not(:last-child):after{content:\"  |\"}label[for=nav-trigger],.nav-trigger{display:none}div#header{margin-bottom:1em}div#header ul#subnavbar{padding:5px 20px 5px 15px;margin:0 0 1em}div#header ul#navbar{padding:5px 20px 3px 10px;margin:0}div#header ul#navbar li{font-size:120%;padding:2px 10px 3px;margin:0}div#header ul#navbar li.current-page a{font-weight:700}div#header ul#subnavbar li{padding:0 5px}div#header #site-title{padding:10px 20px 1px}div#paginator{display:block;padding:2em 0 1em;font-size:1em;text-align:center;clear:both}div#paginator a{margin:0 3px;padding:2px 6px}div#post-view,div#post-list,div.flexi{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start}div#upload-form table,div#edit-form table{width:850px}.thumb{display:inline-block;text-align:center;vertical-align:top;margin:0 10px 20px 0;width:200px;height:200px}.thumb img{max-width:100%;max-height:100%;vertical-align:middle}div.tag-search{padding-bottom:5px;width:150px}div.tag-search small{display:none}div.tag-search input[type=text]{width:100%;padding:0;clear:both;box-sizing:border-box}div.tag-search input[type=submit]{box-sizing:border-box;width:100%;border:1px solid;margin-top:3px}div.tag-search form br{display:none}div.tag-search{margin:0}table.form th{white-space:normal;padding-right:1em;text-align:right}table.form{width:70em}*{--c-bg: #303a30;--c-bg-alt: #293129;--c-bg-deep: #303030;--c-bg-highlight: #505a50;--c-bg-overlay: #242424e6;--c-text: #c0c0c0;--c-text-soft: #878787;--c-link: #b0e0b0;--c-link-soft: #93b393;--c-link-artist: #f0a0a0;--c-link-character: #f0f0a0;--c-link-copyright: #f0a0f0;--c-link-metadata: #90d9ed;--ff-narrow: \"tahoma\", \"trebuchet ms\", \"arial\", sans-serif}body{color:var(--c-text);background-color:var(--c-bg);background-image:none}a.last-page{color:#666}a.spoiler{color:#000;background:#000}a.spoiler:hover{color:#fff}.blacklisted-tags-disabled{color:#aaa}dt.bad{color:red}h2.wiki-title{color:#003dd8}:where(input[type=text],input[type=password],input[type=email],input[type=date],textarea,select){border-width:1px;border-style:solid;border-color:var(--c-bg-highlight);background-color:var(--c-bg-deep);color:var(--c-text)}input[type=submit],input[type=button],button{border-width:1px;border-style:solid;font-weight:700;color:var(--c-bg);border-color:var(--c-bg-highlight);background-color:var(--c-link-soft)}input[type=submit][disabled],input[type=button][disabled],button[disabled]{filter:saturate(0%) brightness(70%)}input[type=submit]:not([disabled]):active,input[type=button]:not([disabled]):active,button:not([disabled]):active{filter:invert(100%) hue-rotate(180deg)}input[type=submit][name=commit][style]{border-color:var(--c-bg-highlight);background-color:var(--c-link-soft)}input[type=text]:focus,input[type=password]:focus,textarea:focus{background-color:var(--c-bg-deep)}span.author,span.date{color:#aaa}span.locked-topic{color:#666}span.post-count{color:#aaa}span.spoiler{color:#000;background:#000}span.spoiler:hover{color:#fff}strong.divider{color:gray}div.auto_complete{background:#fff}div.auto_complete ul{border-color:#888}div.auto_complete ul li.selected{background-color:#ffb}div.auto_complete ul strong.highlight{color:#800}div.blocked{border-color:red;background:#fcc;color:red}div#footer{color:#ccc}div#footer>.footer-disabled{color:#777}div#footer>#label{color:#777}div.help div.code{border-color:green;background:#eee}div.help h4{color:unset}div.mail .received{color:#060}div.mail .sent{color:#600}div#notice{color:red}div.quote{background-color:var(--c-bg-highlight);border-color:var(--c-text)}div.status-notice,div.has-mail{border-width:1px;border-color:var(--c-bg-highlight);background-color:var(--c-bg-deep)}#post-list>div.status-notice,#post-view>div.status-notice{width:100%}.status-notice+br,.status-notice+br+br{display:none}div.tips{border-bottom-color:#c9def8}a.original-file-changed#highres{color:#0030fa}div#user-record>table>tbody>tr.positive-record{background:#efe}div#user-record>table>tbody>tr.negative-record{background:#fee}.blacklisted-image{filter:invert(100%) contrast(80%) brightness(145%)}img[src$=\"rule34.xxx/images/r34chibi.png\"],img[src$=\"rule34.xxx/icame.png\"],img[src$=\"rule34.xxx//icame.png\"]{opacity:.5}form[action=\"index.php?page=search\"]+small{display:none}div#wiki-show>div#body>div#byline{color:#666}div#wiki-diff del{background-color:#f88}div#wiki-diff ins{background-color:#8f8}.obsolete-tag-change{color:#000}.tag-type-artist>a,a.tag-type-artist,.tag-type-artist>a:hover,a.tag-type-artist:hover,.tag-type-artist{color:var(--c-link-artist)}.tag-type-character>a,a.tag-type-character,.tag-type-character>a:hover,a.tag-type-character:hover,.tag-type-character{color:var(--c-link-character)}.tag-type-copyright>a,a.tag-type-copyright,.tag-type-copyright>a:hover,a.tag-type-copyright:hover,.tag-type-copyright{color:var(--c-link-copyright)}.tag-type-metadata>a,a.tag-type-metadata,.tag-type-metadata>a:hover,a.tag-type-metadata:hover,.tag-type-metadata{color:var(--c-link-metadata)}.tag-count{color:var(--c-text-soft)}.added-tags{color:#0c0}.removed-tags{color:red}#tag-sidebar>li[class*=tag-type-]>span:not([class]){font-size:xx-small;font-family:var(--ff-narrow);color:var(--c-text-soft)}#tag-sidebar>li[class*=tag-type-]>span:not([class])[style]{color:var(--c-text-soft)}tr.tableheader,thead tr{background-color:var(--c-bg-highlight)}tr.tableheader,thead tr,table.highlightable>tbody>tr{background-image:unset}table.form th{color:unset}table.highlightable>tbody>tr:not(.tableheader):hover{background-color:unset}table.highlightable th{color:#fff}table.highlightable td{border-color:#eee}table tr.good{background:#e6ffe6}table tr.selected{background:#aee}table tr.highlight{background:#ffd}table tr.pending-tag{background-color:var(--c-bg-alt)}img.flagged{border-color:red}img.has-children{border-color:#0f0}img.has-parent{border-color:#cc0}img.pending,img.video{border-color:#00f}div#post-add p#scale{color:#999}div#note-container>div.note-body,div#note-container>#edit-box{background:var(--c-bg-overlay);border-color:#000}div#note-container>div.note-body>p.tn{color:var(--c-text)}tn{color:gray}div#note-container>div.note-box{border-color:#000;background:#ffe}div#note-container>div.note-box>div.note-corner{background:#000}div#note-container>div.unsaved{background:#fff;border-color:red}div#note-container>div.unsaved>div.note-corner{background:red}div.response-list>div.post>div.content>div.footer{color:#ccc}div.response-list>div.post>div.content>div.footer a{color:var(--c-link)}div#paginator a:hover{background-color:var(--c-link-soft);color:var(--c-link)}#navbar li.current-page a{color:unset}.tlabel{background-color:var(--c-link-soft);outline:.2rem solid var(--c-link-soft)}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-top-52{top:-13rem}.left-0{left:0}.top-0{top:0}.top-10{top:2.5rem}.top-12{top:3rem}.top-8{top:2rem}.isolate{isolation:isolate}.-z-20{z-index:-20}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-\\[100\\]{z-index:100}.z-\\[200\\]{z-index:200}.col-\\[1\\]{grid-column:1}.col-\\[2\\]{grid-column:2}.col-\\[3\\]{grid-column:3}.row-\\[1\\]{grid-row:1}.row-\\[2\\]{grid-row:2}.mx-auto{margin-left:auto;margin-right:auto}.block{display:block}.flex{display:flex}.grid{display:grid}.size-0{width:0px;height:0px}.size-4{width:1rem;height:1rem}.size-\\[var\\(--size\\)\\]{width:var(--size);height:var(--size)}.size-full{width:100%;height:100%}.h-0\\.5{height:.125rem}.h-12{height:3rem}.h-48{height:12rem}.h-64{height:16rem}.h-8{height:2rem}.h-\\[calc\\(100vh_-_3rem\\)\\]{height:calc(100vh - 3rem)}.h-\\[calc\\(100vh_-_6rem\\)\\]{height:calc(100vh - 6rem)}.h-fit{height:-moz-fit-content;height:fit-content}.h-full{height:100%}.h-screen{height:100vh}.min-h-7{min-height:1.75rem}.w-32{width:8rem}.w-48{width:12rem}.w-\\[calc\\(100\\%_-_4rem\\)\\]{width:calc(100% - 4rem)}.w-auto{width:auto}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.w-screen{width:100vw}.max-w-160{max-width:40rem}.max-w-40{max-width:10rem}.origin-center{transform-origin:center}.translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}}.animate-fade-in{animation:1s ease-out 1s 1 running fade-in forwards}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.grid-cols-\\[1fr_3rem\\]{grid-template-columns:1fr 3rem}.grid-cols-\\[1fr_6fr_1fr\\]{grid-template-columns:1fr 6fr 1fr}.grid-rows-\\[4rem_auto\\]{grid-template-rows:4rem auto}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-items-center{justify-items:center}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-x-4{-moz-column-gap:1rem;column-gap:1rem}.gap-y-2{row-gap:.5rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.text-wrap{text-wrap:wrap}.text-nowrap{text-wrap:nowrap}.break-all{word-break:break-all}.rounded-1{border-radius:.25rem}.rounded-2{border-radius:.5rem}.rounded-2xl{border-radius:1rem}.rounded-3{border-radius:.75rem}.rounded-4{border-radius:1rem}.rounded-b-2{border-bottom-right-radius:.5rem;border-bottom-left-radius:.5rem}.rounded-l-3{border-top-left-radius:.75rem;border-bottom-left-radius:.75rem}.rounded-r-3{border-top-right-radius:.75rem;border-bottom-right-radius:.75rem}.rounded-r-full{border-top-right-radius:9999px;border-bottom-right-radius:9999px}.border{border-width:1px}.border-0{border-width:0px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-l-2{border-left-width:2px}.border-r-0{border-right-width:0px}.border-solid{border-style:solid}.\\!border-none{border-style:none!important}.border-none{border-style:none}.border-black{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity, 1))}.border-link-soft{border-color:var(--r-link-soft)}.border-text-soft{border-color:var(--r-text-soft)}.border-l-\\[var\\(--tag-color\\)\\]{border-left-color:var(--tag-color)}.bg-\\[\\#262955\\]{--tw-bg-opacity: 1;background-color:rgb(38 41 85 / var(--tw-bg-opacity, 1))}.bg-\\[\\#2d4e2c\\]{--tw-bg-opacity: 1;background-color:rgb(45 78 44 / var(--tw-bg-opacity, 1))}.bg-bg{background-color:var(--r-bg)}.bg-bg-alt{background-color:var(--r-bg-alt)}.bg-bg-deep{background-color:var(--r-bg-deep)}.bg-bg-highlight{background-color:var(--r-bg-highlight)}.bg-bg-overlay{background-color:var(--r-bg-overlay)}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-black\\/30{background-color:#0000004d}.bg-link-soft{background-color:var(--r-link-soft)}.bg-transparent{background-color:transparent}.bg-contain{background-size:contain}.bg-center{background-position:center}.bg-no-repeat{background-repeat:no-repeat}.fill-link-soft{fill:var(--r-link-soft)}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-0{padding-left:0;padding-right:0}.px-1\\/10{padding-left:10%;padding-right:10%}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0{padding-top:0;padding-bottom:0}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.pl-1{padding-left:.25rem}.pl-2{padding-left:.5rem}.pl-4{padding-left:1rem}.pr-3{padding-right:.75rem}.pt-\\[20\\%\\]{padding-top:20%}.text-left{text-align:left}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-bold{font-weight:700}.italic{font-style:italic}.\\!text-text-active{color:var(--r-link)!important}.text-\\[var\\(--tag-color\\)\\]{color:var(--tag-color)}.text-bg{color:var(--r-bg)}.text-link{color:var(--r-link-soft)}.text-link-artist{color:var(--r-link-artist)}.text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-text{color:var(--r-text)}.text-text-active{color:var(--r-link)}.no-underline{text-decoration-line:none}.opacity-100{opacity:1}.opacity-70{opacity:.7}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.brightness-100{--tw-brightness: brightness(1);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-300{transition-duration:.3s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.\\!color-text-active{color:var(--r-link)!important}.color-text-active{color:var(--r-link)}.flex-center{justify-content:center;align-items:center}.pixelated{image-rendering:pixelated}body{font-family:verdana,sans-serif;background:var(--r-bg);color:var(--r-text);font-size:80%;overflow-x:hidden}:where(button){all:unset;cursor:pointer}:where(button)[disabled]{cursor:unset}div#content{padding:1rem}:scope:focus,:scope:active{outline:inherit;border:inherit}#rr-header{position:sticky;top:0;z-index:1000;margin:0!important}*,*:before,*:after{box-sizing:border-box}*{margin:0}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}:where(input:focus,input:active){outline:unset;border:unset}li{list-style-position:inside}.hover\\:bg-bg-deep:hover{background-color:var(--r-bg-deep)}.hover\\:underline:hover{text-decoration-line:underline}.focus\\:border-none:focus{border-style:none}.focus\\:underline:focus{text-decoration-line:underline}.group:hover .group-hover\\:scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:brightness-50{--tw-brightness: brightness(.5);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.aria-hidden\\:hidden[aria-hidden=true]{display:none}.aria-hidden\\:-translate-x-full[aria-hidden=true]{--tw-translate-x: -100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.aria-hidden\\:opacity-0[aria-hidden=true]{opacity:0}\n";
                    el.type = "text/css";
                    document.head.appendChild(el);
                })();
